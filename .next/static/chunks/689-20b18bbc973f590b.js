(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[689],{1025:function(fg,b7,d){"use strict";d.d(b7,{Z:function(){return Bj}});var fh,Z,x,fi,aQ,aR,aS,fj,aT,aU,aV,aW,al,aX,am={};d.r(am),d.d(am,{catmullRomToBezier:function(){return gY},fillPath:function(){return hj},fillPathByDiff:function(){return hn},formatPath:function(){return hq},intersection:function(){return hg},parsePathArray:function(){return g4},parsePathString:function(){return gX},pathToAbsolute:function(){return g$},pathToCurve:function(){return g2},rectPath:function(){return ha}});var aY={};d.r(aY),d.d(aY,{easeBack:function(){return jz},easeBackIn:function(){return jx},easeBackInOut:function(){return jz},easeBackOut:function(){return jy},easeBounce:function(){return jv},easeBounceIn:function(){return ju},easeBounceInOut:function(){return jw},easeBounceOut:function(){return jv},easeCircle:function(){return jm},easeCircleIn:function(){return jk},easeCircleInOut:function(){return jm},easeCircleOut:function(){return jl},easeCubic:function(){return i8},easeCubicIn:function(){return i6},easeCubicInOut:function(){return i8},easeCubicOut:function(){return i7},easeElastic:function(){return jC},easeElasticIn:function(){return jB},easeElasticInOut:function(){return jD},easeElasticOut:function(){return jC},easeExp:function(){return jj},easeExpIn:function(){return jh},easeExpInOut:function(){return jj},easeExpOut:function(){return ji},easeLinear:function(){return i2},easePoly:function(){return jb},easePolyIn:function(){return i9},easePolyInOut:function(){return jb},easePolyOut:function(){return ja},easeQuad:function(){return i5},easeQuadIn:function(){return i3},easeQuadInOut:function(){return i5},easeQuadOut:function(){return i4},easeSin:function(){return jf},easeSinIn:function(){return jd},easeSinInOut:function(){return jf},easeSinOut:function(){return je}});var aZ={};d.r(aZ),d.d(aZ,{assign:function(){return cz},default:function(){return lt},defaultI18n:function(){return bx},format:function(){return cE},parse:function(){return cF},setGlobalDateI18n:function(){return cC},setGlobalDateMasks:function(){return cD}});var a$={};d.r(a$),d.d(a$,{Arc:function(){return mx},DataMarker:function(){return mA},DataRegion:function(){return mB},Html:function(){return mF},Image:function(){return mz},Line:function(){return mv},Region:function(){return my},RegionFilter:function(){return mC},Shape:function(){return mD},Text:function(){return mw}});var a_={};d.r(a_),d.d(a_,{ellipsisHead:function(){return mJ},ellipsisMiddle:function(){return mL},ellipsisTail:function(){return mK},getDefault:function(){return mI}});var a0={};d.r(a0),d.d(a0,{equidistance:function(){return mU},equidistanceWithReverseBoth:function(){return mV},getDefault:function(){return mQ},reserveBoth:function(){return mT},reserveFirst:function(){return mR},reserveLast:function(){return mS}});var a1={};d.r(a1),d.d(a1,{fixedAngle:function(){return mY},getDefault:function(){return mX},unfixedAngle:function(){return mZ}});var a2={};d.r(a2),d.d(a2,{autoEllipsis:function(){return a_},autoHide:function(){return a0},autoRotate:function(){return a1}});var a3={};d.r(a3),d.d(a3,{Base:function(){return bI},Circle:function(){return m_},Html:function(){return m1},Line:function(){return m$}});var a4={};d.r(a4),d.d(a4,{CONTAINER_CLASS:function(){return cX},CROSSHAIR_X:function(){return c1},CROSSHAIR_Y:function(){return c2},LIST_CLASS:function(){return cZ},LIST_ITEM_CLASS:function(){return c$},MARKER_CLASS:function(){return c_},NAME_CLASS:function(){return m7},TITLE_CLASS:function(){return cY},VALUE_CLASS:function(){return c0}});var a5={};d.r(a5),d.d(a5,{Base:function(){return w},Circle:function(){return pY},Ellipse:function(){return p$},Image:function(){return p0},Line:function(){return p2},Marker:function(){return p4},Path:function(){return qd},Polygon:function(){return qf},Polyline:function(){return qg},Rect:function(){return qh},Text:function(){return qi}});var an={};d.r(an),d.d(an,{AbstractCanvas:function(){return bo},AbstractGroup:function(){return bp},AbstractShape:function(){return bq},Base:function(){return bb},Canvas:function(){return qm},Event:function(){return hr},Group:function(){return pX},PathUtil:function(){return am},Shape:function(){return a5},assembleFont:function(){return km},getArcParams:function(){return pE},getBBoxMethod:function(){return jP},getOffScreenContext:function(){return kj},getTextHeight:function(){return kk},invert:function(){return h0},isAllowCapture:function(){return hv},multiplyVec2:function(){return h_},registerBBox:function(){return s},registerEasing:function(){return jF},version:function(){return qn}});var a6={};d.r(a6),d.d(a6,{Base:function(){return q},Circle:function(){return qy},Dom:function(){return qz},Ellipse:function(){return qA},Image:function(){return qB},Line:function(){return qC},Marker:function(){return qF},Path:function(){return qG},Polygon:function(){return qH},Polyline:function(){return qI},Rect:function(){return qJ},Text:function(){return qN}});var ao={};d.r(ao),d.d(ao,{AbstractCanvas:function(){return bo},AbstractGroup:function(){return bp},AbstractShape:function(){return bq},Base:function(){return bb},Canvas:function(){return q_},Event:function(){return hr},Group:function(){return qx},PathUtil:function(){return am},Shape:function(){return a6},assembleFont:function(){return km},getBBoxMethod:function(){return jP},getOffScreenContext:function(){return kj},getTextHeight:function(){return kk},invert:function(){return h0},isAllowCapture:function(){return hv},multiplyVec2:function(){return h_},registerBBox:function(){return s},registerEasing:function(){return jF},version:function(){return q0}});var a7={};d.r(a7),d.d(a7,{cluster:function(){return yj},hierarchy:function(){return e4},pack:function(){return yD},packEnclose:function(){return yk},packSiblings:function(){return yy},partition:function(){return x7},stratify:function(){return yL},tree:function(){return yR},treemap:function(){return yV},treemapBinary:function(){return yW},treemapDice:function(){return x6},treemapResquarify:function(){return yY},treemapSlice:function(){return yS},treemapSliceDice:function(){return yX},treemapSquarify:function(){return yU}});var a8=d(7294),fk=function(a,b){return(fk=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(c,a){for(var b in a)Object.prototype.hasOwnProperty.call(a,b)&&(c[b]=a[b])})(a,b)};function fl(b,a){if("function"!=typeof a&&null!==a)throw TypeError("Class extends value "+String(a)+" is not a constructor or null");function c(){this.constructor=b}fk(b,a),b.prototype=null===a?Object.create(a):(c.prototype=a.prototype,new c)}var n=function(){return(n=Object.assign||function(d){for(var a,b=1,e=arguments.length;b<e;b++)for(var c in a=arguments[b])Object.prototype.hasOwnProperty.call(a,c)&&(d[c]=a[c]);return d}).apply(this,arguments)};function fm(b,e){var d={};for(var a in b)Object.prototype.hasOwnProperty.call(b,a)&&0>e.indexOf(a)&&(d[a]=b[a]);if(null!=b&&"function"==typeof Object.getOwnPropertySymbols)for(var c=0,a=Object.getOwnPropertySymbols(b);c<a.length;c++)0>e.indexOf(a[c])&&Object.prototype.propertyIsEnumerable.call(b,a[c])&&(d[a[c]]=b[a[c]]);return d}function fn(b,c,a,d){return new(a||(a=Promise))(function(f,g){function h(a){try{e(d.next(a))}catch(b){g(b)}}function i(a){try{e(d.throw(a))}catch(b){g(b)}}function e(b){var c;b.done?f(b.value):((c=b.value)instanceof a?c:new a(function(a){a(c)})).then(h,i)}e((d=d.apply(b,c||[])).next())})}function fo(b,c){var d,e,f,a,g={label:0,sent:function(){if(1&f[0])throw f[1];return f[1]},trys:[],ops:[]};return a={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function h(a){return function(b){return i([a,b])}}function i(a){if(d)throw TypeError("Generator is already executing.");for(;g;)try{if(d=1,e&&(f=2&a[0]?e.return:a[0]?e.throw||((f=e.return)&&f.call(e),0):e.next)&&!(f=f.call(e,a[1])).done)return f;switch(e=0,f&&(a=[2&a[0],f.value]),a[0]){case 0:case 1:f=a;break;case 4:return g.label++,{value:a[1],done:!1};case 5:g.label++,e=a[1],a=[0];continue;case 7:a=g.ops.pop(),g.trys.pop();continue;default:if(!(f=(f=g.trys).length>0&&f[f.length-1])&&(6===a[0]||2===a[0])){g=0;continue}if(3===a[0]&&(!f||a[1]>f[0]&&a[1]<f[3])){g.label=a[1];break}if(6===a[0]&&g.label<f[1]){g.label=f[1],f=a;break}if(f&&g.label<f[2]){g.label=f[2],g.ops.push(a);break}f[2]&&g.ops.pop(),g.trys.pop();continue}a=c.call(b,g)}catch(h){a=[6,h],e=0}finally{d=f=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}}function fp(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")}function fq(c,f){var a="function"==typeof Symbol&&c[Symbol.iterator];if(!a)return c;var b,d,e=a.call(c),g=[];try{for(;(void 0===f||f-- >0)&&!(b=e.next()).done;)g.push(b.value)}catch(h){d={error:h}}finally{try{b&&!b.done&&(a=e.return)&&a.call(e)}finally{if(d)throw d.error}}return g}function fr(){for(var c=0,a=0,d=arguments.length;a<d;a++)c+=arguments[a].length;for(var e=Array(c),f=0,a=0;a<d;a++)for(var g=arguments[a],b=0,h=g.length;b<h;b++,f++)e[f]=g[b];return e}function fs(d,b,e){if(e||2===arguments.length)for(var c,a=0,f=b.length;a<f;a++)!c&&a in b||(c||(c=Array.prototype.slice.call(b,0,a)),c[a]=b[a]);return d.concat(c||Array.prototype.slice.call(b))}function ft(a){return this instanceof ft?(this.v=a,this):new ft(a)}var fu=function(a){return null!==a&&"function"!=typeof a&&isFinite(a.length)},fv=function(a,b){return!!fu(a)&&a.indexOf(b)> -1},fw=function(a,e){if(!fu(a))return a;for(var c=[],b=0;b<a.length;b++){var d=a[b];e(d,b)&&c.push(d)}return c},fx={}.toString,fy=function(a,b){return fx.call(a)==="[object "+b+"]"},fz=function(a){return fy(a,"Function")},fA=function(a){return null==a},fB=function(a){return Array.isArray?Array.isArray(a):fy(a,"Array")},fC=function(a){var b=typeof a;return null!==a&&"object"===b||"function"===b},I=function(a,d){if(a){if(fB(a))for(var f,b=0,e=a.length;b<e&& !1!==d(a[b],b);b++);else if(fC(a)){for(var c in a)if(a.hasOwnProperty(c)&& !1===d(a[c],c))break}}},fD=Object.keys?function(a){return Object.keys(a)}:function(a){var b=[];return I(a,function(d,c){fz(a)&&"prototype"===c||b.push(c)}),b},fE=function(a,d){var e=fD(d),f=e.length;if(fA(a))return!f;for(var b=0;b<f;b+=1){var c=e[b];if(d[c]!==a[c]||!(c in a))return!1}return!0},fF=function(a){return"object"==typeof a&&null!==a},fG=function(a){if(!fF(a)||!fy(a,"Object"))return!1;if(null===Object.getPrototypeOf(a))return!0;for(var b=a;null!==Object.getPrototypeOf(b);)b=Object.getPrototypeOf(b);return Object.getPrototypeOf(a)===b},fH=function(a,c){if(!fB(a))return null;if(fz(c)&&(d=c),fG(c)&&(d=function(a){return fE(a,c)}),d){for(var d,b=0;b<a.length;b+=1)if(d(a[b]))return a[b]}return null},fI=function(c,d,b){void 0===b&&(b=0);for(var a=b;a<c.length;a++)if(d(c[a],a))return a;return -1},fJ=function(c,e){for(var d=null,b=0;b<c.length;b++){var a=c[b][e];if(!fA(a)){d=fB(a)?a[0]:a;break}}return d},fK=function(a){if(!fB(a))return[];for(var b=[],c=0;c<a.length;c++)b=b.concat(a[c]);return b},fL=function(b,a){if(void 0===a&&(a=[]),isArray(b))for(var c=0;c<b.length;c+=1)fL(b[c],a);else a.push(b);return a},fM=function(a){if(fB(a))return a.reduce(function(a,b){return Math.max(a,b)},a[0])},fN=function(a){if(fB(a))return a.reduce(function(a,b){return Math.min(a,b)},a[0])},fO=function(a){var b=a.filter(function(a){return!isNaN(a)});if(!b.length)return{min:0,max:0};if(fB(a[0])){for(var c=[],d=0;d<a.length;d++)c=c.concat(a[d]);b=c}var e=fM(b);return{min:fN(b),max:e}},a9=Array.prototype,fP=(a9.splice,a9.indexOf,Array.prototype.splice),fQ=function(a,d){if(!fu(a))return[];for(var b=a?d.length:0,f=b-1;b--;){var e=void 0,c=d[b];(b===f||c!==e)&&(e=c,fP.call(a,c,1))}return a},fR=function(a,d,b){if(!fB(a)&&!fG(a))return a;var c=b;return I(a,function(a,b){c=d(c,a,b)}),c},fS=function(a,f){var c=[];if(!fu(a))return c;for(var b=-1,d=[],g=a.length;++b<g;){var e=a[b];f(e,b,a)&&(c.push(e),d.push(b))}return fQ(a,d),c},fT=function(a){return fy(a,"String")},fU=function(c,a){var b;if(fz(a))b=function(b,c){return a(b)-a(c)};else{var d=[];fT(a)?d.push(a):fB(a)&&(d=a),b=function(c,e){for(var b=0;b<d.length;b+=1){var a=d[b];if(c[a]>e[a])return 1;if(c[a]<e[a])return -1}return 0}}return c.sort(b),c};function fV(b,a){void 0===a&&(a=new Map);var e=[];if(Array.isArray(b))for(var c=0,f=b.length;c<f;c++){var d=b[c];a.has(d)||(e.push(d),a.set(d,!0))}return e}var fW=function(e,h){for(var f=[],g={},b=0;b<e.length;b++){var a=e[b][h];if(!fA(a)){fB(a)||(a=[a]);for(var c=0;c<a.length;c++){var d=a[c];g[d]||(f.push(d),g[d]=!0)}}}return f};function fX(a){if(fu(a))return a[0]}function fY(a){if(fu(a)){var b=a;return b[b.length-1]}}var fZ=function(b,c){for(var a=0;a<b.length;a++)if(!c(b[a],a))return!1;return!0},f$=function(b,c){for(var a=0;a<b.length;a++)if(c(b[a],a))return!0;return!1},f_=Object.prototype.hasOwnProperty,f0=function(c,d){if(!d||!fB(c))return{};for(var a,b={},g=fz(d)?d:function(a){return a[d]},e=0;e<c.length;e++){var f=c[e];a=g(f),f_.call(b,a)?b[a].push(f):b[a]=[f]}return b};function f1(b,a){if(!a)return{0:b};if(!fz(a)){var c=fB(a)?a:a.replace(/\s+/g,"").split("*");a=function(b){for(var d="_",a=0,e=c.length;a<e;a++)d+=b[c[a]]&&b[c[a]].toString();return d}}return f0(b,a)}var f2=function(a,b){if(!b)return[a];var c=f1(a,b),d=[];for(var e in c)d.push(c[e]);return d},f3=function(a,b,c){return a<b?b:a>c?c:a},f4=function(b,e){var c=e.toString(),d=c.indexOf(".");if(-1===d)return Math.round(b);var a=c.substr(d+1).length;return a>20&&(a=20),parseFloat(b.toFixed(a))},f5=function(a){return fy(a,"Number")};function f6(b,c,a){return void 0===a&&(a=1e-5),Math.abs(b-c)<a}var f7=function(a,b){if(fB(a)){for(var e,f=-1/0,c=0;c<a.length;c++){var d=a[c],g=fz(b)?b(d):d[b];g>f&&(e=d,f=g)}return e}},f8=function(a,b){if(fB(a)){for(var e,f=1/0,c=0;c<a.length;c++){var d=a[c],g=fz(b)?b(d):d[b];g<f&&(e=d,f=g)}return e}},f9=function(b,a){return(b%a+a)%a},ga=Math.PI/180,gb=function(a){return ga*a},gc=I,gd=function(a,b){return a.hasOwnProperty(b)},ge=Object.values?function(a){return Object.values(a)}:function(a){var b=[];return I(a,function(c,d){fz(a)&&"prototype"===d||b.push(c)}),b},gf=function(a){return fA(a)?"":a.toString()},b8=function(a){return gf(a).toLowerCase()},gg=function(a,b){return a&&b?a.replace(/\\?\{([^{}]+)\}/g,function(a,c){return"\\"===a.charAt(0)?a.slice(1):void 0===b[c]?"":b[c]}):a},gh=function(b){var a=gf(b);return a.charAt(0).toUpperCase()+a.substring(1)},gi={}.toString,gj=function(a){return fy(a,"Boolean")},gk=function(a){return fy(a,"Date")},gl=Object.prototype,gm=function(a){var b=a&&a.constructor,c="function"==typeof b&&b.prototype||gl;return a===c},gn=function(a){return void 0===a},go=function(a){return a instanceof Element||a instanceof HTMLDocument},b9=function(a){if("object"!=typeof a||null===a)return a;if(fB(a)){c=[];for(var c,b=0,e=a.length;b<e;b++)"object"==typeof a[b]&&null!=a[b]?c[b]=b9(a[b]):c[b]=a[b]}else for(var d in c={},a)"object"==typeof a[d]&&null!=a[d]?c[d]=b9(a[d]):c[d]=a[d];return c},gp=b9,gq=function(a,b,c){var d;return function(){var e=this,f=arguments,g=function(){d=null,c||a.apply(e,f)},h=c&&!d;clearTimeout(d),d=setTimeout(g,b),h&&a.apply(e,f)}},J=function(b,c){if(!fz(b))throw TypeError("Expected a function");var a=function(){for(var d=[],e=0;e<arguments.length;e++)d[e]=arguments[e];var f=c?c.apply(this,d):d[0],g=a.cache;if(g.has(f))return g.get(f);var h=b.apply(this,d);return g.set(f,h),h};return a.cache=new Map,a};function gr(b,d,e,f){for(var a in e=e||0,f=f||5,d)if(d.hasOwnProperty(a)){var c=d[a];null!==c&&fG(c)?(fG(b[a])||(b[a]={}),e<f?gr(b[a],c,e+1,f):b[a]=d[a]):fB(c)?(b[a]=[],b[a]=b[a].concat(c)):void 0!==c&&(b[a]=c)}}var gs=function(d){for(var b=[],a=1;a<arguments.length;a++)b[a-1]=arguments[a];for(var c=0;c<b.length;c+=1)gr(d,b[c]);return d},gt=function(a,c){if(!fu(a))return -1;var d=Array.prototype.indexOf;if(d)return d.call(a,c);for(var e=-1,b=0;b<a.length;b++)if(a[b]===c){e=b;break}return e},gu=Object.prototype.hasOwnProperty,gv=function(a){if(fA(a))return!0;if(fu(a))return!a.length;var b,c=(b=a,gi.call(b).replace(/^\[object /,"").replace(/]$/,""));if("Map"===c||"Set"===c)return!a.size;if(gm(a))return!Object.keys(a).length;for(var d in a)if(gu.call(a,d))return!1;return!0},ca=function(a,b){if(a===b)return!0;if(!a||!b||fT(a)||fT(b))return!1;if(fu(a)||fu(b)){if(a.length!==b.length)return!1;for(var d=!0,c=0;c<a.length&&(d=ca(a[c],b[c]));c++);return d}if(fF(a)||fF(b)){var e=Object.keys(a),f=Object.keys(b);if(e.length!==f.length)return!1;for(var d=!0,c=0;c<e.length&&(d=ca(a[e[c]],b[e[c]]));c++);return d}return!1},gw=ca,gx=function(a,d){if(!fu(a))return a;for(var c=[],b=0;b<a.length;b++){var e=a[b];c.push(d(e,b))}return c},gy=function(a,b){void 0===b&&(b=function(a){return a});var c={};return fC(a)&&!fA(a)&&Object.keys(a).forEach(function(d){c[d]=b(a[d],d)}),c};function gz(c,b){for(var a in b)b.hasOwnProperty(a)&&"constructor"!==a&& void 0!==b[a]&&(c[a]=b[a])}function gA(a,b,c,d){return b&&gz(a,b),c&&gz(a,c),d&&gz(a,d),a}var gB=function(a,b,e){for(var c=0,d=fT(b)?b.split("."):b;a&&c<d.length;)a=a[d[c++]];return void 0===a||c<d.length?e:a},gC=function(b,a,d){var e=b,c=fT(a)?a.split("."):a;return c.forEach(function(a,b){b<c.length-1?(fC(e[a])||(e[a]=f5(c[b+1])?[]:{}),e=e[a]):e[a]=d}),b},gD=Object.prototype.hasOwnProperty,gE=function(a,b){if(null===a||!fG(a))return{};var c={};return I(b,function(b){gD.call(a,b)&&(c[b]=a[b])}),c},gF=function(a,b){return fR(a,function(a,d,c){return b.includes(c)||(a[c]=d),a},{})},gG=function(c,d,a){var e,f,g,h,i=0;a||(a={});var j=function(){i=!1===a.leading?0:Date.now(),e=null,h=c.apply(f,g),e||(f=g=null)},b=function(){var b=Date.now();i|| !1!==a.leading||(i=b);var k=d-(b-i);return f=this,g=arguments,k<=0||k>d?(e&&(clearTimeout(e),e=null),i=b,h=c.apply(f,g),e||(f=g=null)):e|| !1===a.trailing||(e=setTimeout(j,k)),h};return b.cancel=function(){clearTimeout(e),i=0,e=f=g=null},b},gH={},gI=function(a){return gH[a=a||"g"]?gH[a]+=1:gH[a]=1,a+gH[a]},gJ=function(){};function gK(a){return fA(a)?0:fu(a)?a.length:Object.keys(a).length}var ap,j,y,gL=J(function(b,a){void 0===a&&(a={});var c=a.fontSize,d=a.fontFamily,e=a.fontWeight,f=a.fontStyle,g=a.fontVariant;return h9||(h9=document.createElement("canvas").getContext("2d")),h9.font=[f,g,e,c+"px",d].join(" "),h9.measureText(fT(b)?b:"").width},function(b,a){return void 0===a&&(a={}),fr([b],ge(a)).join("")}),gM=function(b,i,f,g){void 0===g&&(g="...");var h,c,j=gL(g,f),a=fT(b)?b:gf(b),d=i,e=[];if(gL(b,f)<=i)return b;for(;!((c=gL(h=a.substr(0,16),f))+j>d)||!(c>d);)if(e.push(h),d-=c,!(a=a.substr(16)))return e.join("");for(;!((c=gL(h=a.substr(0,1),f))+j>d);)if(e.push(h),d-=c,!(a=a.substr(1)))return e.join("");return""+e.join("")+g},cb=function(){function a(){this.map={}}return a.prototype.has=function(a){return void 0!==this.map[a]},a.prototype.get=function(b,c){var a=this.map[b];return void 0===a?c:a},a.prototype.set=function(a,b){this.map[a]=b},a.prototype.clear=function(){this.map={}},a.prototype.delete=function(a){delete this.map[a]},a.prototype.size=function(){return Object.keys(this.map).length},a}();(ap=ia||(ia={})).FORE="fore",ap.MID="mid",ap.BG="bg",(j=ib||(ib={})).TOP="top",j.TOP_LEFT="top-left",j.TOP_RIGHT="top-right",j.RIGHT="right",j.RIGHT_TOP="right-top",j.RIGHT_BOTTOM="right-bottom",j.LEFT="left",j.LEFT_TOP="left-top",j.LEFT_BOTTOM="left-bottom",j.BOTTOM="bottom",j.BOTTOM_LEFT="bottom-left",j.BOTTOM_RIGHT="bottom-right",j.RADIUS="radius",j.CIRCLE="circle",j.NONE="none",(y=ic||(ic={})).AXIS="axis",y.GRID="grid",y.LEGEND="legend",y.TOOLTIP="tooltip",y.ANNOTATION="annotation",y.SLIDER="slider",y.SCROLLBAR="scrollbar",y.OTHER="other";var o,$,k,_,gN={FORE:3,MID:2,BG:1};(o=id||(id={})).BEFORE_RENDER="beforerender",o.AFTER_RENDER="afterrender",o.BEFORE_PAINT="beforepaint",o.AFTER_PAINT="afterpaint",o.BEFORE_CHANGE_DATA="beforechangedata",o.AFTER_CHANGE_DATA="afterchangedata",o.BEFORE_CLEAR="beforeclear",o.AFTER_CLEAR="afterclear",o.BEFORE_DESTROY="beforedestroy",o.BEFORE_CHANGE_SIZE="beforechangesize",o.AFTER_CHANGE_SIZE="afterchangesize",($=ie||(ie={})).BEFORE_DRAW_ANIMATE="beforeanimate",$.AFTER_DRAW_ANIMATE="afteranimate",$.BEFORE_RENDER_LABEL="beforerenderlabel",$.AFTER_RENDER_LABEL="afterrenderlabel",(k=ig||(ig={})).MOUSE_ENTER="plot:mouseenter",k.MOUSE_DOWN="plot:mousedown",k.MOUSE_MOVE="plot:mousemove",k.MOUSE_UP="plot:mouseup",k.MOUSE_LEAVE="plot:mouseleave",k.TOUCH_START="plot:touchstart",k.TOUCH_MOVE="plot:touchmove",k.TOUCH_END="plot:touchend",k.TOUCH_CANCEL="plot:touchcancel",k.CLICK="plot:click",k.DBLCLICK="plot:dblclick",k.CONTEXTMENU="plot:contextmenu",k.LEAVE="plot:leave",k.ENTER="plot:enter",(_=bd||(bd={})).ACTIVE="active",_.INACTIVE="inactive",_.SELECTED="selected",_.DEFAULT="default";var gO=["color","shape","size"],gP="_origin",gQ={};function ba(a,b){gQ[a]=b}function gR(a){ih||(ih=document.createElement("table"),ii=document.createElement("tr"),ij=/^\s*<(\w+|!)[^>]*>/,ik={tr:document.createElement("tbody"),tbody:ih,thead:ih,tfoot:ih,td:ii,th:ii,"*":document.createElement("div")});var b=ij.test(a)&&RegExp.$1;b&&b in ik||(b="*");var c=ik[b];a="string"==typeof a?a.replace(/(^\s*)|(\s*$)/g,""):a,c.innerHTML=""+a;var d=c.childNodes[0];return d&&c.contains(d)&&c.removeChild(d),d}function gS(a,b){if(a)for(var c in b)b.hasOwnProperty(c)&&(a.style[c]=b[c]);return a}function gT(a){return"number"==typeof a&&!isNaN(a)}function gU(f,g,h,i){var b=h,c=i;if(g){var e,a,d=(a=getComputedStyle(e=f),{width:(e.clientWidth||parseInt(a.width,10))-parseInt(a.paddingLeft,10)-parseInt(a.paddingRight,10),height:(e.clientHeight||parseInt(a.height,10))-parseInt(a.paddingTop,10)-parseInt(a.paddingBottom,10)});b=d.width?d.width:b,c=d.height?d.height:c}return{width:Math.max(gT(b)?b:1,1),height:Math.max(gT(c)?c:1,1)}}var aq=function(){function a(){this._events={}}return a.prototype.on=function(a,b,c){return this._events[a]||(this._events[a]=[]),this._events[a].push({callback:b,once:!!c}),this},a.prototype.once=function(a,b){return this.on(a,b,!0)},a.prototype.emit=function(c){for(var g=this,d=[],a=1;a<arguments.length;a++)d[a-1]=arguments[a];var e=this._events[c]||[],f=this._events["*"]||[],b=function(b){for(var e=b.length,a=0;a<e;a++)if(b[a]){var f=b[a],h=f.callback,i=f.once;i&&(b.splice(a,1),0===b.length&&delete g._events[c],e--,a--),h.apply(g,d)}};b(e),b(f)},a.prototype.off=function(b,d){if(b){if(d){for(var c=this._events[b]||[],e=c.length,a=0;a<e;a++)c[a].callback===d&&(c.splice(a,1),e--,a--);0===c.length&&delete this._events[b]}else delete this._events[b]}else this._events={};return this},a.prototype.getEvents=function(){return this._events},a}(),ar=function(b){function a(d){var a=b.call(this)||this;a.destroyed=!1;var c=d.visible;return a.visible=void 0===c||c,a}return fl(a,b),a.prototype.show=function(){this.visible||this.changeVisible(!0)},a.prototype.hide=function(){this.visible&&this.changeVisible(!1)},a.prototype.destroy=function(){this.off(),this.destroyed=!0},a.prototype.changeVisible=function(a){this.visible!==a&&(this.visible=a)},a}(aq),R="	\n\v\f\r \xa0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029",gV=RegExp("([a-z])["+R+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+R+"]*,?["+R+"]*)+)","ig"),gW=RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+R+"]*,?["+R+"]*","ig"),gX=function(a){if(!a)return null;if(fB(a))return a;var c={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},b=[];return String(a).replace(gV,function(h,d,g){var e=[],f=d.toLowerCase();if(g.replace(gW,function(b,a){a&&e.push(+a)}),"m"===f&&e.length>2&&(b.push([d].concat(e.splice(0,2))),f="l",d="m"===d?"l":"L"),"o"===f&&1===e.length&&b.push([d,e[0]]),"r"===f)b.push([d].concat(e));else for(;e.length>=c[f]&&(b.push([d].concat(e.splice(0,c[f]))),c[f]););return a}),b},gY=function(b,e){for(var f=[],c=0,d=b.length;d-2*!e>c;c+=2){var a=[{x:+b[c-2],y:+b[c-1]},{x:+b[c],y:+b[c+1]},{x:+b[c+2],y:+b[c+3]},{x:+b[c+4],y:+b[c+5]},];e?c?d-4===c?a[3]={x:+b[0],y:+b[1]}:d-2===c&&(a[2]={x:+b[0],y:+b[1]},a[3]={x:+b[2],y:+b[3]}):a[0]={x:+b[d-2],y:+b[d-1]}:d-4===c?a[3]=a[2]:c||(a[0]={x:+b[c],y:+b[c+1]}),f.push(["C",(-a[0].x+6*a[1].x+a[2].x)/6,(-a[0].y+6*a[1].y+a[2].y)/6,(a[1].x+6*a[2].x-a[3].x)/6,(a[1].y+6*a[2].y-a[3].y)/6,a[2].x,a[2].y,])}return f},gZ=function(c,d,b,a,e){var g=[];if(null===e&&null===a&&(a=b),c=+c,d=+d,b=+b,a=+a,null!==e){var f=Math.PI/180,h=c+b*Math.cos(-a*f),i=c+b*Math.cos(-e*f),j=d+b*Math.sin(-a*f),k=d+b*Math.sin(-e*f);g=[["M",h,j],["A",b,b,0,+(e-a>180),0,i,k],]}else g=[["M",c,d],["m",0,-a],["a",b,a,0,1,1,0,2*a],["a",b,a,0,1,1,0,-2*a],["z"]];return g},g$=function(g){if(!(g=gX(g))||!g.length)return[["M",0,0]];var i,f,c=[],d=0,e=0,j=0,k=0,o=0;"M"===g[0][0]&&(d=+g[0][1],e=+g[0][2],j=d,k=e,o++,c[0]=["M",d,e]);for(var p=3===g.length&&"M"===g[0][0]&&"R"===g[1][0].toUpperCase()&&"Z"===g[2][0].toUpperCase(),b=void 0,a=void 0,m=o,q=g.length;m<q;m++){if(c.push(b=[]),(i=(a=g[m])[0])!==i.toUpperCase())switch(b[0]=i.toUpperCase(),b[0]){case"A":b[1]=a[1],b[2]=a[2],b[3]=a[3],b[4]=a[4],b[5]=a[5],b[6]=+a[6]+d,b[7]=+a[7]+e;break;case"V":b[1]=+a[1]+e;break;case"H":b[1]=+a[1]+d;break;case"R":f=[d,e].concat(a.slice(1));for(var h=2,n=f.length;h<n;h++)f[h]=+f[h]+d,f[++h]=+f[h]+e;c.pop(),c=c.concat(gY(f,p));break;case"O":c.pop(),(f=gZ(d,e,a[1],a[2])).push(f[0]),c=c.concat(f);break;case"U":c.pop(),b=["U"].concat((c=c.concat(gZ(d,e,a[1],a[2],a[3])))[c.length-1].slice(-2));break;case"M":j=+a[1]+d,k=+a[2]+e;break;default:for(var h=1,n=a.length;h<n;h++)b[h]=+a[h]+(h%2?d:e)}else if("R"===i)f=[d,e].concat(a.slice(1)),c.pop(),c=c.concat(gY(f,p)),b=["R"].concat(a.slice(-2));else if("O"===i)c.pop(),(f=gZ(d,e,a[1],a[2])).push(f[0]),c=c.concat(f);else if("U"===i)c.pop(),b=["U"].concat((c=c.concat(gZ(d,e,a[1],a[2],a[3])))[c.length-1].slice(-2));else for(var l=0,r=a.length;l<r;l++)b[l]=a[l];if("O"!==(i=i.toUpperCase()))switch(b[0]){case"Z":d=+j,e=+k;break;case"H":d=b[1];break;case"V":e=b[1];break;case"M":j=b[b.length-2],k=b[b.length-1];break;default:d=b[b.length-2],e=b[b.length-1]}}return c},g_=function(c,d,a,b){return[c,d,a,b,a,b]},g0=function(g,h,c,d,e,f){var a=1/3,b=2/3;return[a*g+b*c,a*h+b*d,a*e+b*c,a*f+b*d,e,f]},g1=function(h,i,d,c,y,I,q,e,f,m){d===c&&(d+=1);var r,b,a,n,o,z=120*Math.PI/180,t=Math.PI/180*(+y||0),g=[],u=function(b,c,a){return{x:b*Math.cos(a)-c*Math.sin(a),y:b*Math.sin(a)+c*Math.cos(a)}};if(m)b=m[0],a=m[1],n=m[2],o=m[3];else{h=(r=u(h,i,-t)).x,i=r.y,r=u(e,f,-t),e=r.x,f=r.y,h===e&&i===f&&(e+=1,f+=1);var k=(h-e)/2,l=(i-f)/2,s=k*k/(d*d)+l*l/(c*c);s>1&&(s=Math.sqrt(s),d*=s,c*=s);var v=d*d,w=c*c,A=(I===q?-1:1)*Math.sqrt(Math.abs((v*w-v*l*l-w*k*k)/(v*l*l+w*k*k)));n=A*d*l/c+(h+e)/2,o=-(A*c)*k/d+(i+f)/2,b=Math.asin(((i-o)/c).toFixed(9)),a=Math.asin(((f-o)/c).toFixed(9)),b=h<n?Math.PI-b:b,a=e<n?Math.PI-a:a,b<0&&(b=2*Math.PI+b),a<0&&(a=2*Math.PI+a),q&&b>a&&(b-=2*Math.PI),!q&&a>b&&(a-=2*Math.PI)}var x=a-b;if(Math.abs(x)>z){var J=a,K=e,L=f;a=b+z*(q&&a>b?1:-1),e=n+d*Math.cos(a),f=o+c*Math.sin(a),g=g1(e,f,d,c,y,0,q,K,L,[a,J,n,o])}x=a-b;var M=Math.cos(b),N=Math.sin(b),O=Math.cos(a),P=Math.sin(a),B=Math.tan(x/4),C=4/3*d*B,D=4/3*c*B,E=[h,i],p=[h+C*N,i-D*M],F=[e+C*P,f-D*O],G=[e,f];if(p[0]=2*E[0]-p[0],p[1]=2*E[1]-p[1],m)return[p,F,G].concat(g);g=[p,F,G].concat(g).join().split(",");for(var H=[],j=0,Q=g.length;j<Q;j++)H[j]=j%2?u(g[j-1],g[j],t).y:u(g[j],g[j+1],t).x;return H},g2=function(s,n){var o,c=g$(s),b=n&&g$(n),d={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},e={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},i=[],j=[],f="",k="",p=function(b,a,c){var d,e;if(!b)return["C",a.x,a.y,a.x,a.y,a.x,a.y];switch(b[0]in{T:1,Q:1}||(a.qx=a.qy=null),b[0]){case"M":a.X=b[1],a.Y=b[2];break;case"A":b=["C"].concat(g1.apply(0,[a.x,a.y].concat(b.slice(1))));break;case"S":"C"===c||"S"===c?(d=2*a.x-a.bx,e=2*a.y-a.by):(d=a.x,e=a.y),b=["C",d,e].concat(b.slice(1));break;case"T":"Q"===c||"T"===c?(a.qx=2*a.x-a.qx,a.qy=2*a.y-a.qy):(a.qx=a.x,a.qy=a.y),b=["C"].concat(g0(a.x,a.y,a.qx,a.qy,b[1],b[2]));break;case"Q":a.qx=b[1],a.qy=b[2],b=["C"].concat(g0(a.x,a.y,b[1],b[2],b[3],b[4]));break;case"L":b=["C"].concat(g_(a.x,a.y,b[1],b[2]));break;case"H":b=["C"].concat(g_(a.x,a.y,b[1],a.y));break;case"V":b=["C"].concat(g_(a.x,a.y,a.x,b[1]));break;case"Z":b=["C"].concat(g_(a.x,a.y,a.X,a.Y))}return b},q=function(d,a){if(d[a].length>7){d[a].shift();for(var e=d[a];e.length;)i[a]="A",b&&(j[a]="A"),d.splice(a++,0,["C"].concat(e.splice(0,6)));d.splice(a,1),o=Math.max(c.length,b&&b.length||0)}},r=function(d,f,e,g,a){d&&f&&"M"===d[a][0]&&"M"!==f[a][0]&&(f.splice(a,0,["M",g.x,g.y]),e.bx=0,e.by=0,e.x=d[a][1],e.y=d[a][2],o=Math.max(c.length,b&&b.length||0))};o=Math.max(c.length,b&&b.length||0);for(var a=0;a<o;a++){c[a]&&(f=c[a][0]),"C"!==f&&(i[a]=f,a&&(k=i[a-1])),c[a]=p(c[a],d,k),"A"!==i[a]&&"C"===f&&(i[a]="C"),q(c,a),b&&(b[a]&&(f=b[a][0]),"C"!==f&&(j[a]=f,a&&(k=j[a-1])),b[a]=p(b[a],e,k),"A"!==j[a]&&"C"===f&&(j[a]="C"),q(b,a)),r(c,b,d,e,a),r(b,c,e,d,a);var g=c[a],h=b&&b[a],l=g.length,m=b&&h.length;d.x=g[l-2],d.y=g[l-1],d.bx=parseFloat(g[l-4])||d.x,d.by=parseFloat(g[l-3])||d.y,e.bx=b&&(parseFloat(h[m-4])||e.x),e.by=b&&(parseFloat(h[m-3])||e.y),e.x=b&&h[m-2],e.y=b&&h[m-1]}return b?[c,b]:c},g3=/,?([a-z]),?/gi,g4=function(a){return a.join(",").replace(g3,"$1")},g5=function(c,a,b,d,e){return c*(c*(-3*a+9*b-9*d+3*e)+6*a-12*b+6*d)-3*a+3*b},g6=function(h,i,j,k,l,m,n,o,a){null===a&&(a=1);for(var c=(a=a>1?1:a<0?0:a)/2,p=[-0.1252,.1252,-0.3678,.3678,-0.5873,.5873,-0.7699,.7699,-0.9041,.9041,-0.9816,.9816,],q=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],d=0,b=0;b<12;b++){var e=c*p[b]+c,f=g5(e,h,j,l,n),g=g5(e,i,k,m,o),r=f*f+g*g;d+=q[b]*Math.sqrt(r)}return c*d},g7=function(f,g,k,l,n,o,p,q){for(var e,d,m,a,b,h=[],c=[[],[]],r=0;r<2;++r){if(0===r?(d=6*f-12*k+6*n,e=-3*f+9*k-9*n+3*p,m=3*k-3*f):(d=6*g-12*l+6*o,e=-3*g+9*l-9*o+3*q,m=3*l-3*g),1e-12>Math.abs(e)){if(1e-12>Math.abs(d))continue;(a=-m/d)>0&&a<1&&h.push(a);continue}var u=d*d-4*m*e,v=Math.sqrt(u);if(!(u<0)){var s=(-d+v)/(2*e);s>0&&s<1&&h.push(s);var t=(-d-v)/(2*e);t>0&&t<1&&h.push(t)}}for(var i=h.length,j=i;i--;)b=1-(a=h[i]),c[0][i]=b*b*b*f+3*b*b*a*k+3*b*a*a*n+a*a*a*p,c[1][i]=b*b*b*g+3*b*b*a*l+3*b*a*a*o+a*a*a*q;return c[0][j]=f,c[1][j]=g,c[0][j+1]=p,c[1][j+1]=q,c[0].length=c[1].length=j+2,{min:{x:Math.min.apply(0,c[0]),y:Math.min.apply(0,c[1])},max:{x:Math.max.apply(0,c[0]),y:Math.max.apply(0,c[1])}}},g8=function(a,b,c,d,e,f,g,h){if(!(Math.max(a,c)<Math.min(e,g)||Math.min(a,c)>Math.max(e,g)||Math.max(b,d)<Math.min(f,h)||Math.min(b,d)>Math.max(f,h))){var k=(a-c)*(f-h)-(b-d)*(e-g);if(k){var l=((a*d-b*c)*(e-g)-(a-c)*(e*h-f*g))/k,m=((a*d-b*c)*(f-h)-(b-d)*(e*h-f*g))/k,i=+l.toFixed(2),j=+m.toFixed(2);if(!(i< +Math.min(a,c).toFixed(2)||i> +Math.max(a,c).toFixed(2)||i< +Math.min(e,g).toFixed(2)||i> +Math.max(e,g).toFixed(2)||j< +Math.min(b,d).toFixed(2)||j> +Math.max(b,d).toFixed(2)||j< +Math.min(f,h).toFixed(2)||j> +Math.max(f,h).toFixed(2)))return{x:l,y:m}}}},g9=function(a,b,c){return b>=a.x&&b<=a.x+a.width&&c>=a.y&&c<=a.y+a.height},ha=function(d,e,b,c,a){if(a)return[["M",+d+ +a,e],["l",b-2*a,0],["a",a,a,0,0,1,a,a],["l",0,c-2*a],["a",a,a,0,0,1,-a,a],["l",2*a-b,0],["a",a,a,0,0,1,-a,-a],["l",0,2*a-c],["a",a,a,0,0,1,a,-a],["z"],];var f=[["M",d,e],["l",b,0],["l",0,c],["l",-b,0],["z"]];return f.parsePathArray=g4,f},hb=function(a,d,b,c){return null===a&&(a=d=b=c=0),null===d&&(d=a.y,b=a.width,c=a.height,a=a.x),{x:a,y:d,width:b,w:b,height:c,h:c,x2:a+b,y2:d+c,cx:a+b/2,cy:d+c/2,r1:Math.min(b,c)/2,r2:Math.max(b,c)/2,r0:Math.sqrt(b*b+c*c)/2,path:ha(a,d,b,c),vb:[a,d,b,c].join(" ")}},hc=function(b,c,d,e,f,g,h,i){fB(b)||(b=[b,c,d,e,f,g,h,i]);var a=g7.apply(null,b);return hb(a.min.x,a.min.y,a.max.x-a.min.x,a.max.y-a.min.y)},hd=function(e,f,c,d,g,h,j,k,a){var b=1-a,l=Math.pow(b,3),m=Math.pow(b,2),i=a*a,n=i*a,o=e+2*a*(c-e)+i*(g-2*c+e),p=f+2*a*(d-f)+i*(h-2*d+f),q=c+2*a*(g-c)+i*(j-2*g+c),r=d+2*a*(h-d)+i*(k-2*h+d);return{x:l*e+3*m*a*c+3*b*a*a*g+n*j,y:l*f+3*m*a*d+3*b*a*a*h+n*k,m:{x:o,y:p},n:{x:q,y:r},start:{x:b*e+a*c,y:b*f+a*d},end:{x:b*g+a*j,y:b*h+a*k},alpha:90-180*Math.atan2(o-q,p-r)/Math.PI}},he=function(o,p,q){var a,b,x=hc(o),y=hc(p);if(a=x,b=y,a=hb(a),b=hb(b),!(g9(b,a.x,a.y)||g9(b,a.x2,a.y)||g9(b,a.x,a.y2)||g9(b,a.x2,a.y2)||g9(a,b.x,b.y)||g9(a,b.x2,b.y)||g9(a,b.x,b.y2)||g9(a,b.x2,b.y2))&&((!(a.x<b.x2)||!(a.x>b.x))&&(!(b.x<a.x2)||!(b.x>a.x))||(!(a.y<b.y2)||!(a.y>b.y))&&(!(b.y<a.y2)||!(b.y>a.y))))return q?0:[];for(var z=g6.apply(0,o),A=g6.apply(0,p),j=~~(z/8),k=~~(A/8),r=[],s=[],w={},t=q?0:[],c=0;c<j+1;c++){var g=hd.apply(0,o.concat(c/j));r.push({x:g.x,y:g.y,t:c/j})}for(var c=0;c<k+1;c++){var g=hd.apply(0,p.concat(c/k));s.push({x:g.x,y:g.y,t:c/k})}for(var c=0;c<j;c++)for(var l=0;l<k;l++){var e=r[c],h=r[c+1],f=s[l],i=s[l+1],m=.001>Math.abs(h.x-e.x)?"y":"x",n=.001>Math.abs(i.x-f.x)?"y":"x",d=g8(e.x,e.y,h.x,h.y,f.x,f.y,i.x,i.y);if(d){if(w[d.x.toFixed(4)]===d.y.toFixed(4))continue;w[d.x.toFixed(4)]=d.y.toFixed(4);var u=e.t+Math.abs((d[m]-e[m])/(h[m]-e[m]))*(h.t-e.t),v=f.t+Math.abs((d[n]-f[n])/(i[n]-f[n]))*(i.t-f.t);u>=0&&u<=1&&v>=0&&v<=1&&(q?t+=1:t.push({x:d.x,y:d.y,t1:u,t2:v}))}}return t},hf=function(k,l,t){k=g2(k),l=g2(l);for(var b,c,d,e,m,n,o,p,g,h,q=t?0:[],r=0,u=k.length;r<u;r++){var i=k[r];if("M"===i[0])b=m=i[1],c=n=i[2];else{"C"===i[0]?(b=(g=[b,c].concat(i.slice(1)))[6],c=g[7]):(g=[b,c,b,c,m,n,m,n],b=m,c=n);for(var s=0,v=l.length;s<v;s++){var j=l[s];if("M"===j[0])d=o=j[1],e=p=j[2];else{"C"===j[0]?(d=(h=[d,e].concat(j.slice(1)))[6],e=h[7]):(h=[d,e,d,e,o,p,o,p],d=o,e=p);var a=he(g,h,t);if(t)q+=a;else{for(var f=0,w=a.length;f<w;f++)a[f].segment1=r,a[f].segment2=s,a[f].bez1=g,a[f].bez2=h;q=q.concat(a)}}}}}return q},hg=function(a,b){return hf(a,b)};function hh(a,b){var c=[],d=[];function e(a,f){if(1===a.length)c.push(a[0]),d.push(a[0]);else{for(var g=[],b=0;b<a.length-1;b++)0===b&&c.push(a[0]),b===a.length-2&&d.push(a[b+1]),g[b]=[(1-f)*a[b][0]+f*a[b+1][0],(1-f)*a[b][1]+f*a[b+1][1],];e(g,f)}}return a.length&&e(a,b),{left:c,right:d.reverse()}}var hi=function(c,a,d){if(1===d)return[[].concat(c)];var b=[];if("L"===a[0]||"C"===a[0]||"Q"===a[0])b=b.concat(function(g,a,c){var b=[[g[1],g[2]]];c=c||2;var d=[];"A"===a[0]?(b.push(a[6]),b.push(a[7])):"C"===a[0]?(b.push([a[1],a[2]]),b.push([a[3],a[4]]),b.push([a[5],a[6]])):"S"===a[0]||"Q"===a[0]?(b.push([a[1],a[2]]),b.push([a[3],a[4]])):b.push([a[1],a[2]]);for(var e=b,h=1/c,f=0;f<c-1;f++){var i=hh(e,h/(1-h*f));d.push(i.left),e=i.right}return d.push(e),d.map(function(b){var a=[];return 4===b.length&&(a.push("C"),a=a.concat(b[2])),b.length>=3&&(3===b.length&&a.push("Q"),a=a.concat(b[1])),2===b.length&&a.push("L"),a=a.concat(b[b.length-1])})}(c,a,d));else{var e=[].concat(c);"M"===e[0]&&(e[0]="L");for(var f=0;f<=d-1;f++)b.push(e)}return b},hj=function(a,d){if(1===a.length)return a;var g=a.length-1,c=d.length-1,i=g/c,e=[];if(1===a.length&&"M"===a[0][0]){for(var b=0;b<c-g;b++)a.push(a[0]);return a}for(var b=0;b<c;b++){var h=Math.floor(i*b);e[h]=(e[h]||0)+1}var f=e.reduce(function(c,d,b){return b===g?c.concat(a[g]):c.concat(hi(a[b],a[b+1],d))},[]);return f.unshift(a[0]),("Z"===d[c]||"z"===d[c])&&f.push("Z"),f},hk=function(a,b){if(a.length!==b.length)return!1;var c=!0;return I(a,function(a,d){if(a!==b[d])return c=!1,!1}),c};function hl(c,d,e){var b=null,a=e;return d<a&&(a=d,b="add"),c<a&&(a=c,b="del"),{type:b,min:a}}var hm=function(f,g){var h,m,d=f.length,e=g.length,i=0;if(0===d||0===e)return null;for(var c=[],a=0;a<=d;a++)c[a]=[],c[a][0]={min:a};for(var b=0;b<=e;b++)c[0][b]={min:b};for(var a=1;a<=d;a++){h=f[a-1];for(var b=1;b<=e;b++){i=hk(h,g[b-1])?0:1;var j=c[a-1][b].min+1,k=c[a][b-1].min+1,l=c[a-1][b-1].min+i;c[a][b]=hl(j,k,l)}}return c},hn=function(b,j){var e=hm(b,j),c=b.length,g=j.length,h=[],d=1,i=1;if(e[c][g].min!==c){for(var a=1;a<=c;a++){var k=e[a][a].min;i=a;for(var f=d;f<=g;f++)e[a][f].min<k&&(k=e[a][f].min,i=f);d=i,e[a][d].type&&h.push({index:a-1,type:e[a][d].type})}for(var a=h.length-1;a>=0;a--)d=h[a].index,"add"===h[a].type?b.splice(d,0,[].concat(b[d])):b.splice(d,1)}var l=g-(c=b.length);if(c<g)for(var a=0;a<l;a++)"z"===b[c-1][0]||"Z"===b[c-1][0]?b.splice(c-2,0,b[c-2]):b.push(b[c-1]),c+=1;return b};function ho(b,h,g){for(var c,e=[].concat(b),a=1/(g+1),d=hp(h)[0],f=1;f<=g;f++)a*=f,0===(c=Math.floor(b.length*a))?e.unshift([d[0]*a+b[c][0]*(1-a),d[1]*a+b[c][1]*(1-a)]):e.splice(c,0,[d[0]*a+b[c][0]*(1-a),d[1]*a+b[c][1]*(1-a),]);return e}function hp(a){var b=[];switch(a[0]){case"M":case"L":case"T":b.push([a[1],a[2]]);break;case"A":b.push([a[6],a[7]]);break;case"Q":case"S":b.push([a[3],a[4]]),b.push([a[1],a[2]]);break;case"C":b.push([a[5],a[6]]),b.push([a[1],a[2]]),b.push([a[3],a[4]]);break;case"H":case"V":b.push([a[1],a[1]])}return b}var hq=function(b,d){if(b.length<=1)return b;for(var c,a=0;a<d.length;a++)if(b[a][0]!==d[a][0])switch(c=hp(b[a]),d[a][0]){case"M":b[a]=["M"].concat(c[0]);break;case"L":b[a]=["L"].concat(c[0]);break;case"A":b[a]=[].concat(d[a]),b[a][6]=c[0][0],b[a][7]=c[0][1];break;case"Q":if(c.length<2){if(a>0)c=ho(c,b[a-1],1);else{b[a]=d[a];break}}b[a]=["Q"].concat(c.reduce(function(a,b){return a.concat(b)},[]));break;case"T":b[a]=["T"].concat(c[0]);break;case"C":if(c.length<3){if(a>0)c=ho(c,b[a-1],2);else{b[a]=d[a];break}}b[a]=["C"].concat(c.reduce(function(a,b){return a.concat(b)},[]));break;case"S":if(c.length<2){if(a>0)c=ho(c,b[a-1],1);else{b[a]=d[a];break}}b[a]=["S"].concat(c.reduce(function(a,b){return a.concat(b)},[]));break;default:b[a]=d[a]}return b},hr=function(){function a(a,b){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=a,this.name=a,this.originalEvent=b,this.timeStamp=b.timeStamp}return a.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},a.prototype.stopPropagation=function(){this.propagationStopped=!0},a.prototype.toString=function(){return"[Event (type="+this.type+")]"},a.prototype.save=function(){},a.prototype.restore=function(){},a}();function hs(a,c){var b=a.indexOf(c);-1!==b&&a.splice(b,1)}var ht="undefined"!=typeof window&& void 0!==window.document;function hu(b,d){if(b.isCanvas())return!0;for(var a=d.getParent(),c=!1;a;){if(a===b){c=!0;break}a=a.getParent()}return c}function hv(a){return a.cfg.visible&&a.cfg.capture}var bb=function(b){function a(c){var a=b.call(this)||this;a.destroyed=!1;var d=a.getDefaultCfg();return a.cfg=gA(d,c),a}return fl(a,b),a.prototype.getDefaultCfg=function(){return{}},a.prototype.get=function(a){return this.cfg[a]},a.prototype.set=function(a,b){this.cfg[a]=b},a.prototype.destroy=function(){this.cfg={destroyed:!0},this.off(),this.destroyed=!0},a}(aq),hw=d(3454),hx=function(d,b,e){if(e||2===arguments.length)for(var c,a=0,f=b.length;a<f;a++)!c&&a in b||(c||(c=Array.prototype.slice.call(b,0,a)),c[a]=b[a]);return d.concat(c||Array.prototype.slice.call(b))},hy=function(a,b,c){this.name=a,this.version=b,this.os=c,this.type="browser"},hz=function(a){this.version=a,this.type="node",this.name="node",this.os=hw.platform},hA=function(a,b,c,d){this.name=a,this.version=b,this.os=c,this.bot=d,this.type="bot-device"},hB=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},hC=function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},hD=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,hE=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/,],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/],],hF=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/],];function cc(a){return a?hG(a):"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product?new hC:"undefined"!=typeof navigator?hG(navigator.userAgent):hI()}function hG(b){var f,c=(f=b,""!==f&&hE.reduce(function(a,b){var d=b[0],e=b[1];if(a)return a;var c=e.exec(f);return!!c&&[d,c]},!1));if(!c)return null;var d=c[0],g=c[1];if("searchbot"===d)return new hB;var a=g[1]&&g[1].split(".").join("_").split("_").slice(0,3);a?a.length<3&&(a=hx(hx([],a,!0),hJ(3-a.length),!0)):a=[];var h=a.join("."),i=hH(b),e=hD.exec(b);return e&&e[1]?new hA(d,h,i,e[1]):new hy(d,h,i)}function hH(c){for(var a=0,d=hF.length;a<d;a++){var b=hF[a],e=b[0],f=b[1],g=f.exec(c);if(g)return e}return null}function hI(){return void 0!==hw&&hw.version?new hz(hw.version.slice(1)):null}function hJ(c){for(var a=[],b=0;b<c;b++)a.push("0");return a}function hK(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=b[4],i=b[5],j=b[6],k=b[7],l=b[8],m=c[0],n=c[1],o=c[2],p=c[3],q=c[4],r=c[5],s=c[6],t=c[7],u=c[8];return a[0]=m*d+n*g+o*j,a[1]=m*e+n*h+o*k,a[2]=m*f+n*i+o*l,a[3]=p*d+q*g+r*j,a[4]=p*e+q*h+r*k,a[5]=p*f+q*i+r*l,a[6]=s*d+t*g+u*j,a[7]=s*e+t*h+u*k,a[8]=s*f+t*i+u*l,a}var aa="undefined"!=typeof Float32Array?Float32Array:Array;function hL(a,b,c){return a[0]=b[0]+c[0],a[1]=b[1]+c[1],a}function cd(a,b,c){return a[0]=b[0]-c[0],a[1]=b[1]-c[1],a}function hM(a,b,c){return a[0]=Math.min(b[0],c[0]),a[1]=Math.min(b[1],c[1]),a}function hN(a,b,c){return a[0]=Math.max(b[0],c[0]),a[1]=Math.max(b[1],c[1]),a}function hO(a,b,c){return a[0]=b[0]*c,a[1]=b[1]*c,a}function hP(a,b){var c=b[0]-a[0],d=b[1]-a[1];return Math.hypot(c,d)}function hQ(a){var b=a[0],c=a[1];return Math.hypot(b,c)}function hR(c,b){var d=b[0],e=b[1],a=d*d+e*e;return a>0&&(a=1/Math.sqrt(a)),c[0]=b[0]*a,c[1]=b[1]*a,c}function hS(e,f){var a=e[0],b=e[1],c=f[0],d=f[1],g=Math.sqrt(a*a+b*b)*Math.sqrt(c*c+d*d);return Math.acos(Math.min(Math.max(g&&(a*c+b*d)/g,-1),1))}Math.hypot||(Math.hypot=function(){for(var b=0,a=arguments.length;a--;)b+=arguments[a]*arguments[a];return Math.sqrt(b)});var as,hT,hU=cd;function hV(d,e,f){var a,b,c=[0,0,0,0,0,0,0,0,0];return a=c,b=f,a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=1,a[5]=0,a[6]=b[0],a[7]=b[1],a[8]=1,hK(d,c,e)}function hW(f,g,h){var a,d,b,c,e=[0,0,0,0,0,0,0,0,0];return a=e,b=Math.sin(d=h),c=Math.cos(d),a[0]=c,a[1]=b,a[2]=0,a[3]=-b,a[4]=c,a[5]=0,a[6]=0,a[7]=0,a[8]=1,hK(f,e,g)}function hX(d,e,f){var a,b,c=[0,0,0,0,0,0,0,0,0];return a=c,b=f,a[0]=b[0],a[1]=0,a[2]=0,a[3]=0,a[4]=b[1],a[5]=0,a[6]=0,a[7]=0,a[8]=1,hK(d,c,e)}function hY(a,b,c){return hK(a,c,b)}function at(d,e){for(var a=d?[].concat(d):[1,0,0,0,1,0,0,0,1],c=0,f=e.length;c<f;c++){var b=e[c];switch(b[0]){case"t":hV(a,a,[b[1],b[2]]);break;case"s":hX(a,a,[b[1],b[2]]);break;case"r":hW(a,a,b[1]);break;case"m":hY(a,a,b[1])}}return a}function hZ(d,e,g){var b,c,a=hS(d,e),f=(b=d,c=e,b[0]*c[1]-c[0]*b[1]>=0);return g?f?2*Math.PI-a:a:f?a:2*Math.PI-a}function h$(b,c){var a=[],d=b[0],e=b[1],f=b[2],g=b[3],h=b[4],i=b[5],j=b[6],k=b[7],l=b[8],m=c[0],n=c[1],o=c[2],p=c[3],q=c[4],r=c[5],s=c[6],t=c[7],u=c[8];return a[0]=m*d+n*g+o*j,a[1]=m*e+n*h+o*k,a[2]=m*f+n*i+o*l,a[3]=p*d+q*g+r*j,a[4]=p*e+q*h+r*k,a[5]=p*f+q*i+r*l,a[6]=s*d+t*g+u*j,a[7]=s*e+t*h+u*k,a[8]=s*f+t*i+u*l,a}function h_(a,c){var b=[],d=c[0],e=c[1];return b[0]=a[0]*d+a[3]*e+a[6],b[1]=a[1]*d+a[4]*e+a[7],b}function h0(c){var b=[],d=c[0],e=c[1],f=c[2],g=c[3],h=c[4],i=c[5],j=c[6],k=c[7],l=c[8],m=l*h-i*k,n=-l*g+i*j,o=k*g-h*j,a=d*m+e*n+f*o;return a?(a=1/a,b[0]=m*a,b[1]=(-l*e+f*k)*a,b[2]=(i*e-f*h)*a,b[3]=n*a,b[4]=(l*d-f*j)*a,b[5]=(-i*d+f*g)*a,b[6]=o*a,b[7]=(-k*d+e*j)*a,b[8]=(h*d-e*g)*a,b):null}as=new aa(2),aa!=Float32Array&&(as[0]=0,as[1]=0);var h1=at,h2="matrix",h3=["zIndex","capture","visible","type"],h4=["repeat"],bc=function(b){function a(d){var a=b.call(this,d)||this;a.attrs={};var c=a.getDefaultAttrs();return gA(c,d.attrs),a.attrs=c,a.initAttrs(c),a.initAnimate(),a}return fl(a,b),a.prototype.getDefaultCfg=function(){return{visible:!0,capture:!0,zIndex:0}},a.prototype.getDefaultAttrs=function(){return{matrix:this.getDefaultMatrix(),opacity:1}},a.prototype.onCanvasChange=function(a){},a.prototype.initAttrs=function(a){},a.prototype.initAnimate=function(){this.set("animable",!0),this.set("animating",!1)},a.prototype.isGroup=function(){return!1},a.prototype.getParent=function(){return this.get("parent")},a.prototype.getCanvas=function(){return this.get("canvas")},a.prototype.attr=function(){for(var d,b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];var a=b[0],e=b[1];if(!a)return this.attrs;if(fC(a)){for(var f in a)this.setAttr(f,a[f]);return this.afterAttrsChange(a),this}return 2===b.length?(this.setAttr(a,e),this.afterAttrsChange(((d={})[a]=e,d)),this):this.attrs[a]},a.prototype.isClipped=function(b,c){var a=this.getClip();return a&&!a.isHit(b,c)},a.prototype.setAttr=function(a,b){var c=this.attrs[a];c!==b&&(this.attrs[a]=b,this.onAttrChange(a,b,c))},a.prototype.onAttrChange=function(a,b,c){"matrix"===a&&this.set("totalMatrix",null)},a.prototype.afterAttrsChange=function(b){if(this.cfg.isClipShape){var a=this.cfg.applyTo;a&&a.onCanvasChange("clip")}else this.onCanvasChange("attr")},a.prototype.show=function(){return this.set("visible",!0),this.onCanvasChange("show"),this},a.prototype.hide=function(){return this.set("visible",!1),this.onCanvasChange("hide"),this},a.prototype.setZIndex=function(b){this.set("zIndex",b);var a=this.getParent();return a&&a.sort(),this},a.prototype.toFront=function(){var b=this.getParent();if(b){var a=b.getChildren();this.get("el");var c=a.indexOf(this);a.splice(c,1),a.push(this),this.onCanvasChange("zIndex")}},a.prototype.toBack=function(){var b=this.getParent();if(b){var a=b.getChildren();this.get("el");var c=a.indexOf(this);a.splice(c,1),a.unshift(this),this.onCanvasChange("zIndex")}},a.prototype.remove=function(a){void 0===a&&(a=!0);var b=this.getParent();b?(hs(b.getChildren(),this),b.get("clearing")||this.onCanvasChange("remove")):this.onCanvasChange("remove"),a&&this.destroy()},a.prototype.resetMatrix=function(){this.attr(h2,this.getDefaultMatrix()),this.onCanvasChange("matrix")},a.prototype.getMatrix=function(){return this.attr(h2)},a.prototype.setMatrix=function(a){this.attr(h2,a),this.onCanvasChange("matrix")},a.prototype.getTotalMatrix=function(){var a=this.cfg.totalMatrix;if(!a){var b=this.attr("matrix"),c=this.cfg.parentMatrix;a=c&&b?h$(c,b):b||c,this.set("totalMatrix",a)}return a},a.prototype.applyMatrix=function(a){var b=this.attr("matrix"),c=null;c=a&&b?h$(a,b):b||a,this.set("totalMatrix",c),this.set("parentMatrix",a)},a.prototype.getDefaultMatrix=function(){return null},a.prototype.applyToMatrix=function(a){var b=this.attr("matrix");return b?h_(b,a):a},a.prototype.invertFromMatrix=function(a){var b=this.attr("matrix");if(b){var c=h0(b);if(c)return h_(c,a)}return a},a.prototype.setClip=function(a){var d=this.getCanvas(),b=null;if(a){var e,c=this.getShapeBase()[gh(a.type)];c&&(b=new c({type:a.type,isClipShape:!0,applyTo:this,attrs:a.attrs,canvas:d}))}return this.set("clipShape",b),this.onCanvasChange("clip"),b},a.prototype.getClip=function(){var a=this.cfg.clipShape;return a||null},a.prototype.clone=function(){var d=this,a=this.attrs,b={};I(a,function(d,c){fB(a[c])?b[c]=function(b){for(var c=[],a=0;a<b.length;a++)fB(b[a])?c.push([].concat(b[a])):c.push(b[a]);return c}(a[c]):b[c]=a[c]});var c=new this.constructor({attrs:b});return I(h3,function(a){c.set(a,d.get(a))}),c},a.prototype.destroy=function(){!this.destroyed&&(this.attrs={},b.prototype.destroy.call(this))},a.prototype.isAnimatePaused=function(){return this.get("_pause").isPaused},a.prototype.animate=function(){for(var k,h,m,n,b,e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];if(this.get("timeline")||this.get("canvas")){this.set("animating",!0);var c=this.get("timeline");c||(c=this.get("canvas").get("timeline"),this.set("timeline",c));var g=this.get("animations")||[];c.timer||c.initTimer();var o,p,q,w,a=e[0],j=e[1],r=e[2],d=void 0===r?"easeLinear":r,s=e[3],f=void 0===s?gJ:s,t=e[4],l=void 0===t?0:t;fz(a)?(k=a,a={}):fC(a)&&a.onFrame&&(k=a.onFrame,h=a.repeat),fC(j)?(j=(b=j).duration,d=b.easing||"easeLinear",l=b.delay||0,h=b.repeat||h||!1,f=b.callback||gJ,m=b.pauseCallback||gJ,n=b.resumeCallback||gJ):(f5(f)&&(l=f,f=null),fz(d)?(f=d,d="easeLinear"):d=d||"easeLinear");var u=(o=a,p=this,q={},w=p.attr(),I(o,function(b,a){-1!==h4.indexOf(a)||gw(w[a],b)||(q[a]=b)}),q),v={fromAttrs:function(c,d){var a={},e=d.attrs;for(var b in c)a[b]=e[b];return a}(u,this),toAttrs:u,duration:j,easing:d,repeat:h,callback:f,pauseCallback:m,resumeCallback:n,delay:l,startTime:c.getTime(),id:gI(),onFrame:k,pathFormatted:!1};g.length>0?g=function(b,a){if(a.onFrame)return b;var c=a.startTime,d=a.delay,e=a.duration,f=Object.prototype.hasOwnProperty;return I(b,function(b){c+d<b.startTime+b.delay+b.duration&&e>b.delay&&I(a.toAttrs,function(c,a){f.call(b.toAttrs,a)&&(delete b.toAttrs[a],delete b.fromAttrs[a])})}),b}(g,v):c.addAnimator(this),g.push(v),this.set("animations",g),this.set("_pause",{isPaused:!1})}},a.prototype.stopAnimate=function(a){var b=this;void 0===a&&(a=!0),I(this.get("animations"),function(c){a&&(c.onFrame?b.attr(c.onFrame(1)):b.attr(c.toAttrs)),c.callback&&c.callback()}),this.set("animating",!1),this.set("animations",[])},a.prototype.pauseAnimate=function(){var a=this.get("timeline"),b=this.get("animations"),c=a.getTime();return I(b,function(a){a._paused=!0,a._pauseTime=c,a.pauseCallback&&a.pauseCallback()}),this.set("_pause",{isPaused:!0,pauseTime:c}),this},a.prototype.resumeAnimate=function(){var b=this.get("timeline").getTime(),a=this.get("animations"),c=this.get("_pause").pauseTime;return I(a,function(a){a.startTime=a.startTime+(b-c),a._paused=!1,a._pauseTime=null,a.resumeCallback&&a.resumeCallback()}),this.set("_pause",{isPaused:!1}),this.set("animations",a),this},a.prototype.emitDelegation=function(c,a){var d,f=this,e=a.propagationPath;this.getEvents(),"mouseenter"===c?d=a.fromShape:"mouseleave"===c&&(d=a.toShape);for(var g=this,b=0;b<e.length&&"break"!==function(h){var b=e[h],c=b.get("name");if(c){if((b.isGroup()||b.isCanvas&&b.isCanvas())&&d&&hu(b,d))return"break";fB(c)?I(c,function(c){f.emitDelegateEvent(b,c,a)}):g.emitDelegateEvent(b,c,a)}}(b);b++);},a.prototype.emitDelegateEvent=function(c,e,a){var d=this.getEvents(),b=e+":"+a.type;(d[b]||d["*"])&&(a.name=b,a.currentTarget=c,a.delegateTarget=this,a.delegateObject=c.get("delegateObject"),this.emit(b,a))},a.prototype.translate=function(a,b){void 0===a&&(a=0),void 0===b&&(b=0);var c=h1(this.getMatrix(),[["t",a,b]]);return this.setMatrix(c),this},a.prototype.move=function(a,b){var c=this.attr("x")||0,d=this.attr("y")||0;return this.translate(a-c,b-d),this},a.prototype.moveTo=function(a,b){return this.move(a,b)},a.prototype.scale=function(a,b){var c=h1(this.getMatrix(),[["s",a,b||a]]);return this.setMatrix(c),this},a.prototype.rotate=function(a){var b=h1(this.getMatrix(),[["r",a]]);return this.setMatrix(b),this},a.prototype.rotateAtStart=function(d){var a=this.attr(),b=a.x,c=a.y,e=h1(this.getMatrix(),[["t",-b,-c],["r",d],["t",b,c],]);return this.setMatrix(e),this},a.prototype.rotateAtPoint=function(a,b,c){var d=h1(this.getMatrix(),[["t",-a,-b],["r",c],["t",a,b],]);return this.setMatrix(d),this},a}(bb),h5={},h6="_INDEX";function h7(a,c){if(a.set("canvas",c),a.isGroup()){var b=a.get("children");b.length&&b.forEach(function(a){h7(a,c)})}}function h8(a,c){if(a.set("timeline",c),a.isGroup()){var b=a.get("children");b.length&&b.forEach(function(a){h8(a,c)})}}var h9,ia,ib,ic,id,ie,ig,bd,ih,ii,ij,ik,il,im,be=function(b){function a(){return null!==b&&b.apply(this,arguments)||this}return fl(a,b),a.prototype.isCanvas=function(){return!1},a.prototype.getBBox=function(){var a=1/0,c=-1/0,b=1/0,d=-1/0,e=[],f=[],g=this.getChildren().filter(function(a){return a.get("visible")&&(!a.isGroup()||a.isGroup()&&a.getChildren().length>0)});return g.length>0?(I(g,function(b){var a=b.getBBox();e.push(a.minX,a.maxX),f.push(a.minY,a.maxY)}),a=fN(e),c=fM(e),b=fN(f),d=fM(f)):(a=0,c=0,b=0,d=0),{x:a,y:b,minX:a,minY:b,maxX:c,maxY:d,width:c-a,height:d-b}},a.prototype.getCanvasBBox=function(){var a=1/0,c=-1/0,b=1/0,d=-1/0,e=[],f=[],g=this.getChildren().filter(function(a){return a.get("visible")&&(!a.isGroup()||a.isGroup()&&a.getChildren().length>0)});return g.length>0?(I(g,function(b){var a=b.getCanvasBBox();e.push(a.minX,a.maxX),f.push(a.minY,a.maxY)}),a=fN(e),c=fM(e),b=fN(f),d=fM(f)):(a=0,c=0,b=0,d=0),{x:a,y:b,minX:a,minY:b,maxX:c,maxY:d,width:c-a,height:d-b}},a.prototype.getDefaultCfg=function(){var a=b.prototype.getDefaultCfg.call(this);return a.children=[],a},a.prototype.onAttrChange=function(a,c,d){if(b.prototype.onAttrChange.call(this,a,c,d),"matrix"===a){var e=this.getTotalMatrix();this._applyChildrenMarix(e)}},a.prototype.applyMatrix=function(c){var d=this.getTotalMatrix();b.prototype.applyMatrix.call(this,c);var a=this.getTotalMatrix();a!==d&&this._applyChildrenMarix(a)},a.prototype._applyChildrenMarix=function(a){I(this.getChildren(),function(b){b.applyMatrix(a)})},a.prototype.addShape=function(){for(var d=[],b=0;b<arguments.length;b++)d[b]=arguments[b];var e=d[0],a=d[1];fC(e)?a=e:a.type=e;var c=h5[a.type];c||(c=gh(a.type),h5[a.type]=c);var f=new(this.getShapeBase())[c](a);return this.add(f),f},a.prototype.addGroup=function(){for(var a,c=[],b=0;b<arguments.length;b++)c[b]=arguments[b];var d=c[0],e=c[1];if(fz(d))a=new d(e?e:{parent:this});else{var f=d||{};a=new(this.getGroupBase())(f)}return this.add(a),a},a.prototype.getCanvas=function(){var a;return this.isCanvas()?this:this.get("canvas")},a.prototype.getShape=function(c,d,e){if(!hv(this))return null;var b,f=this.getChildren();if(this.isCanvas())b=this._findShape(f,c,d,e);else{var a=[c,d,1];a=this.invertFromMatrix(a),this.isClipped(a[0],a[1])||(b=this._findShape(f,a[0],a[1],e))}return b},a.prototype._findShape=function(d,e,f,g){for(var b=null,c=d.length-1;c>=0;c--){var a=d[c];if(hv(a)&&(a.isGroup()?b=a.getShape(e,f,g):a.isHit(e,f)&&(b=a)),b)break}return b},a.prototype.add=function(a){var c,b,d,e=this.getCanvas(),h=this.getChildren(),f=this.get("timeline"),g=a.getParent();g&&(c=g,b=a,d=!1,d?b.destroy():(b.set("parent",null),b.set("canvas",null)),hs(c.getChildren(),b)),a.set("parent",this),e&&h7(a,e),f&&h8(a,f),h.push(a),a.onCanvasChange("add"),this._applyElementMatrix(a)},a.prototype._applyElementMatrix=function(b){var a=this.getTotalMatrix();a&&b.applyMatrix(a)},a.prototype.getChildren=function(){return this.get("children")},a.prototype.sort=function(){var a=this.getChildren();I(a,function(a,b){return a[h6]=b,a}),a.sort(function(a){return function(b,c){var d=a(b,c);return 0===d?b[h6]-c[h6]:d}}(function(a,b){return a.get("zIndex")-b.get("zIndex")})),this.onCanvasChange("sort")},a.prototype.clear=function(){if(this.set("clearing",!0),!this.destroyed){for(var b=this.getChildren(),a=b.length-1;a>=0;a--)b[a].destroy();this.set("children",[]),this.onCanvasChange("clear"),this.set("clearing",!1)}},a.prototype.destroy=function(){!this.get("destroyed")&&(this.clear(),b.prototype.destroy.call(this))},a.prototype.getFirst=function(){return this.getChildByIndex(0)},a.prototype.getLast=function(){var a=this.getChildren();return this.getChildByIndex(a.length-1)},a.prototype.getChildByIndex=function(a){return this.getChildren()[a]},a.prototype.getCount=function(){return this.getChildren().length},a.prototype.contain=function(a){return this.getChildren().indexOf(a)> -1},a.prototype.removeChild=function(b,a){void 0===a&&(a=!0),this.contain(b)&&b.remove(a)},a.prototype.findAll=function(b){var a=[];return I(this.getChildren(),function(c){b(c)&&a.push(c),c.isGroup()&&(a=a.concat(c.findAll(b)))}),a},a.prototype.find=function(b){var a=null;return I(this.getChildren(),function(c){if(b(c)?a=c:c.isGroup()&&(a=c.find(b)),a)return!1}),a},a.prototype.findById=function(a){return this.find(function(b){return b.get("id")===a})},a.prototype.findByClassName=function(a){return this.find(function(b){return b.get("className")===a})},a.prototype.findAllByName=function(a){return this.findAll(function(b){return b.get("name")===a})},a}(bc),io=0,ip=0,iq=0,ir=0,is=0,it=0,iu="object"==typeof performance&&performance.now?performance:Date,iv="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(a){setTimeout(a,17)};function iw(){return is||(iv(ix),is=iu.now()+it)}function ix(){is=0}function bf(){this._call=this._time=this._next=null}function ce(b,c,d){var a=new bf;return a.restart(b,c,d),a}function iy(){is=(ir=iu.now())+it,io=ip=0;try{!function(){iw(),++io;for(var b,a=il;a;)(b=is-a._time)>=0&&a._call.call(null,b),a=a._next;--io}()}finally{io=0,iA(),is=0}}function iz(){var a=iu.now(),b=a-ir;b>1e3&&(it-=b,ir=a)}function iA(){for(var b,c,a=il,d=1/0;a;)a._call?(d>a._time&&(d=a._time),b=a,a=a._next):(c=a._next,a._next=null,a=b?b._next=c:il=c);im=b,iB(d)}function iB(a){!io&&(ip&&(ip=clearTimeout(ip)),a-is>24?(a<1/0&&(ip=setTimeout(iy,a-iu.now()-it)),iq&&(iq=clearInterval(iq))):(iq||(ir=iu.now(),iq=setInterval(iz,1e3)),io=1,iv(iy)))}function au(a,c,b){a.prototype=c.prototype=b,b.constructor=a}function bg(d,a){var b=Object.create(d.prototype);for(var c in a)b[c]=a[c];return b}function av(){}bf.prototype=ce.prototype={constructor:bf,restart:function(b,c,a){if("function"!=typeof b)throw TypeError("callback is not a function");a=(null==a?iw():+a)+(null==c?0:+c),this._next||im===this||(im?im._next=this:il=this,im=this),this._call=b,this._time=a,iB()},stop:function(){this._call&&(this._call=null,this._time=1/0,iB())}};var K="\\s*([+-]?\\d+)\\s*",S="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",r="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",iC=/^#([0-9a-f]{3,8})$/,iD=RegExp("^rgb\\("+[K,K,K]+"\\)$"),iE=RegExp("^rgb\\("+[r,r,r]+"\\)$"),iF=RegExp("^rgba\\("+[K,K,K,S]+"\\)$"),iG=RegExp("^rgba\\("+[r,r,r,S]+"\\)$"),iH=RegExp("^hsl\\("+[S,r,r]+"\\)$"),iI=RegExp("^hsla\\("+[S,r,r,S]+"\\)$"),iJ={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function bh(){return this.rgb().formatHex()}function bi(){return this.rgb().formatRgb()}function cf(b){var a,c;return b=(b+"").trim().toLowerCase(),(a=iC.exec(b))?(c=a[1].length,a=parseInt(a[1],16),6===c?iK(a):3===c?new ch(a>>8&15|a>>4&240,a>>4&15|240&a,(15&a)<<4|15&a,1):8===c?iL(a>>24&255,a>>16&255,a>>8&255,(255&a)/255):4===c?iL(a>>12&15|a>>8&240,a>>8&15|a>>4&240,a>>4&15|240&a,((15&a)<<4|15&a)/255):null):(a=iD.exec(b))?new ch(a[1],a[2],a[3],1):(a=iE.exec(b))?new ch(255*a[1]/100,255*a[2]/100,255*a[3]/100,1):(a=iF.exec(b))?iL(a[1],a[2],a[3],a[4]):(a=iG.exec(b))?iL(255*a[1]/100,255*a[2]/100,255*a[3]/100,a[4]):(a=iH.exec(b))?iN(a[1],a[2]/100,a[3]/100,1):(a=iI.exec(b))?iN(a[1],a[2]/100,a[3]/100,a[4]):iJ.hasOwnProperty(b)?iK(iJ[b]):"transparent"===b?new ch(NaN,NaN,NaN,0):null}function iK(a){return new ch(a>>16&255,a>>8&255,255&a,1)}function iL(a,b,c,d){return d<=0&&(a=b=c=NaN),new ch(a,b,c,d)}function cg(b,d,e,c){var a;return 1===arguments.length?((a=b)instanceof av||(a=cf(a)),a)?(a=a.rgb(),new ch(a.r,a.g,a.b,a.opacity)):new ch:new ch(b,d,e,null==c?1:c)}function ch(a,b,c,d){this.r=+a,this.g=+b,this.b=+c,this.opacity=+d}function bj(){return"#"+iM(this.r)+iM(this.g)+iM(this.b)}function bk(){var a=this.opacity;return(1===(a=isNaN(a)?1:Math.max(0,Math.min(1,a)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===a?")":", "+a+")")}function iM(a){return((a=Math.max(0,Math.min(255,Math.round(a)||0)))<16?"0":"")+a.toString(16)}function iN(a,b,c,d){return d<=0?a=b=c=NaN:c<=0||c>=1?a=b=NaN:b<=0&&(a=NaN),new ci(a,b,c,d)}function iO(a){if(a instanceof ci)return new ci(a.h,a.s,a.l,a.opacity);if(a instanceof av||(a=cf(a)),!a)return new ci;if(a instanceof ci)return a;var e=(a=a.rgb()).r/255,c=a.g/255,f=a.b/255,g=Math.min(e,c,f),d=Math.max(e,c,f),h=NaN,b=d-g,i=(d+g)/2;return b?(h=e===d?(c-f)/b+(c<f)*6:c===d?(f-e)/b+2:(e-c)/b+4,b/=i<.5?d+g:2-d-g,h*=60):b=i>0&&i<1?0:h,new ci(h,b,i,a.opacity)}function ci(a,b,c,d){this.h=+a,this.s=+b,this.l=+c,this.opacity=+d}function iP(a,b,c){return(a<60?b+(c-b)*a/60:a<180?c:a<240?b+(c-b)*(240-a)/60:b)*255}function iQ(a,d,e,f,g){var b=a*a,c=b*a;return((1-3*a+3*b-c)*d+(4-6*b+3*c)*e+(1+3*a+3*b-3*c)*f+c*g)/6}function iR(a){return function(){return a}}au(av,cf,{copy:function(a){return Object.assign(new this.constructor,this,a)},displayable:function(){return this.rgb().displayable()},hex:bh,formatHex:bh,formatHsl:function(){return iO(this).formatHsl()},formatRgb:bi,toString:bi}),au(ch,cg,bg(av,{brighter:function(a){return a=null==a?1.4285714285714286:Math.pow(1.4285714285714286,a),new ch(this.r*a,this.g*a,this.b*a,this.opacity)},darker:function(a){return a=null==a?.7:Math.pow(.7,a),new ch(this.r*a,this.g*a,this.b*a,this.opacity)},rgb:function(){return this},displayable:function(){return -0.5<=this.r&&this.r<255.5&& -0.5<=this.g&&this.g<255.5&& -0.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:bj,formatHex:bj,formatRgb:bk,toString:bk})),au(ci,function(a,c,d,b){return 1===arguments.length?iO(a):new ci(a,c,d,null==b?1:b)},bg(av,{brighter:function(a){return a=null==a?1.4285714285714286:Math.pow(1.4285714285714286,a),new ci(this.h,this.s,this.l*a,this.opacity)},darker:function(a){return a=null==a?.7:Math.pow(.7,a),new ci(this.h,this.s,this.l*a,this.opacity)},rgb:function(){var a=this.h%360+(this.h<0)*360,e=isNaN(a)||isNaN(this.s)?0:this.s,b=this.l,c=b+(b<.5?b:1-b)*e,d=2*b-c;return new ch(iP(a>=240?a-240:a+120,d,c),iP(a,d,c),iP(a<120?a+240:a-120,d,c),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var a=this.opacity;return(1===(a=isNaN(a)?1:Math.max(0,Math.min(1,a)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===a?")":", "+a+")")}}));function iS(a,b){var d,e,c=b-a;return c?(d=a,e=c,function(a){return d+a*e}):iR(isNaN(a)?b:a)}var iT=function c(d){var a,e=1==(a=+(a=1))?iS:function(b,e){var c,f,d;return e-b?(c=b,f=e,c=Math.pow(c,d=a),f=Math.pow(f,d)-c,d=1/d,function(a){return Math.pow(c+a*f,d)}):iR(isNaN(b)?e:b)};function b(a,b){var c=e((a=cg(a)).r,(b=cg(b)).r),d=e(a.g,b.g),f=e(a.b,b.b),g=iS(a.opacity,b.opacity);return function(b){return a.r=c(b),a.g=d(b),a.b=f(b),a.opacity=g(b),a+""}}return b.gamma=c,b}(1);function bl(a){return function(h){var b,c,d=h.length,e=Array(d),f=Array(d),g=Array(d);for(b=0;b<d;++b)c=cg(h[b]),e[b]=c.r||0,f[b]=c.g||0,g[b]=c.b||0;return e=a(e),f=a(f),g=a(g),c.opacity=1,function(a){return c.r=e(a),c.g=f(a),c.b=g(a),c+""}}}function iU(b,a){a||(a=[]);var c,d=b?Math.min(a.length,b.length):0,e=a.slice();return function(f){for(c=0;c<d;++c)e[c]=b[c]*(1-f)+a[c]*f;return e}}function iV(a){return ArrayBuffer.isView(a)&&!(a instanceof DataView)}function iW(b,a){return(iV(a)?iU:iX)(b,a)}function iX(c,b){var a,d=b?b.length:0,e=c?Math.min(d,c.length):0,f=Array(e),g=Array(d);for(a=0;a<e;++a)f[a]=i1(c[a],b[a]);for(;a<d;++a)g[a]=b[a];return function(b){for(a=0;a<e;++a)g[a]=f[a](b);return g}}function iY(a,b){var c=new Date;return a=+a,b=+b,function(d){return c.setTime(a*(1-d)+b*d),c}}function iZ(a,b){return a=+a,b=+b,function(c){return a*(1-c)+b*c}}function i$(c,b){var a,d={},e={};for(a in(null===c||"object"!=typeof c)&&(c={}),(null===b||"object"!=typeof b)&&(b={}),b)a in c?d[a]=i1(c[a],b[a]):e[a]=b[a];return function(b){for(a in d)e[a]=d[a](b);return e}}bl(function(a){var b=a.length-1;return function(d){var c=d<=0?d=0:d>=1?(d=1,b-1):Math.floor(d*b),e=a[c],f=a[c+1],g=c>0?a[c-1]:2*e-f,h=c<b-1?a[c+2]:2*f-e;return iQ((d-c/b)*b,g,e,f,h)}}),bl(function(a){var b=a.length;return function(d){var c=Math.floor(((d%=1)<0?++d:d)*b),e=a[(c+b-1)%b],f=a[c%b],g=a[(c+1)%b],h=a[(c+2)%b];return iQ((d-c/b)*b,e,f,g,h)}});var cj=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,i_=RegExp(cj.source,"g");function i0(i,d){var j,k,g,e,c,f=cj.lastIndex=i_.lastIndex=0,a=-1,b=[],h=[];for(i+="",d+="";(g=cj.exec(i))&&(e=i_.exec(d));)(c=e.index)>f&&(c=d.slice(f,c),b[a]?b[a]+=c:b[++a]=c),(g=g[0])===(e=e[0])?b[a]?b[a]+=e:b[++a]=e:(b[++a]=null,h.push({i:a,x:iZ(g,e)})),f=i_.lastIndex;return f<d.length&&(c=d.slice(f),b[a]?b[a]+=c:b[++a]=c),b.length<2?h[0]?(j=h[0].x,function(a){return j(a)+""}):(k=d,function(){return k}):(d=h.length,function(e){for(var c,a=0;a<d;++a)b[(c=h[a]).i]=c.x(e);return b.join("")})}function i1(d,a){var c,b=typeof a;return null==a||"boolean"===b?iR(a):("number"===b?iZ:"string"===b?(c=cf(a))?(a=c,iT):i0:a instanceof cf?iT:a instanceof Date?iY:iV(a)?iU:Array.isArray(a)?iX:"function"!=typeof a.valueOf&&"function"!=typeof a.toString||isNaN(a)?i$:iZ)(d,a)}function i2(a){return+a}function i3(a){return a*a}function i4(a){return a*(2-a)}function i5(a){return((a*=2)<=1?a*a:--a*(2-a)+1)/2}function i6(a){return a*a*a}function i7(a){return--a*a*a+1}function i8(a){return((a*=2)<=1?a*a*a:(a-=2)*a*a+2)/2}var i9=function c(a){function b(b){return Math.pow(b,a)}return a=+a,b.exponent=c,b}(3),ja=function c(a){function b(b){return 1-Math.pow(1-b,a)}return a=+a,b.exponent=c,b}(3),jb=function c(a){function b(b){return((b*=2)<=1?Math.pow(b,a):2-Math.pow(2-b,a))/2}return a=+a,b.exponent=c,b}(3),ck=Math.PI,jc=ck/2;function jd(a){return 1== +a?1:1-Math.cos(a*jc)}function je(a){return Math.sin(a*jc)}function jf(a){return(1-Math.cos(ck*a))/2}function jg(a){return(Math.pow(2,-10*a)-9765625e-10)*1.0009775171065494}function jh(a){return jg(1- +a)}function ji(a){return 1-jg(a)}function jj(a){return((a*=2)<=1?jg(1-a):2-jg(a-1))/2}function jk(a){return 1-Math.sqrt(1-a*a)}function jl(a){return Math.sqrt(1- --a*a)}function jm(a){return((a*=2)<=1?1-Math.sqrt(1-a*a):Math.sqrt(1-(a-=2)*a)+1)/2}var bm=4/11,jn=6/11,jo=8/11,jp=9/11,jq=10/11,jr=21/22,js=63/64,jt=1/bm/bm;function ju(a){return 1-jv(1-a)}function jv(a){return(a=+a)<bm?jt*a*a:a<jo?jt*(a-=jn)*a+.75:a<jq?jt*(a-=jp)*a+.9375:jt*(a-=jr)*a+js}function jw(a){return((a*=2)<=1?1-jv(1-a):jv(a-1)+1)/2}var jx=function c(a){function b(b){return(b=+b)*b*(a*(b-1)+b)}return a=+a,b.overshoot=c,b}(1.70158),jy=function c(a){function b(b){return--b*b*((b+1)*a+b)+1}return a=+a,b.overshoot=c,b}(1.70158),jz=function c(a){function b(b){return((b*=2)<1?b*b*((a+1)*b-a):(b-=2)*b*((a+1)*b+a)+2)/2}return a=+a,b.overshoot=c,b}(1.70158),jA=2*Math.PI,jB=function d(b,c){var e=Math.asin(1/(b=Math.max(1,b)))*(c/=jA);function a(a){return b*jg(- --a)*Math.sin((e-a)/c)}return a.amplitude=function(a){return d(a,c*jA)},a.period=function(a){return d(b,a)},a}(1,.3),jC=function d(b,c){var e=Math.asin(1/(b=Math.max(1,b)))*(c/=jA);function a(a){return 1-b*jg(a=+a)*Math.sin((a+e)/c)}return a.amplitude=function(a){return d(a,c*jA)},a.period=function(a){return d(b,a)},a}(1,.3),jD=function d(b,c){var e=Math.asin(1/(b=Math.max(1,b)))*(c/=jA);function a(a){return((a=2*a-1)<0?b*jg(-a)*Math.sin((e-a)/c):2-b*jg(a)*Math.sin((e+a)/c))/2}return a.amplitude=function(a){return d(a,c*jA)},a.period=function(a){return d(b,a)},a}(1,.3),jE={};function jF(a,b){jE[a.toLowerCase()]=b}var jG=[1,0,0,0,1,0,0,0,1];function jH(d,a,c){var b,f=a.startTime;if(c<f+a.delay||a._paused)return!1;var g,e=a.duration,h=jE[(g=a.easing).toLowerCase()]||aY[g];if(c=c-f-a.delay,a.repeat)b=h(b=c%e/e);else{if(!((b=c/e)<1))return a.onFrame?d.attr(a.onFrame(1)):d.attr(a.toAttrs),!0;b=h(b)}if(a.onFrame){var i=a.onFrame(b);d.attr(i)}else!function(o,e,l){var i,g={},h=e.fromAttrs,c=e.toAttrs;if(!o.destroyed){for(var a in c)if(!gw(h[a],c[a])){if("path"===a){var q,p,d=c[a],b=h[a];d.length>b.length?(d=gX(c[a]),b=gX(h[a]),b=hn(b,d),b=hq(b,d),e.fromAttrs.path=b,e.toAttrs.path=d):e.pathFormatted||(d=gX(c[a]),b=gX(h[a]),b=hq(b,d),e.fromAttrs.path=b,e.toAttrs.path=d,e.pathFormatted=!0),g[a]=[];for(var j=0;j<d.length;j++){for(var k=d[j],m=b[j],n=[],f=0;f<k.length;f++)f5(k[f])&&m&&f5(m[f])?(i=i1(m[f],k[f]),n.push(i(l))):n.push(k[f]);g[a].push(n)}}else if("matrix"===a){var r=iW(h[a]||jG,c[a]||jG)(l);g[a]=r}else["fill","stroke","fillStyle","strokeStyle"].includes(q=a)&&(p=c[a],/^[r,R,L,l]{1}[\s]*\(/.test(p))?g[a]=c[a]:fz(c[a])||(i=i1(h[a],c[a]),g[a]=i(l))}o.attr(g)}}(d,a,b);return!1}var jI=function(){function a(a){this.animators=[],this.current=0,this.timer=null,this.canvas=a}return a.prototype.initTimer=function(){var a,b,c,d=this,e=!1;this.timer=ce(function(h){if(d.current=h,d.animators.length>0){for(var f=d.animators.length-1;f>=0;f--){if((a=d.animators[f]).destroyed){d.removeAnimator(f);continue}if(!a.isAnimatePaused()){b=a.get("animations");for(var g=b.length-1;g>=0;g--)(e=jH(a,c=b[g],h))&&(b.splice(g,1),e=!1,c.callback&&c.callback())}0===b.length&&d.removeAnimator(f)}d.canvas.get("autoDraw")||d.canvas.draw()}})},a.prototype.addAnimator=function(a){this.animators.push(a)},a.prototype.removeAnimator=function(a){this.animators.splice(a,1)},a.prototype.isAnimating=function(){return!!this.animators.length},a.prototype.stop=function(){this.timer&&this.timer.stop()},a.prototype.stopAllAnimations=function(a){void 0===a&&(a=!0),this.animators.forEach(function(b){b.stopAnimate(a)}),this.animators=[],this.canvas.draw()},a.prototype.getTime=function(){return this.current},a}(),jJ=["mousedown","mouseup","dblclick","mouseout","mouseover","mousemove","mouseleave","mouseenter","touchstart","touchmove","touchend","dragenter","dragover","dragleave","drop","contextmenu","mousewheel",];function jK(b,c,a){a.name=c,a.target=b,a.currentTarget=b,a.delegateTarget=b,b.emit(c,a)}function jL(b,c,a){if(a.bubbles){var d=void 0,e=!1;if("mouseenter"===c?(d=a.fromShape,e=!0):"mouseleave"===c&&(e=!0,d=a.toShape),!b.isCanvas()||!e){if(d&&hu(b,d)){a.bubbles=!1;return}a.name=c,a.currentTarget=b,a.delegateTarget=b,b.emit(c,a)}}}var jM=function(){function a(a){var b=this;this.draggingShape=null,this.dragging=!1,this.currentShape=null,this.mousedownShape=null,this.mousedownPoint=null,this._eventCallback=function(a){var c=a.type;b._triggerEvent(c,a)},this._onDocumentMove=function(a){if(b.canvas.get("el")!==a.target&&(b.dragging||b.currentShape)){var c=b._getPointInfo(a);b.dragging&&b._emitEvent("drag",a,c,b.draggingShape)}},this._onDocumentMouseUp=function(a){if(b.canvas.get("el")!==a.target&&b.dragging){var c=b._getPointInfo(a);b.draggingShape&&b._emitEvent("drop",a,c,null),b._emitEvent("dragend",a,c,b.draggingShape),b._afterDrag(b.draggingShape,c,a)}},this.canvas=a.canvas}return a.prototype.init=function(){this._bindEvents()},a.prototype._bindEvents=function(){var a=this,b=this.canvas.get("el");I(jJ,function(c){b.addEventListener(c,a._eventCallback)}),document&&(document.addEventListener("mousemove",this._onDocumentMove),document.addEventListener("mouseup",this._onDocumentMouseUp))},a.prototype._clearEvents=function(){var a=this,b=this.canvas.get("el");I(jJ,function(c){b.removeEventListener(c,a._eventCallback)}),document&&(document.removeEventListener("mousemove",this._onDocumentMove),document.removeEventListener("mouseup",this._onDocumentMouseUp))},a.prototype._getEventObj=function(c,d,b,e,f,g){var a=new hr(c,d);return a.fromShape=f,a.toShape=g,a.x=b.x,a.y=b.y,a.clientX=b.clientX,a.clientY=b.clientY,a.propagationPath.push(e),a},a.prototype._getShape=function(a,b){return this.canvas.getShape(a.x,a.y,b)},a.prototype._getPointInfo=function(a){var b=this.canvas,c=b.getClientByEvent(a),d=b.getPointByEvent(a);return{x:d.x,y:d.y,clientX:c.x,clientY:c.y}},a.prototype._triggerEvent=function(a,b){var d=this._getPointInfo(b),c=this._getShape(d,b),f=this["_on"+a],g=!1;if(f)f.call(this,d,c,b);else{var e=this.currentShape;"mouseenter"===a||"dragenter"===a||"mouseover"===a?(this._emitEvent(a,b,d,null,null,c),c&&this._emitEvent(a,b,d,c,null,c),"mouseenter"===a&&this.draggingShape&&this._emitEvent("dragenter",b,d,null)):"mouseleave"===a||"dragleave"===a||"mouseout"===a?(g=!0,e&&this._emitEvent(a,b,d,e,e,null),this._emitEvent(a,b,d,null,e,null),"mouseleave"===a&&this.draggingShape&&this._emitEvent("dragleave",b,d,null)):this._emitEvent(a,b,d,c,null,null)}if(g||(this.currentShape=c),c&&!c.get("destroyed")){var h=this.canvas;h.get("el").style.cursor=c.attr("cursor")||h.get("cursor")}},a.prototype._onmousedown=function(b,c,a){0===a.button&&(this.mousedownShape=c,this.mousedownPoint=b,this.mousedownTimeStamp=a.timeStamp),this._emitEvent("mousedown",a,b,c,null,null)},a.prototype._emitMouseoverEvents=function(c,d,b,a){var e=this.canvas.get("el");b!==a&&(b&&(this._emitEvent("mouseout",c,d,b,b,a),this._emitEvent("mouseleave",c,d,b,b,a),(!a||a.get("destroyed"))&&(e.style.cursor=this.canvas.get("cursor"))),a&&(this._emitEvent("mouseover",c,d,a,b,a),this._emitEvent("mouseenter",c,d,a,b,a)))},a.prototype._emitDragoverEvents=function(c,d,a,b,e){b?(b!==a&&(a&&this._emitEvent("dragleave",c,d,a,a,b),this._emitEvent("dragenter",c,d,b,a,b)),e||this._emitEvent("dragover",c,d,b)):a&&this._emitEvent("dragleave",c,d,a,a,b),e&&this._emitEvent("dragover",c,d,b)},a.prototype._afterDrag=function(a,c,d){a&&(a.set("capture",!0),this.draggingShape=null),this.dragging=!1;var b=this._getShape(c,d);b!==a&&this._emitMouseoverEvents(d,c,a,b),this.currentShape=b},a.prototype._onmouseup=function(b,c,a){if(0===a.button){var d=this.draggingShape;this.dragging?(d&&this._emitEvent("drop",a,b,c),this._emitEvent("dragend",a,b,d),this._afterDrag(d,b,a)):(this._emitEvent("mouseup",a,b,c),c===this.mousedownShape&&this._emitEvent("click",a,b,c),this.mousedownShape=null,this.mousedownPoint=null)}},a.prototype._ondragover=function(b,c,a){a.preventDefault();var d=this.currentShape;this._emitDragoverEvents(a,b,d,c,!0)},a.prototype._onmousemove=function(a,c,b){var j=this.canvas,e=this.currentShape,d=this.draggingShape;if(this.dragging)d&&this._emitDragoverEvents(b,a,e,c,!1),this._emitEvent("drag",b,a,d);else{var f=this.mousedownPoint;if(f){var g=this.mousedownShape,k=b.timeStamp-this.mousedownTimeStamp,h=f.clientX-a.clientX,i=f.clientY-a.clientY,l=h*h+i*i;k>120||l>40?g&&g.get("draggable")?((d=this.mousedownShape).set("capture",!1),this.draggingShape=d,this.dragging=!0,this._emitEvent("dragstart",b,a,d),this.mousedownShape=null,this.mousedownPoint=null):!g&&j.get("draggable")?(this.dragging=!0,this._emitEvent("dragstart",b,a,null),this.mousedownShape=null,this.mousedownPoint=null):(this._emitMouseoverEvents(b,a,e,c),this._emitEvent("mousemove",b,a,c)):(this._emitMouseoverEvents(b,a,e,c),this._emitEvent("mousemove",b,a,c))}else this._emitMouseoverEvents(b,a,e,c),this._emitEvent("mousemove",b,a,c)}},a.prototype._emitEvent=function(c,e,f,d,g,h){var a=this._getEventObj(c,e,f,d,g,h);if(d){a.shape=d,jK(d,c,a);for(var b=d.getParent();b;)b.emitDelegation(c,a),a.propagationStopped||jL(b,c,a),a.propagationPath.push(b),b=b.getParent()}else jK(this.canvas,c,a)},a.prototype.destroy=function(){this._clearEvents(),this.canvas=null,this.currentShape=null,this.draggingShape=null,this.mousedownPoint=null,this.mousedownShape=null,this.mousedownTimeStamp=null},a}(),bn=cc(),jN=bn&&"firefox"===bn.name,bo=function(b){function a(c){var a=b.call(this,c)||this;return a.initContainer(),a.initDom(),a.initEvents(),a.initTimeline(),a}return fl(a,b),a.prototype.getDefaultCfg=function(){var a=b.prototype.getDefaultCfg.call(this);return a.cursor="default",a.supportCSSTransform=!1,a},a.prototype.initContainer=function(){var a=this.get("container");fT(a)&&(a=document.getElementById(a),this.set("container",a))},a.prototype.initDom=function(){var a=this.createDom();this.set("el",a),this.get("container").appendChild(a),this.setDOMSize(this.get("width"),this.get("height"))},a.prototype.initEvents=function(){var a=new jM({canvas:this});a.init(),this.set("eventController",a)},a.prototype.initTimeline=function(){var a=new jI(this);this.set("timeline",a)},a.prototype.setDOMSize=function(b,c){var a=this.get("el");ht&&(a.style.width=b+"px",a.style.height=c+"px")},a.prototype.changeSize=function(a,b){this.setDOMSize(a,b),this.set("width",a),this.set("height",b),this.onCanvasChange("changeSize")},a.prototype.getRenderer=function(){return this.get("renderer")},a.prototype.getCursor=function(){return this.get("cursor")},a.prototype.setCursor=function(a){this.set("cursor",a);var b=this.get("el");ht&&b&&(b.style.cursor=a)},a.prototype.getPointByEvent=function(a){if(this.get("supportCSSTransform")){if(jN&&!fA(a.layerX)&&a.layerX!==a.offsetX)return{x:a.layerX,y:a.layerY};if(!fA(a.offsetX))return{x:a.offsetX,y:a.offsetY}}var b=this.getClientByEvent(a),c=b.x,d=b.y;return this.getPointByClient(c,d)},a.prototype.getClientByEvent=function(a){var b=a;return a.touches&&(b="touchend"===a.type?a.changedTouches[0]:a.touches[0]),{x:b.clientX,y:b.clientY}},a.prototype.getPointByClient=function(b,c){var a=this.get("el").getBoundingClientRect();return{x:b-a.left,y:c-a.top}},a.prototype.getClientByPoint=function(b,c){var a=this.get("el").getBoundingClientRect();return{x:b+a.left,y:c+a.top}},a.prototype.draw=function(){},a.prototype.removeDom=function(){var a=this.get("el");a.parentNode.removeChild(a)},a.prototype.clearEvents=function(){this.get("eventController").destroy()},a.prototype.isCanvas=function(){return!0},a.prototype.getParent=function(){return null},a.prototype.destroy=function(){var a=this.get("timeline");!this.get("destroyed")&&(this.clear(),a&&a.stop(),this.clearEvents(),this.removeDom(),b.prototype.destroy.call(this))},a}(be),bp=function(b){function a(){return null!==b&&b.apply(this,arguments)||this}return fl(a,b),a.prototype.isGroup=function(){return!0},a.prototype.isEntityGroup=function(){return!1},a.prototype.clone=function(){for(var c=b.prototype.clone.call(this),d=this.getChildren(),a=0;a<d.length;a++){var e=d[a];c.add(e.clone())}return c},a}(be),bq=function(b){function a(a){return b.call(this,a)||this}return fl(a,b),a.prototype._isInBBox=function(b,c){var a=this.getBBox();return a.minX<=b&&a.maxX>=b&&a.minY<=c&&a.maxY>=c},a.prototype.afterAttrsChange=function(a){b.prototype.afterAttrsChange.call(this,a),this.clearCacheBBox()},a.prototype.getBBox=function(){var a=this.cfg.bbox;return a||(a=this.calculateBBox(),this.set("bbox",a)),a},a.prototype.getCanvasBBox=function(){var a=this.cfg.canvasBBox;return a||(a=this.calculateCanvasBBox(),this.set("canvasBBox",a)),a},a.prototype.applyMatrix=function(a){b.prototype.applyMatrix.call(this,a),this.set("canvasBBox",null)},a.prototype.calculateCanvasBBox=function(){var a=this.getBBox(),f=this.getTotalMatrix(),b=a.minX,c=a.minY,d=a.maxX,e=a.maxY;if(f){var g=h_(f,[a.minX,a.minY]),h=h_(f,[a.maxX,a.minY]),i=h_(f,[a.minX,a.maxY]),j=h_(f,[a.maxX,a.maxY]);b=Math.min(g[0],h[0],i[0],j[0]),d=Math.max(g[0],h[0],i[0],j[0]),c=Math.min(g[1],h[1],i[1],j[1]),e=Math.max(g[1],h[1],i[1],j[1])}var k=this.attrs;if(k.shadowColor){var m=k.shadowBlur,l=void 0===m?0:m,n=k.shadowOffsetX,o=void 0===n?0:n,p=k.shadowOffsetY,q=void 0===p?0:p,r=b-l+o,s=d+l+o,t=c-l+q,u=e+l+q;b=Math.min(b,r),d=Math.max(d,s),c=Math.min(c,t),e=Math.max(e,u)}return{x:b,y:c,minX:b,minY:c,maxX:d,maxY:e,width:d-b,height:e-c}},a.prototype.clearCacheBBox=function(){this.set("bbox",null),this.set("canvasBBox",null)},a.prototype.isClipShape=function(){return this.get("isClipShape")},a.prototype.isInShape=function(a,b){return!1},a.prototype.isOnlyHitBox=function(){return!1},a.prototype.isHit=function(g,h){var d=this.get("startArrowShape"),e=this.get("endArrowShape"),c=[g,h,1],a=(c=this.invertFromMatrix(c))[0],b=c[1],f=this._isInBBox(a,b);return this.isOnlyHitBox()?f:!!(f&&!this.isClipped(a,b)&&(this.isInShape(a,b)||d&&d.isHit(a,b)||e&&e.isHit(a,b)))},a}(bc),jO=new Map;function s(a,b){jO.set(a,b)}function jP(a){return jO.get(a)}function br(b){var a=b.attr(),c=a.x,d=a.y,e=a.width,f=a.height;return{x:c,y:d,width:e,height:f}}function bs(c){var b=c.attr(),d=b.x,e=b.y,a=b.r;return{x:d-a,y:e-a,width:2*a,height:2*a}}function jQ(a){return Math.min.apply(null,a)}function jR(a){return Math.max.apply(null,a)}function jS(c,d,e,f){var a=c-e,b=d-f;return Math.sqrt(a*a+b*b)}function jT(a,b){return .001>Math.abs(a-b)}function jU(a,b){var c=jQ(a),d=jQ(b),e=jR(a),f=jR(b);return{x:c,y:d,width:e-c,height:f-d}}function jV(a){return(a+2*Math.PI)%(2*Math.PI)}var jW={box:function(a,b,c,d){return jU([a,c],[b,d])},length:function(a,b,c,d){return jS(a,b,c,d)},pointAt:function(b,c,d,e,a){return{x:(1-a)*b+a*d,y:(1-a)*c+a*e}},pointDistance:function(a,b,c,d,e,f){var g=(c-a)*(e-a)+(d-b)*(f-b);return g<0?jS(a,b,e,f):g>(c-a)*(c-a)+(d-b)*(d-b)?jS(c,d,e,f):this.pointToLine(a,b,c,d,e,f)},pointToLine:function(a,b,k,l,c,d){var e,f,j,g,h=[k-a,l-b];if(g=[0,0],(j=h)[0]===g[0]&&j[1]===g[1])return Math.sqrt((c-a)*(c-a)+(d-b)*(d-b));var i=[-h[1],h[0]];return hR(i,i),Math.abs((e=[c-a,d-b],f=i,e[0]*f[0]+e[1]*f[1]))},tangentAngle:function(a,b,c,d){return Math.atan2(d-b,c-a)}};function jX(c,e,t,u,b,m){var a,d=1/0,f=[t,u],n=20;m&&m>200&&(n=m/10);for(var p=1/n,j=p/10,g=0;g<=n;g++){var o=g*p,h=[b.apply(null,c.concat([o])),b.apply(null,e.concat([o]))],i=jS(f[0],f[1],h[0],h[1]);i<d&&(a=o,d=i)}if(0===a)return{x:c[0],y:e[0]};if(1===a){var q=c.length;return{x:c[q-1],y:e[q-1]}}d=1/0;for(var g=0;g<32&&!(j<1e-4);g++){var k=a-j,l=a+j,h=[b.apply(null,c.concat([k])),b.apply(null,e.concat([k]))],i=jS(f[0],f[1],h[0],h[1]);if(k>=0&&i<d)a=k,d=i;else{var r=[b.apply(null,c.concat([l])),b.apply(null,e.concat([l]))],s=jS(f[0],f[1],r[0],r[1]);l<=1&&s<d?(a=l,d=s):j*=.5}}return{x:b.apply(null,c.concat([a])),y:b.apply(null,e.concat([a]))}}function cl(c,d,e,a){var b=1-a;return b*b*c+2*a*b*d+a*a*e}function jY(b,c,e){var d=b+e-2*c;if(jT(d,0))return[.5];var a=(b-c)/d;return a<=1&&a>=0?[a]:[]}function jZ(c,a,d,b){return 2*(1-b)*(a-c)+2*b*(d-a)}function j$(b,c,d,e,f,g,a){var h=cl(b,d,f,a),i=cl(c,e,g,a),j=jW.pointAt(b,c,d,e,a),k=jW.pointAt(d,e,f,g,a);return[[b,c,j.x,j.y,h,i],[h,i,k.x,k.y,f,g],]}function j_(a,b,c,d,e,f,g){if(0===g)return(jS(a,b,c,d)+jS(c,d,e,f)+jS(a,b,e,f))/2;var h=j$(a,b,c,d,e,f,.5),i=h[0],j=h[1];return i.push(g-1),j.push(g-1),j_.apply(null,i)+j_.apply(null,j)}var j0={box:function(a,b,e,f,c,d){var g=jY(a,e,c)[0],h=jY(b,f,d)[0],i=[a,c],j=[b,d];return void 0!==g&&i.push(cl(a,e,c,g)),void 0!==h&&j.push(cl(b,f,d,h)),jU(i,j)},length:function(a,b,c,d,e,f){return j_(a,b,c,d,e,f,3)},nearestPoint:function(a,b,c,d,e,f,g,h){return jX([a,c,e],[b,d,f],g,h,cl)},pointDistance:function(d,e,f,g,h,i,a,b){var c=this.nearestPoint(d,e,f,g,h,i,a,b);return jS(c.x,c.y,a,b)},interpolationAt:cl,pointAt:function(b,c,d,e,f,g,a){return{x:cl(b,d,f,a),y:cl(c,e,g,a)}},divide:function(a,b,c,d,e,f,g){return j$(a,b,c,d,e,f,g)},tangentAngle:function(b,c,d,e,f,g,a){var h=jZ(b,d,f,a),i=jZ(c,e,g,a);return jV(Math.atan2(i,h))}};function cm(c,d,e,f,a){var b=1-a;return b*b*b*c+3*d*a*b*b+3*e*a*a*b+f*a*a*a}function j1(e,c,d,f,a){var b=1-a;return 3*(b*b*(c-e)+2*b*a*(d-c)+a*a*(f-d))}function cn(f,g,j,l){var a,e,h,c=-3*f+9*g-9*j+3*l,b=6*f-12*g+6*j,k=3*g-3*f,d=[];if(jT(c,0))!jT(b,0)&&(a=-k/b)>=0&&a<=1&&d.push(a);else{var i=b*b-4*c*k;jT(i,0)?d.push(-b/(2*c)):i>0&&(h=Math.sqrt(i),a=(-b+h)/(2*c),e=(-b-h)/(2*c),a>=0&&a<=1&&d.push(a),e>=0&&e<=1&&d.push(e))}return d}function j2(e,f,g,h,i,j,k,l,a){var m=cm(e,g,i,k,a),n=cm(f,h,j,l,a),b=jW.pointAt(e,f,g,h,a),c=jW.pointAt(g,h,i,j,a),d=jW.pointAt(i,j,k,l,a),o=jW.pointAt(b.x,b.y,c.x,c.y,a),p=jW.pointAt(c.x,c.y,d.x,d.y,a);return[[e,f,b.x,b.y,o.x,o.y,m,n],[m,n,p.x,p.y,d.x,d.y,k,l],]}function j3(b,c,d,e,f,g,h,i,a){if(0===a)return function(b,d){for(var e=0,c=b.length,a=0;a<c;a++){var f=b[a],g=d[a],h=b[(a+1)%c],i=d[(a+1)%c];e+=jS(f,g,h,i)}return e/2}([b,d,f,h],[c,e,g,i]);var j=j2(b,c,d,e,f,g,h,i,.5),k=j[0],l=j[1];return k.push(a-1),l.push(a-1),j3.apply(null,k)+j3.apply(null,l)}var j4={extrema:cn,box:function(b,c,f,g,h,i,d,e){for(var j=[b,d],k=[c,e],l=cn(b,f,h,d),m=cn(c,g,i,e),a=0;a<l.length;a++)j.push(cm(b,f,h,d,l[a]));for(var a=0;a<m.length;a++)k.push(cm(c,g,i,e,m[a]));return jU(j,k)},length:function(a,b,c,d,e,f,g,h){return j3(a,b,c,d,e,f,g,h,3)},nearestPoint:function(a,b,c,d,e,f,g,h,i,j,k){return jX([a,c,e,g],[b,d,f,h],i,j,cm,k)},pointDistance:function(d,e,f,g,h,i,j,k,a,b,l){var c=this.nearestPoint(d,e,f,g,h,i,j,k,a,b,l);return jS(c.x,c.y,a,b)},interpolationAt:cm,pointAt:function(b,c,d,e,f,g,h,i,a){return{x:cm(b,d,f,h,a),y:cm(c,e,g,i,a)}},divide:function(a,b,c,d,e,f,g,h,i){return j2(a,b,c,d,e,f,g,h,i)},tangentAngle:function(b,c,d,e,f,g,h,i,a){var j=j1(b,d,f,h,a),k=j1(c,e,g,i,a);return jV(Math.atan2(k,j))}};function j5(b,c){var a=Math.abs(b);return c>0?a:-1*a}var j6={box:function(c,d,a,b){return{x:c-a,y:d-b,width:2*a,height:2*b}},length:function(c,d,a,b){return Math.PI*(3*(a+b)-Math.sqrt((3*a+b)*(a+3*b)))},nearestPoint:function(f,g,t,u,v,w){var b,c,d=t,e=u;if(0===d||0===e)return{x:f,y:g};for(var j=v-f,k=w-g,x=Math.abs(j),y=Math.abs(k),h=d*d,i=e*e,a=Math.PI/4,l=0;l<4;l++){b=d*Math.cos(a),c=e*Math.sin(a);var m=(h-i)*Math.pow(Math.cos(a),3)/d,n=(i-h)*Math.pow(Math.sin(a),3)/e,o=b-m,p=c-n,q=x-m,r=y-n,s=Math.hypot(p,o),z=Math.hypot(r,q);a+=s*Math.asin((o*r-p*q)/(s*z))/Math.sqrt(h+i-b*b-c*c),a=Math.min(Math.PI/2,Math.max(0,a))}return{x:f+j5(b,j),y:g+j5(c,k)}},pointDistance:function(d,e,f,g,a,b){var c=this.nearestPoint(d,e,f,g,a,b);return jS(c.x,c.y,a,b)},pointAt:function(b,c,d,e,f){var a=2*Math.PI*f;return{x:b+d*Math.cos(a),y:c+e*Math.sin(a)}},tangentAngle:function(e,f,b,c,d){var a=2*Math.PI*d;return jV(Math.atan2(c*Math.cos(a),-b*Math.sin(a)))}};function j7(a,b,c){return Math.atan(-b/a*Math.tan(c))}function j8(a,b,c){return Math.atan(b/(a*Math.tan(c)))}function j9(c,f,d,e,a,b){return d*Math.cos(a)*Math.cos(b)-e*Math.sin(a)*Math.sin(b)+c}function ka(f,c,d,e,a,b){return d*Math.sin(a)*Math.cos(b)+e*Math.cos(a)*Math.sin(b)+c}function kb(b,c,a){return{x:b*Math.cos(a),y:c*Math.sin(a)}}function kc(a,b,c){var d=Math.cos(c),e=Math.sin(c);return[a*d-b*e,a*e+b*d]}var kd={box:function(q,r,f,g,h,b,c){for(var s=j7(f,g,h),i=1/0,o=-1/0,j=[b,c],a=-(2*Math.PI);a<=2*Math.PI;a+=Math.PI){var d=s+a;b<c?b<d&&d<c&&j.push(d):c<d&&d<b&&j.push(d)}for(var a=0;a<j.length;a++){var k=j9(q,r,f,g,h,j[a]);k<i&&(i=k),k>o&&(o=k)}for(var t=j8(f,g,h),l=1/0,p=-1/0,m=[b,c],a=-(2*Math.PI);a<=2*Math.PI;a+=Math.PI){var e=t+a;b<c?b<e&&e<c&&m.push(e):c<e&&e<b&&m.push(e)}for(var a=0;a<m.length;a++){var n=ka(q,r,f,g,h,m[a]);n<l&&(l=n),n>p&&(p=n)}return{x:i,y:l,width:o-i,height:p-l}},length:function(a,b,c,d,e,f,g){},nearestPoint:function(d,e,b,c,f,g,h,p,q){var i,j,k,l,m=kc(p-d,q-e,-f),r=m[0],s=m[1],a=j6.nearestPoint(0,0,b,c,r,s),n=(i=b,j=c,k=a.x,l=a.y,(Math.atan2(l*i,k*j)+2*Math.PI)%(2*Math.PI));n<g?a=kb(b,c,g):n>h&&(a=kb(b,c,h));var o=kc(a.x,a.y,f);return{x:o[0]+d,y:o[1]+e}},pointDistance:function(d,e,f,g,h,i,j,a,b){var c=this.nearestPoint(d,e,f,g,a,b);return jS(c.x,c.y,a,b)},pointAt:function(a,b,c,d,e,f,h,i){var g=(h-f)*i+f;return{x:j9(a,b,c,d,e,g),y:ka(a,b,c,d,e,g)}},tangentAngle:function(r,s,c,d,e,f,n,o){var t,u,g,h,a,v,w,i,x,y,j,k,b,z,A,l,m=(n-f)*o+f,p=(g=c,h=d,a=e,-1*g*Math.cos(a)*Math.sin(i=m)-h*Math.sin(a)*Math.cos(i)),q=(j=c,k=d,b=e,-1*j*Math.sin(b)*Math.sin(l=m)+k*Math.cos(b)*Math.cos(l));return jV(Math.atan2(q,p))}};function ke(b){for(var e=0,f=[],a=0;a<b.length-1;a++){var c=b[a],d=b[a+1],g=jS(c[0],c[1],d[0],d[1]),h={from:c,to:d,length:g};f.push(h),e+=g}return{segments:f,totalLength:e}}var kf={box:function(b){for(var c=[],d=[],a=0;a<b.length;a++){var e=b[a];c.push(e[0]),d.push(e[1])}return jU(c,d)},length:function(a){return function f(a){if(a.length<2)return 0;for(var c=0,b=0;b<a.length-1;b++){var d=a[b],e=a[b+1];c+=jS(d[0],d[1],e[0],e[1])}return c}(a)},pointAt:function(a,b){return function n(b,a){if(a>1||a<0||b.length<2)return null;var g=ke(b),h=g.segments,i=g.totalLength;if(0===i)return{x:b[0][0],y:b[0][1]};for(var c=0,j=null,d=0;d<h.length;d++){var e=h[d],k=e.from,l=e.to,f=e.length/i;if(a>=c&&a<=c+f){var m=(a-c)/f;j=jW.pointAt(k[0],k[1],l[0],l[1],m);break}c+=f}return j}(a,b)},pointDistance:function(a,b,c){return function i(b,g,h){for(var c=1/0,a=0;a<b.length-1;a++){var d=b[a],e=b[a+1],f=jW.pointDistance(d[0],d[1],e[0],e[1],g,h);f<c&&(c=f)}return c}(a,b,c)},tangentAngle:function(a,b){return function m(e,a){if(a>1||a<0||e.length<2)return 0;for(var f=ke(e),g=f.segments,l=f.totalLength,b=0,h=0,c=0;c<g.length;c++){var d=g[c],i=d.from,j=d.to,k=d.length/l;if(a>=b&&a<=b+k){h=Math.atan2(j[1]-i[1],j[0]-i[0]);break}b+=k}return h}(a,b)}};function kg(a,b){return a&&b?{minX:Math.min(a.minX,b.minX),minY:Math.min(a.minY,b.minY),maxX:Math.max(a.maxX,b.maxX),maxY:Math.max(a.maxY,b.maxY)}:a||b}function kh(b,a){var c=b.get("startArrowShape"),d=b.get("endArrowShape"),e=null,f=null;return c&&(a=kg(a,c.getCanvasBBox())),d&&(a=kg(a,d.getCanvasBBox())),a}var ki=null;function kj(){if(!ki){var a=document.createElement("canvas");a.width=1,a.height=1,ki=a.getContext("2d")}return ki}function kk(c,b,d){var a=1;if(fT(c)&&(a=c.split("\n").length),a>1){var e=kl(b,d);return b*a+e*(a-1)}return b}function kl(a,b){return b?b-a:.14*a}function km(a){var b=a.fontSize,c=a.fontFamily,d=a.fontWeight,e=a.fontStyle,f=a.fontVariant;return[e,f,d,b+"px",c].join(" ").trim()}var kn=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/ig,ko=/[^\s\,]+/ig,kp=function(b){var a=b||[];return fB(a)?a:fT(a)?(I(a=a.match(kn),function(b,c){if((b=b.match(ko))[0].length>1){var d=b[0].charAt(0);b.splice(1,0,b[0].substr(1)),b[0]=d}I(b,function(a,c){isNaN(a)||(b[c]=+a)}),a[c]=b}),a):void 0},kq=function(g,h,i){void 0===h&&(h=!1),void 0===i&&(i=[[0,0],[1,1],]);for(var b,c,d,l=!!h,e=[],a=0,m=g.length;a<m;a+=2)e.push([g[a],g[a+1]]);for(var f=function(g,w,h,s){var i,p,j,k,d,b,q,e=[],u=!!s;if(u){j=s[0],k=s[1];for(var c=0,v=g.length;c<v;c+=1){var a=g[c];j=hM([0,0],j,a),k=hN([0,0],k,a)}}for(var c=0,r=g.length;c<r;c+=1){var a=g[c];if(0!==c||h){if(c!==r-1||h){i=g[[c?c-1:r-1,c-1][h?0:1]];var f=[0,0];f=hU(f,p=g[h?(c+1)%r:c+1],i),f=hO(f,f,.4);var l=hP(a,i),m=hP(a,p),t=l+m;0!==t&&(l/=t,m/=t);var n=hO([0,0],f,-l),o=hO([0,0],f,m);b=hL([0,0],a,n),d=hL([0,0],a,o),d=hM([0,0],d,hN([0,0],p,a)),d=hN([0,0],d,hM([0,0],p,a)),n=hU([0,0],d,a),n=hO([0,0],n,-l/m),b=hL([0,0],a,n),b=hM([0,0],b,hN([0,0],i,a)),b=hN([0,0],b,hM([0,0],i,a)),o=hU([0,0],a,b),o=hO([0,0],o,m/l),d=hL([0,0],a,o),u&&(b=hN([0,0],b,j),b=hM([0,0],b,k),d=hN([0,0],d,j),d=hM([0,0],d,k)),e.push(q),e.push(b),q=d}else b=a,e.push(q),e.push(b)}else q=a}return h&&e.push(e.shift()),e}(e,.4,l,i),j=e.length,k=[],a=0;a<j-1;a+=1)b=f[2*a],c=f[2*a+1],d=e[a+1],k.push(["C",b[0],b[1],c[0],c[1],d[0],d[1]]);return l&&(b=f[j],c=f[j+1],d=e[0],k.push(["C",b[0],b[1],c[0],c[1],d[0],d[1]])),k};function kr(c,d,e){var b=null,a=e;return d<a&&(a=d,b="add"),c<a&&(a=c,b="del"),{type:b,min:a}}var T="	\n\v\f\r \xa0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029",ks=RegExp("([a-z])["+T+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+T+"]*,?["+T+"]*)+)","ig"),kt=RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+T+"]*,?["+T+"]*","ig");function ku(a){if(!a)return null;if(fB(a))return a;var c={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},b=[];return String(a).replace(ks,function(g,a,f){var d=[],e=a.toLowerCase();if(f.replace(kt,function(b,a){a&&d.push(+a)}),"m"===e&&d.length>2&&(b.push([a].concat(d.splice(0,2))),e="l",a="m"===a?"l":"L"),"o"===e&&1===d.length&&b.push([a,d[0]]),"r"===e)b.push([a].concat(d));else for(;d.length>=c[e]&&(b.push([a].concat(d.splice(0,c[e]))),c[e]););return""}),b}var kv=/[a-z]/;function kw(b,a){return[a[0]+(a[0]-b[0]),a[1]+(a[1]-b[1]),]}function kx(t){var e=ku(t);if(!e||!e.length)return[["M",0,0],];for(var p=!1,f=0;f<e.length;f++){var h=e[f][0];if(kv.test(h)||["V","H","T","S"].indexOf(h)>=0){p=!0;break}}if(!p)return e;var l=[],b=0,c=0,i=0,j=0,q=0,m=e[0];("M"===m[0]||"m"===m[0])&&(b=+m[1],c=+m[2],i=b,j=c,q++,l[0]=["M",b,c]);for(var f=q,u=e.length;f<u;f++){var d=e[f],g=l[f-1],a=[],h=d[0],n=h.toUpperCase();if(h!==n)switch(a[0]=n,n){case"A":a[1]=d[1],a[2]=d[2],a[3]=d[3],a[4]=d[4],a[5]=d[5],a[6]=+d[6]+b,a[7]=+d[7]+c;break;case"V":a[1]=+d[1]+c;break;case"H":a[1]=+d[1]+b;break;case"M":i=+d[1]+b,j=+d[2]+c,a[1]=i,a[2]=j;break;default:for(var k=1,v=d.length;k<v;k++)a[k]=+d[k]+(k%2?b:c)}else a=e[f];switch(n){case"Z":b=+i,c=+j;break;case"H":a=["L",b=a[1],c];break;case"V":a=["L",b,c=a[1]];break;case"T":b=a[1],c=a[2];var r=kw([g[1],g[2]],[g[3],g[4]]);a=["Q",r[0],r[1],b,c];break;case"S":b=a[a.length-2],c=a[a.length-1];var o=g.length,s=kw([g[o-4],g[o-3]],[g[o-2],g[o-1]]);a=["C",s[0],s[1],a[1],a[2],b,c];break;case"M":i=a[a.length-2],j=a[a.length-1];break;default:b=a[a.length-2],c=a[a.length-1]}l.push(a)}return l}var ky=2*Math.PI,kz=function(a,f,g,b,c,h,i){var d=a.x,e=a.y,j=b*(d*=f)-c*(e*=g),k=c*d+b*e;return{x:j+h,y:k+i}},kA=function(b,a){var c=1.5707963267948966===a?.551915024494:-1.5707963267948966===a?-0.551915024494:4/3*Math.tan(a/4),f=Math.cos(b),g=Math.sin(b),d=Math.cos(b+a),e=Math.sin(b+a);return[{x:f-g*c,y:g+f*c},{x:d+e*c,y:e-d*c},{x:d,y:e}]},kB=function(b,c,d,e){var a=b*d+c*e;return a>1&&(a=1),a< -1&&(a=-1),(b*e-c*d<0?-1:1)*Math.acos(a)},kC=function(r,s,t,u,b,c,v,i,l,m,e,f){var j=Math.pow(b,2),k=Math.pow(c,2),n=Math.pow(e,2),o=Math.pow(f,2),a=j*k-j*o-k*n;a<0&&(a=0),a/=j*o+k*n;var g=(a=Math.sqrt(a)*(v===i?-1:1))*b/c*f,h=-(a*c)/b*e,p=(e-g)/b,q=(f-h)/c,w=kB(1,0,p,q),d=kB(p,q,(-e-g)/b,(-f-h)/c);return 0===i&&d>0&&(d-=ky),1===i&&d<0&&(d+=ky),[m*g-l*h+(r+t)/2,l*g+m*h+(s+u)/2,w,d]},kD=function(c,a,b,d,e){return c*(c*(-3*a+9*b-9*d+3*e)+6*a-12*b+6*d)-3*a+3*b},kE=function(h,i,j,k,l,m,n,o,a){null===a&&(a=1);for(var c=(a=a>1?1:a<0?0:a)/2,p=[-0.1252,.1252,-0.3678,.3678,-0.5873,.5873,-0.7699,.7699,-0.9041,.9041,-0.9816,.9816],q=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],d=0,b=0;b<12;b++){var e=c*p[b]+c,f=kD(e,h,j,l,n),g=kD(e,i,k,m,o),r=f*f+g*g;d+=q[b]*Math.sqrt(r)}return c*d},kF=function(f,g,k,l,n,o,p,q){for(var e,d,m,a,b,h=[],c=[[],[],],r=0;r<2;++r){if(0===r?(d=6*f-12*k+6*n,e=-3*f+9*k-9*n+3*p,m=3*k-3*f):(d=6*g-12*l+6*o,e=-3*g+9*l-9*o+3*q,m=3*l-3*g),1e-12>Math.abs(e)){if(1e-12>Math.abs(d))continue;(a=-m/d)>0&&a<1&&h.push(a);continue}var u=d*d-4*m*e,v=Math.sqrt(u);if(!(u<0)){var s=(-d+v)/(2*e);s>0&&s<1&&h.push(s);var t=(-d-v)/(2*e);t>0&&t<1&&h.push(t)}}for(var i=h.length,j=i;i--;)b=1-(a=h[i]),c[0][i]=b*b*b*f+3*b*b*a*k+3*b*a*a*n+a*a*a*p,c[1][i]=b*b*b*g+3*b*b*a*l+3*b*a*a*o+a*a*a*q;return c[0][j]=f,c[1][j]=g,c[0][j+1]=p,c[1][j+1]=q,c[0].length=c[1].length=j+2,{min:{x:Math.min.apply(0,c[0]),y:Math.min.apply(0,c[1])},max:{x:Math.max.apply(0,c[0]),y:Math.max.apply(0,c[1])}}},kG=function(a,b,c,d,e,f,g,h){if(!(Math.max(a,c)<Math.min(e,g)||Math.min(a,c)>Math.max(e,g)||Math.max(b,d)<Math.min(f,h)||Math.min(b,d)>Math.max(f,h))){var k=(a-c)*(f-h)-(b-d)*(e-g);if(k){var l=((a*d-b*c)*(e-g)-(a-c)*(e*h-f*g))/k,m=((a*d-b*c)*(f-h)-(b-d)*(e*h-f*g))/k,i=+l.toFixed(2),j=+m.toFixed(2);if(!(i< +Math.min(a,c).toFixed(2)||i> +Math.max(a,c).toFixed(2)||i< +Math.min(e,g).toFixed(2)||i> +Math.max(e,g).toFixed(2)||j< +Math.min(b,d).toFixed(2)||j> +Math.max(b,d).toFixed(2)||j< +Math.min(f,h).toFixed(2)||j> +Math.max(f,h).toFixed(2)))return{x:l,y:m}}}},kH=function(a,b,c){return b>=a.x&&b<=a.x+a.width&&c>=a.y&&c<=a.y+a.height},kI=function(a,d,b,c){return null===a&&(a=d=b=c=0),null===d&&(d=a.y,b=a.width,c=a.height,a=a.x),{x:a,y:d,width:b,w:b,height:c,h:c,x2:a+b,y2:d+c,cx:a+b/2,cy:d+c/2,r1:Math.min(b,c)/2,r2:Math.max(b,c)/2,r0:Math.sqrt(b*b+c*c)/2,path:rectPath(a,d,b,c),vb:[a,d,b,c].join(" ")}},kJ=function(b,c,d,e,f,g,h,i){isArray(b)||(b=[b,c,d,e,f,g,h,i]);var a=kF.apply(null,b);return kI(a.min.x,a.min.y,a.max.x-a.min.x,a.max.y-a.min.y)},kK=function(e,f,c,d,g,h,j,k,a){var b=1-a,l=Math.pow(b,3),m=Math.pow(b,2),i=a*a,n=i*a,o=e+2*a*(c-e)+i*(g-2*c+e),p=f+2*a*(d-f)+i*(h-2*d+f),q=c+2*a*(g-c)+i*(j-2*g+c),r=d+2*a*(h-d)+i*(k-2*h+d);return{x:l*e+3*m*a*c+3*b*a*a*g+n*j,y:l*f+3*m*a*d+3*b*a*a*h+n*k,m:{x:o,y:p},n:{x:q,y:r},start:{x:b*e+a*c,y:b*f+a*d},end:{x:b*g+a*j,y:b*h+a*k},alpha:90-180*Math.atan2(o-q,p-r)/Math.PI}},kL=function(o,p,q){var a,b,x=kJ(o),y=kJ(p);if(a=x,b=y,a=kI(a),b=kI(b),!(kH(b,a.x,a.y)||kH(b,a.x2,a.y)||kH(b,a.x,a.y2)||kH(b,a.x2,a.y2)||kH(a,b.x,b.y)||kH(a,b.x2,b.y)||kH(a,b.x,b.y2)||kH(a,b.x2,b.y2))&&((!(a.x<b.x2)||!(a.x>b.x))&&(!(b.x<a.x2)||!(b.x>a.x))||(!(a.y<b.y2)||!(a.y>b.y))&&(!(b.y<a.y2)||!(b.y>a.y))))return q?0:[];for(var z=kE.apply(0,o),A=kE.apply(0,p),j=~~(z/8),k=~~(A/8),r=[],s=[],w={},t=q?0:[],c=0;c<j+1;c++){var g=kK.apply(0,o.concat(c/j));r.push({x:g.x,y:g.y,t:c/j})}for(var c=0;c<k+1;c++){var g=kK.apply(0,p.concat(c/k));s.push({x:g.x,y:g.y,t:c/k})}for(var c=0;c<j;c++)for(var l=0;l<k;l++){var e=r[c],h=r[c+1],f=s[l],i=s[l+1],m=.001>Math.abs(h.x-e.x)?"y":"x",n=.001>Math.abs(i.x-f.x)?"y":"x",d=kG(e.x,e.y,h.x,h.y,f.x,f.y,i.x,i.y);if(d){if(w[d.x.toFixed(4)]===d.y.toFixed(4))continue;w[d.x.toFixed(4)]=d.y.toFixed(4);var u=e.t+Math.abs((d[m]-e[m])/(h[m]-e[m]))*(h.t-e.t),v=f.t+Math.abs((d[n]-f[n])/(i[n]-f[n]))*(i.t-f.t);u>=0&&u<=1&&v>=0&&v<=1&&(q?t++:t.push({x:d.x,y:d.y,t1:u,t2:v}))}}return t};function kM(a){return Math.sqrt(a[0]*a[0]+a[1]*a[1])}function kN(a,b){return kM(a)*kM(b)?(a[0]*b[0]+a[1]*b[1])/(kM(a)*kM(b)):1}function kO(a,b){return(a[0]*b[1]<a[1]*b[0]?-1:1)*Math.acos(kN(a,b))}function kP(a,b){return a[0]===b[0]&&a[1]===b[1]}function kQ(k,d){var a=d[1],b=d[2],c=f9(gb(d[3]),2*Math.PI),u=d[4],l=d[5],p=k[0],q=k[1],h=d[6],i=d[7],e=Math.cos(c)*(p-h)/2+Math.sin(c)*(q-i)/2,f=-1*Math.sin(c)*(p-h)/2+Math.cos(c)*(q-i)/2,r=e*e/(a*a)+f*f/(b*b);r>1&&(a*=Math.sqrt(r),b*=Math.sqrt(r));var s=a*a*(f*f)+b*b*(e*e),j=s?Math.sqrt((a*a*(b*b)-s)/s):1;u===l&&(j*=-1),isNaN(j)&&(j=0);var m=b?j*a*f/b:0,n=a?-(j*b)*e/a:0,o=[(e-m)/a,(f-n)/b],t=[(-1*e-m)/a,(-1*f-n)/b],v=kO([1,0],o),g=kO(o,t);return -1>=kN(o,t)&&(g=Math.PI),kN(o,t)>=1&&(g=0),0===l&&g>0&&(g-=2*Math.PI),1===l&&g<0&&(g+=2*Math.PI),{cx:(p+h)/2+Math.cos(c)*m-Math.sin(c)*n,cy:(q+i)/2+Math.sin(c)*m+Math.cos(c)*n,rx:kP(k,[h,i])?0:a,ry:kP(k,[h,i])?0:b,startAngle:v,endAngle:v+g,xRotation:c,arcFlag:u,sweepFlag:l}}function kR(b,a){return[a[0]+(a[0]-b[0]),a[1]+(a[1]-b[1])]}function kS(l){l=kp(l);for(var g=[],b=null,f=null,q=null,k=0,F=l.length,m=0;m<F;m++){var d=l[m];f=l[m+1];var h=d[0],a={command:h,prePoint:b,params:d,startTangent:null,endTangent:null};switch(h){case"M":q=[d[1],d[2]],k=m;break;case"A":var G=kQ(b,d);a.arcParams=G}if("Z"===h)b=q,f=l[k+1];else{var s=d.length;b=[d[s-2],d[s-1]]}f&&"Z"===f[0]&&(f=l[k],g[k]&&(g[k].prePoint=b)),a.currentPoint=b,g[k]&&kP(b,g[k].currentPoint)&&(g[k].prePoint=a.prePoint);var H=f?[f[f.length-2],f[f.length-1]]:null;a.nextPoint=H;var c=a.prePoint;if(["L","H","V"].includes(h))a.startTangent=[c[0]-b[0],c[1]-b[1]],a.endTangent=[b[0]-c[0],b[1]-c[1]];else if("Q"===h){var i=[d[1],d[2]];a.startTangent=[c[0]-i[0],c[1]-i[1]],a.endTangent=[b[0]-i[0],b[1]-i[1]]}else if("T"===h){var o=g[m-1],i=kR(o.currentPoint,c);"Q"===o.command?(a.command="Q",a.startTangent=[c[0]-i[0],c[1]-i[1]],a.endTangent=[b[0]-i[0],b[1]-i[1]]):(a.command="TL",a.startTangent=[c[0]-b[0],c[1]-b[1]],a.endTangent=[b[0]-c[0],b[1]-c[1]])}else if("C"===h){var j=[d[1],d[2]],e=[d[3],d[4]];a.startTangent=[c[0]-j[0],c[1]-j[1]],a.endTangent=[b[0]-e[0],b[1]-e[1]],0===a.startTangent[0]&&0===a.startTangent[1]&&(a.startTangent=[j[0]-e[0],j[1]-e[1]]),0===a.endTangent[0]&&0===a.endTangent[1]&&(a.endTangent=[e[0]-j[0],e[1]-j[1]])}else if("S"===h){var o=g[m-1],j=kR(o.currentPoint,c),e=[d[1],d[2]];"C"===o.command?(a.command="C",a.startTangent=[c[0]-j[0],c[1]-j[1]],a.endTangent=[b[0]-e[0],b[1]-e[1]]):(a.command="SQ",a.startTangent=[c[0]-e[0],c[1]-e[1]],a.endTangent=[b[0]-e[0],b[1]-e[1]])}else if("A"===h){var p=.001,n=a.arcParams||{},t=n.cx,u=void 0===t?0:t,v=n.cy,w=void 0===v?0:v,x=n.rx,y=void 0===x?0:x,z=n.ry,A=void 0===z?0:z,B=n.sweepFlag,I=void 0===B?0:B,C=n.startAngle,r=void 0===C?0:C,D=n.endAngle,E=void 0===D?0:D;0===I&&(p*=-1);var J=y*Math.cos(r-p)+u,K=A*Math.sin(r-p)+w;a.startTangent=[J-q[0],K-q[1]];var L=y*Math.cos(r+E+p)+u,M=A*Math.sin(r+E-p)+w;a.endTangent=[c[0]-L,c[1]-M]}g.push(a)}return g}function kT(a){return 1e-6>Math.abs(a)?0:a<0?-1:1}function kU(a,b,c){return!!((c[0]-a[0])*(b[1]-a[1])==(b[0]-a[0])*(c[1]-a[1])&&Math.min(a[0],b[0])<=c[0]&&c[0]<=Math.max(a[0],b[0])&&Math.min(a[1],b[1])<=c[1]&&c[1]<=Math.max(a[1],b[1]))}function kV(e,h,b){var f=!1,g=e.length;if(g<=2)return!1;for(var c=0;c<g;c++){var a=e[c],d=e[(c+1)%g];if(kU(a,d,[h,b]))return!0;kT(a[1]-b)>0!=kT(d[1]-b)>0&&0>kT(h-(b-a[1])*(a[0]-d[0])/(a[1]-d[1])-a[0])&&(f=!f)}return f}var kW=function(a,b,c){return a>=b&&a<=c};function kX(a){for(var b=[],d=a.length,c=0;c<d-1;c++){var e=a[c],f=a[c+1];b.push({from:{x:e[0],y:e[1]},to:{x:f[0],y:f[1]}})}if(b.length>1){var g=a[0],h=a[d-1];b.push({from:{x:h[0],y:h[1]},to:{x:g[0],y:g[1]}})}return b}function kY(a){var b=a.map(function(a){return a[0]}),c=a.map(function(a){return a[1]});return{minX:Math.min.apply(null,b),maxX:Math.max.apply(null,b),minY:Math.min.apply(null,c),maxY:Math.max.apply(null,c)}}function kZ(h,f){var g=h.prePoint,a=h.currentPoint,b=h.nextPoint,i=Math.pow(a[0]-g[0],2)+Math.pow(a[1]-g[1],2),j=Math.pow(a[0]-b[0],2)+Math.pow(a[1]-b[1],2),k=Math.pow(g[0]-b[0],2)+Math.pow(g[1]-b[1],2),c=Math.acos((i+j-k)/(2*Math.sqrt(i)*Math.sqrt(j)));if(!c||0===Math.sin(c)||f6(c,0))return{xExtra:0,yExtra:0};var d=Math.abs(Math.atan2(b[1]-a[1],b[0]-a[0])),e=Math.abs(Math.atan2(b[0]-a[0],b[1]-a[1]));d=d>Math.PI/2?Math.PI-d:d,e=e>Math.PI/2?Math.PI-e:e;var l={xExtra:Math.cos(c/2-d)*(f/2*(1/Math.sin(c/2)))-f/2||0,yExtra:Math.cos(e-c/2)*(f/2*(1/Math.sin(c/2)))-f/2||0};return l}s("rect",br),s("image",br),s("circle",bs),s("marker",bs),s("polyline",function(d){for(var e=d.attr().points,f=[],g=[],c=0;c<e.length;c++){var h=e[c];f.push(h[0]),g.push(h[1])}var b=jU(f,g),i=b.x,j=b.y,k=b.width,l=b.height,a={minX:i,minY:j,maxX:i+k,maxY:j+l};return{x:(a=kh(d,a)).minX,y:a.minY,width:a.maxX-a.minX,height:a.maxY-a.minY}}),s("polygon",function(f){for(var b=f.attr().points,c=[],d=[],a=0;a<b.length;a++){var e=b[a];c.push(e[0]),d.push(e[1])}return jU(c,d)}),s("text",function(p){var i,b,l,d,e,a=p.attr(),m=a.x,n=a.y,o=a.text,q=a.fontSize,r=a.lineHeight,j=a.font;j||(j=km(a));var f=(b=o,l=j,d=kj(),e=0,fA(b)||""===b?e:((d.save(),d.font=l,fT(b)&&b.includes("\n"))?I(b.split("\n"),function(b){var a=d.measureText(b).width;e<a&&(e=a)}):e=d.measureText(b).width,d.restore(),e));if(f){var g=a.textAlign,k=a.textBaseline,h=kk(o,q,r),c={x:m,y:n-h};g&&("end"===g||"right"===g?c.x-=f:"center"===g&&(c.x-=f/2)),k&&("top"===k?c.y+=h:"middle"===k&&(c.y+=h/2)),i={x:c.x,y:c.y,width:f,height:h}}else i={x:m,y:n,width:0,height:0};return i}),s("path",function(c){var d=c.attr(),g=d.path,h=d.stroke,i=h?d.lineWidth:0,j=c.get("segments")||kS(g),b=function(q,l){for(var h=[],i=[],m=[],e=0;e<q.length;e++){var a=q[e],f=a.currentPoint,c=a.params,n=a.prePoint,b=void 0;switch(a.command){case"Q":b=j0.box(n[0],n[1],c[1],c[2],c[3],c[4]);break;case"C":b=j4.box(n[0],n[1],c[1],c[2],c[3],c[4],c[5],c[6]);break;case"A":var g=a.arcParams;b=kd.box(g.cx,g.cy,g.rx,g.ry,g.xRotation,g.startAngle,g.endAngle);break;default:h.push(f[0]),i.push(f[1])}b&&(a.box=b,h.push(b.x,b.x+b.width),i.push(b.y,b.y+b.height)),l&&("L"===a.command||"M"===a.command)&&a.prePoint&&a.nextPoint&&m.push(a)}h=h.filter(function(a){return!Number.isNaN(a)&&a!==1/0&&a!== -1/0}),i=i.filter(function(a){return!Number.isNaN(a)&&a!==1/0&&a!== -1/0});var j=fN(h),k=fN(i),o=fM(h),p=fM(i);if(0===m.length)return{x:j,y:k,width:o-j,height:p-k};for(var e=0;e<m.length;e++){var a=m[e],f=a.currentPoint,d=void 0;f[0]===j?(d=kZ(a,l),j-=d.xExtra):f[0]===o&&(d=kZ(a,l),o+=d.xExtra),f[1]===k?(d=kZ(a,l),k-=d.yExtra):f[1]===p&&(d=kZ(a,l),p+=d.yExtra)}return{x:j,y:k,width:o-j,height:p-k}}(j,i),e=b.x,f=b.y,k=b.width,l=b.height,a={minX:e,minY:f,maxX:e+k,maxY:f+l};return{x:(a=kh(c,a)).minX,y:a.minY,width:a.maxX-a.minX,height:a.maxY-a.minY}}),s("line",function(c){var b=c.attr(),d=b.x1,e=b.y1,f=b.x2,g=b.y2,h=Math.min(d,f),i=Math.max(d,f),j=Math.min(e,g),k=Math.max(e,g),a={minX:h,maxX:i,minY:j,maxY:k};return{x:(a=kh(c,a)).minX,y:a.minY,width:a.maxX-a.minX,height:a.maxY-a.minY}}),s("ellipse",function(d){var a=d.attr(),e=a.x,f=a.y,b=a.rx,c=a.ry;return{x:e-b,y:f-c,width:2*b,height:2*c}});var ab=function(){function a(a){var c=a.xField,d=a.yField,b=a.adjustNames,e=a.dimValuesMap;this.adjustNames=void 0===b?["x","y"]:b,this.xField=c,this.yField=d,this.dimValuesMap=e}return a.prototype.isAdjust=function(a){return this.adjustNames.indexOf(a)>=0},a.prototype.getAdjustRange=function(h,a,e){var c,b,g=this.yField,d=e.indexOf(a),f=e.length;return!g&&this.isAdjust("y")?(c=0,b=1):f>1?(c=e[0===d?0:d-1],b=e[d===f-1?f-1:d+1],0!==d?c+=(a-c)/2:c-=(b-a)/2,d!==f-1?b-=(b-a)/2:b+=(a-e[f-2])/2):(c=0===a?0:a-.5,b=0===a?1:a+.5),{pre:c,next:b}},a.prototype.adjustData=function(a,b){var c=this,d=this.getDimValues(b);I(a,function(a,b){I(d,function(d,e){c.adjustDim(e,d,a,b)})})},a.prototype.groupData=function(a,b){return I(a,function(a){void 0===a[b]&&(a[b]=0)}),f0(a,b)},a.prototype.adjustDim=function(a,b,c,d){},a.prototype.getDimValues=function(e){var c=this.xField,a=this.yField,d=gA({},this.dimValuesMap),b=[];return c&&this.isAdjust("x")&&b.push(c),a&&this.isAdjust("y")&&b.push(a),b.forEach(function(a){(!d||!d[a])&&(d[a]=fW(e,a).sort(function(a,b){return a-b}))}),!a&&this.isAdjust("y")&&(d.y=[0,1]),d},a}(),k$={},k_=function(a){return k$[a.toLowerCase()]},ac=function(a,b){if(k_(a))throw Error("Adjust type '"+a+"' existed.");k$[a.toLowerCase()]=b},k0=function(a,b){return(k0=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(c,a){for(var b in a)a.hasOwnProperty(b)&&(c[b]=a[b])})(a,b)};function k1(b,a){function c(){this.constructor=b}k0(b,a),b.prototype=null===a?Object.create(a):(c.prototype=a.prototype,new c)}var k2=function(){return(k2=Object.assign||function(d){for(var a,b=1,e=arguments.length;b<e;b++)for(var c in a=arguments[b])Object.prototype.hasOwnProperty.call(a,c)&&(d[c]=a[c]);return d}).apply(this,arguments)};function k3(a){return this instanceof k3?(this.v=a,this):new k3(a)}var co=function(b){function a(c){var a=b.call(this,c)||this;a.cacheMap={},a.adjustDataArray=[],a.mergeData=[];var d=c.marginRatio,e=c.dodgeRatio,f=c.dodgeBy,g=c.intervalPadding,h=c.dodgePadding,i=c.xDimensionLength,j=c.groupNum,k=c.defaultSize,l=c.maxColumnWidth,m=c.minColumnWidth,n=c.columnWidthRatio,o=c.customOffset;return a.marginRatio=void 0===d?.5:d,a.dodgeRatio=void 0===e?.5:e,a.dodgeBy=f,a.intervalPadding=g,a.dodgePadding=h,a.xDimensionLegenth=i,a.groupNum=j,a.defaultSize=k,a.maxColumnWidth=l,a.minColumnWidth=m,a.columnWidthRatio=n,a.customOffset=o,a}return k1(a,b),a.prototype.process=function(e){var a=gp(e),b=fK(a),c=this.dodgeBy,d=c?f2(b,c):a;return this.cacheMap={},this.adjustDataArray=d,this.mergeData=b,this.adjustData(d,b),this.adjustDataArray=[],this.mergeData=[],a},a.prototype.adjustDim=function(a,c,b,d){var e=this,f=this.customOffset,g=this.getDistribution(a);return I(this.groupData(b,a),function(b,h){var i;i=1===c.length?{pre:c[0]-1,next:c[0]+1}:e.getAdjustRange(a,parseFloat(h),c),I(b,function(b){var c=g[b[a]],h=c.indexOf(d);if(fA(f))b[a]=e.getDodgeOffset(i,h,c.length);else{var j=i.pre,k=i.next;b[a]=fz(f)?f(b,i):(j+k)/2+f}})}),[]},a.prototype.getDodgeOffset=function(j,c,b){var d,m=this.dodgeRatio,n=this.marginRatio,e=this.intervalPadding,f=this.dodgePadding,g=j.pre,k=j.next,i=k-g;if(!fA(e)&&fA(f)&&e>=0){var a=this.getIntervalOnlyOffset(b,c);d=g+a}else if(!fA(f)&&fA(e)&&f>=0){var a=this.getDodgeOnlyOffset(b,c);d=g+a}else if(!fA(e)&&!fA(f)&&e>=0&&f>=0){var a=this.getIntervalAndDodgeOffset(b,c);d=g+a}else{var h=i*m/b,l=n*h,a=.5*(i-b*h-(b-1)*l)+((c+1)*h+c*l)-.5*h-.5*i;d=(g+k)/2+a}return d},a.prototype.getIntervalOnlyOffset=function(d,h){var b=this,i=b.defaultSize,m=b.intervalPadding,f=b.xDimensionLegenth,c=b.groupNum,n=b.dodgeRatio,j=b.maxColumnWidth,k=b.minColumnWidth,l=b.columnWidthRatio,e=m/f,g=(1-(c-1)*e)/c*n/(d-1),a=((1-e*(c-1))/c-g*(d-1))/d;a=fA(l)?a:1/c/d*l,!fA(j)&&(a=Math.min(a,j/f)),!fA(k)&&(a=Math.max(a,k/f)),a=i?i/f:a,g=((1-(c-1)*e)/c-d*a)/(d-1);var o=((.5+h)*a+h*g+.5*e)*c-e/2;return o},a.prototype.getDodgeOnlyOffset=function(d,h){var b=this,i=b.defaultSize,m=b.dodgePadding,e=b.xDimensionLegenth,c=b.groupNum,n=b.marginRatio,j=b.maxColumnWidth,k=b.minColumnWidth,l=b.columnWidthRatio,g=m/e,f=1*n/(c-1),a=((1-f*(c-1))/c-g*(d-1))/d;return a=l?1/c/d*l:a,!fA(j)&&(a=Math.min(a,j/e)),!fA(k)&&(a=Math.max(a,k/e)),f=(1-((a=i?i/e:a)*d+g*(d-1))*c)/(c-1),((.5+h)*a+h*g+.5*f)*c-f/2},a.prototype.getIntervalAndDodgeOffset=function(c,d){var g=this.intervalPadding,h=this.dodgePadding,e=this.xDimensionLegenth,a=this.groupNum,b=g/e,f=h/e;return((.5+d)*(((1-b*(a-1))/a-f*(c-1))/c)+d*f+.5*b)*a-b/2},a.prototype.getDistribution=function(b){var d=this.adjustDataArray,c=this.cacheMap,a=c[b];return a||(a={},I(d,function(d,e){var c=fW(d,b);c.length||c.push(0),I(c,function(b){a[b]||(a[b]=[]),a[b].push(e)})}),c[b]=a),a},a}(ab),cp=function(b){function a(){return null!==b&&b.apply(this,arguments)||this}return k1(a,b),a.prototype.process=function(b){var a=gp(b),c=fK(a);return this.adjustData(a,c),a},a.prototype.adjustDim=function(a,c,b){var d=this;return I(this.groupData(b,a),function(b,e){return d.adjustGroup(b,a,parseFloat(e),c)})},a.prototype.getAdjustOffset=function(b){var a,c,d=b.pre,e=b.next,f=(e-d)*.05;return a=d+f,c=e-f,(c-a)*Math.random()+a},a.prototype.adjustGroup=function(a,b,c,d){var e=this,f=this.getAdjustRange(b,c,d);return I(a,function(a){a[b]=e.getAdjustOffset(f)}),a},a}(ab),k4=cb,cq=function(b){function a(a){var c=b.call(this,a)||this,d=a.adjustNames,e=a.height,f=a.size,g=a.reverseOrder;return c.adjustNames=void 0===d?["y"]:d,c.height=void 0===e?NaN:e,c.size=void 0===f?10:f,c.reverseOrder=void 0!==g&&g,c}return k1(a,b),a.prototype.process=function(a){var c=this.yField,d=this.reverseOrder,b=c?this.processStack(a):this.processOneDimStack(a);return d?this.reverse(b):b},a.prototype.reverse=function(a){return a.slice(0).reverse()},a.prototype.processStack=function(a){var c=this.xField,d=this.yField,b=this.reverseOrder?this.reverse(a):a,e=new k4,f=new k4;return b.map(function(a){return a.map(function(b){var i,l=gB(b,c,0),a=gB(b,[d]),g=l.toString();if(a=fB(a)?a[1]:a,!fA(a)){var h=a>=0?e:f;h.has(g)||h.set(g,0);var j=h.get(g),k=a+j;return h.set(g,k),k2(k2({},b),((i={})[d]=[j,k],i))}return b})})},a.prototype.processOneDimStack=function(a){var c,d=this,e=this.xField,f=this.height,b=this.reverseOrder?this.reverse(a):a,g=new k4;return b.map(function(a){return a.map(function(b){var c,j=d.size,a=b[e],h=2*j/f;g.has(a)||g.set(a,h/2);var i=g.get(a);return g.set(a,i+h),k2(k2({},b),((c={}).y=i,c))})})},a}(ab),cr=function(b){function a(){return null!==b&&b.apply(this,arguments)||this}return k1(a,b),a.prototype.process=function(a){var b=fK(a),d=this.xField,e=this.yField,c=this.getXValuesMaxMap(b),f=Math.max.apply(Math,Object.keys(c).map(function(a){return c[a]}));return gx(a,function(a){return gx(a,function(a){var g,h,b=a[e],j=a[d];if(fB(b)){var k=(f-c[j])/2;return k2(k2({},a),((g={})[e]=gx(b,function(a){return k+a}),g))}var i=(f-b)/2;return k2(k2({},a),((h={})[e]=[i,b+i],h))})})},a.prototype.getXValuesMaxMap=function(a){var c=this,d=this.xField,e=this.yField,b=f0(a,function(a){return a[d]});return gy(b,function(a){return c.getDimMaxValue(a,e)})},a.prototype.getDimMaxValue=function(a,d){var b=gx(a,function(a){return gB(a,d,[])}),c=fK(b);return Math.max.apply(Math,c)},a}(ab);ac("Dodge",co),ac("Jitter",cp),ac("Stack",cq),ac("Symmetric",cr);var k5=function(b,a){return fT(a)?a:b.invert(b.scale(a))},U=function(){function a(a){this.names=[],this.scales=[],this.linear=!1,this.values=[],this.callback=function(){return[]},this._parseCfg(a)}return a.prototype.mapping=function(){for(var d=this,b=[],a=0;a<arguments.length;a++)b[a]=arguments[a];var c=b.map(function(a,b){return d._toOriginParam(a,d.scales[b])});return this.callback.apply(this,c)},a.prototype.getLinearValue=function(d){var b=this.values.length-1,a=Math.floor(b*d),c=this.values[a],e=a===b?c:this.values[a+1];return c+(e-c)*(b*d-a)},a.prototype.getNames=function(){for(var d=this.scales,b=this.names,e=Math.min(d.length,b.length),c=[],a=0;a<e;a+=1)c.push(b[a]);return c},a.prototype.getFields=function(){return this.scales.map(function(a){return a.field})},a.prototype.getScale=function(a){return this.scales[this.names.indexOf(a)]},a.prototype.defaultCallback=function(){for(var c=this,b=[],a=0;a<arguments.length;a++)b[a]=arguments[a];return 0===b.length?this.values:b.map(function(b,d){var a=c.scales[d];return"identity"===a.type?a.values[0]:c._getAttributeValue(a,b)})},a.prototype._parseCfg=function(a){var f=this,b=a.type,c=a.names,d=a.scales,e=a.values,g=a.callback;this.type=void 0===b?"base":b,this.scales=void 0===d?[]:d,this.values=void 0===e?[]:e,this.names=void 0===c?[]:c,this.callback=function(){for(var b=[],a=0;a<arguments.length;a++)b[a]=arguments[a];if(g){var c=g.apply(void 0,b);if(!fA(c))return[c]}return f.defaultCallback.apply(f,b)}},a.prototype._getAttributeValue=function(a,b){if(a.isCategory&&!this.linear){var c=a.translate(b);return this.values[c%this.values.length]}var d=a.scale(b);return this.getLinearValue(d)},a.prototype._toOriginParam=function(a,b){return b.isLinear?a:fB(a)?a.map(function(a){return k5(b,a)}):k5(b,a)},a}(),k6=function(a,b){return(k6=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(c,a){for(var b in a)a.hasOwnProperty(b)&&(c[b]=a[b])})(a,b)};function k7(b,a){function c(){this.constructor=b}k6(b,a),b.prototype=null===a?Object.create(a):(c.prototype=a.prototype,new c)}var k8=function(){return(k8=Object.assign||function(d){for(var a,b=1,e=arguments.length;b<e;b++)for(var c in a=arguments[b])Object.prototype.hasOwnProperty.call(a,c)&&(d[c]=a[c]);return d}).apply(this,arguments)};function k9(a){return this instanceof k9?(this.v=a,this):new k9(a)}var la=/rgba?\(([\s.,0-9]+)\)/,lb=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,lc=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,ld=/[\d.]+:(#[^\s]+|[^\)]+\))/gi,le=function(){var a=document.createElement("i");return a.title="Web Colour Picker",a.style.display="none",document.body.appendChild(a),a},lf=function(b,c,d,a){return b[a]+(c[a]-b[a])*d};function lg(a){return"#"+lh(a[0])+lh(a[1])+lh(a[2])}var cs=function(a){return[parseInt(a.substr(1,2),16),parseInt(a.substr(3,2),16),parseInt(a.substr(5,2),16),]},lh=function(b){var a=Math.round(b).toString(16);return 1===a.length?"0"+a:a},li=function(d,a){var h=isNaN(Number(a))||a<0?0:a>1?1:Number(a),e=d.length-1,b=Math.floor(e*h),f=e*h-b,c=d[b],g=b===e?c:d[b+1];return lg([lf(c,g,f,0),lf(c,g,f,1),lf(c,g,f,2),])},ct=function(a){if("#"===a[0]&&7===a.length)return a;fh||(fh=le()),fh.style.color=a;var b=document.defaultView.getComputedStyle(fh,"").getPropertyValue("color"),c=la.exec(b)[1].split(/\s*,\s*/).map(function(a){return Number(a)});return lg(c)},lj={rgb2arr:cs,gradient:function(a){var b=fT(a)?a.split("-"):a,c=gx(b,function(a){return cs(-1===a.indexOf("#")?ct(a):a)});return function(a){return li(c,a)}},toRGB:J(ct),toCSSGradient:function(a){var e;if(e=a,/^[r,R,L,l]{1}[\s]*\(/.test(e)){var c,d=void 0;if("l"===a[0]){var b=lb.exec(a),f=+b[1]+90;d=b[2],c="linear-gradient("+f+"deg, "}else if("r"===a[0]){c="radial-gradient(";var b=lc.exec(a);d=b[4]}var g=d.match(ld);return I(g,function(b,d){var a=b.split(":");c+=a[1]+" "+100*a[0]+"%",d!==g.length-1&&(c+=", ")}),c+=")"}return a}},cu=function(b){function a(c){var a=b.call(this,c)||this;return a.type="color",a.names=["color"],fT(a.values)&&(a.linear=!0),a.gradient=lj.gradient(a.values),a}return k7(a,b),a.prototype.getLinearValue=function(a){return this.gradient(a)},a}(U),cv=function(b){function a(c){var a=b.call(this,c)||this;return a.type="opacity",a.names=["opacity"],a}return k7(a,b),a}(U),cw=function(b){function a(c){var a=b.call(this,c)||this;return a.names=["x","y"],a.type="position",a}return k7(a,b),a.prototype.mapping=function(a,b){var c=this.scales,d=c[0],e=c[1];return fA(a)||fA(b)?[]:[fB(a)?a.map(function(a){return d.scale(a)}):d.scale(a),fB(b)?b.map(function(a){return e.scale(a)}):e.scale(b),]},a}(U),cx=function(b){function a(c){var a=b.call(this,c)||this;return a.type="shape",a.names=["shape"],a}return k7(a,b),a.prototype.getLinearValue=function(a){var b=Math.round((this.values.length-1)*a);return this.values[b]},a}(U),cy=function(b){function a(c){var a=b.call(this,c)||this;return a.type="size",a.names=["size"],a}return k7(a,b),a}(U),lk={};function t(a,b){lk[a]=b}var aw=function(){function a(a){this.type="base",this.isCategory=!1,this.isLinear=!1,this.isContinuous=!1,this.isIdentity=!1,this.values=[],this.range=[0,1],this.ticks=[],this.__cfg__=a,this.initCfg(),this.init()}return a.prototype.translate=function(a){return a},a.prototype.change=function(a){gA(this.__cfg__,a),this.init()},a.prototype.clone=function(){return this.constructor(this.__cfg__)},a.prototype.getTicks=function(){var a=this;return gx(this.ticks,function(b,c){return fC(b)?b:{text:a.getText(b,c),tickValue:b,value:a.scale(b)}})},a.prototype.getText=function(b,d){var c=this.formatter,a=c?c(b,d):b;return fA(a)||!fz(a.toString)?"":a.toString()},a.prototype.getConfig=function(a){return this.__cfg__[a]},a.prototype.init=function(){gA(this,this.__cfg__),this.setDomain(),gv(this.getConfig("ticks"))&&(this.ticks=this.calculateTicks())},a.prototype.initCfg=function(){},a.prototype.setDomain=function(){},a.prototype.calculateTicks=function(){var a=this.tickMethod,b=[];if(fT(a)){var d,c=lk[d=a];if(!c)throw Error("There is no method to to calculate ticks!");b=c(this)}else fz(a)&&(b=a(this));return b},a.prototype.rangeMin=function(){return this.range[0]},a.prototype.rangeMax=function(){return this.range[1]},a.prototype.calcPercent=function(a,b,c){return f5(a)?(a-b)/(c-b):NaN},a.prototype.calcValue=function(b,a,c){return a+b*(c-a)},a}(),ax=function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.type="cat",a.isCategory=!0,a}return fl(a,b),a.prototype.buildIndexMap=function(){if(!this.translateIndexMap){this.translateIndexMap=new Map;for(var a=0;a<this.values.length;a++)this.translateIndexMap.set(this.values[a],a)}},a.prototype.translate=function(a){this.buildIndexMap();var b=this.translateIndexMap.get(a);return void 0===b&&(b=f5(a)?a:NaN),b},a.prototype.scale=function(a){var b=this.translate(a),c=this.calcPercent(b,this.min,this.max);return this.calcValue(c,this.rangeMin(),this.rangeMax())},a.prototype.invert=function(b){var c=this.max-this.min,d=this.calcPercent(b,this.rangeMin(),this.rangeMax()),a=Math.round(c*d)+this.min;return a<this.min||a>this.max?NaN:this.values[a]},a.prototype.getText=function(c){for(var e=[],a=1;a<arguments.length;a++)e[a-1]=arguments[a];var d=c;return f5(c)&&!this.values.includes(c)&&(d=this.values[d]),b.prototype.getText.apply(this,fr([d],e))},a.prototype.initCfg=function(){this.tickMethod="cat"},a.prototype.setDomain=function(){if(fA(this.getConfig("min"))&&(this.min=0),fA(this.getConfig("max"))){var a=this.values.length;this.max=a>1?a-1:a}this.translateIndexMap&&(this.translateIndexMap=void 0)},a}(aw),ll=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,z="\\d\\d?",A="\\d\\d",V="[^\\s]+",lm=/\[([^]*?)\]/gm;function bt(b,d){for(var c=[],a=0,e=b.length;a<e;a++)c.push(b[a].substr(0,d));return c}var bu=function(a){return function(c,d){var b=d[a].map(function(a){return a.toLowerCase()}).indexOf(c.toLowerCase());return b> -1?b:null}};function cz(c){for(var d=[],a=1;a<arguments.length;a++)d[a-1]=arguments[a];for(var b=0,e=d;b<e.length;b++){var f=e[b];for(var g in f)c[g]=f[g]}return c}var bv=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],bw=["January","February","March","April","May","June","July","August","September","October","November","December"],cA=bt(bw,3),cB=bt(bv,3),bx={dayNamesShort:cB,dayNames:bv,monthNamesShort:cA,monthNames:bw,amPm:["am","pm"],DoFn:function(a){return a+["th","st","nd","rd"][a%10>3?0:(a-a%10!=10?1:0)*a%10]}},ln=cz({},bx),cC=function(a){return ln=cz(ln,a)},lo=function(a){return a.replace(/[|\\{()[^$+*?.-]/g,"\\$&")},lp=function(a,b){for(void 0===b&&(b=2),a=String(a);a.length<b;)a="0"+a;return a},lq={D:function(a){return String(a.getDate())},DD:function(a){return lp(a.getDate())},Do:function(a,b){return b.DoFn(a.getDate())},d:function(a){return String(a.getDay())},dd:function(a){return lp(a.getDay())},ddd:function(a,b){return b.dayNamesShort[a.getDay()]},dddd:function(a,b){return b.dayNames[a.getDay()]},M:function(a){return String(a.getMonth()+1)},MM:function(a){return lp(a.getMonth()+1)},MMM:function(a,b){return b.monthNamesShort[a.getMonth()]},MMMM:function(a,b){return b.monthNames[a.getMonth()]},YY:function(a){return lp(String(a.getFullYear()),4).substr(2)},YYYY:function(a){return lp(a.getFullYear(),4)},h:function(a){return String(a.getHours()%12||12)},hh:function(a){return lp(a.getHours()%12||12)},H:function(a){return String(a.getHours())},HH:function(a){return lp(a.getHours())},m:function(a){return String(a.getMinutes())},mm:function(a){return lp(a.getMinutes())},s:function(a){return String(a.getSeconds())},ss:function(a){return lp(a.getSeconds())},S:function(a){return String(Math.round(a.getMilliseconds()/100))},SS:function(a){return lp(Math.round(a.getMilliseconds()/10),2)},SSS:function(a){return lp(a.getMilliseconds(),3)},a:function(b,a){return 12>b.getHours()?a.amPm[0]:a.amPm[1]},A:function(b,a){return 12>b.getHours()?a.amPm[0].toUpperCase():a.amPm[1].toUpperCase()},ZZ:function(b){var a=b.getTimezoneOffset();return(a>0?"-":"+")+lp(100*Math.floor(Math.abs(a)/60)+Math.abs(a)%60,4)},Z:function(b){var a=b.getTimezoneOffset();return(a>0?"-":"+")+lp(Math.floor(Math.abs(a)/60),2)+":"+lp(Math.abs(a)%60,2)}},by=function(a){return+a-1},bz=[null,z],bA=[null,V],bB=["isPm",V,function(c,a){var b=c.toLowerCase();return b===a.amPm[0]?0:b===a.amPm[1]?1:null}],bC=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(c){var a=(c+"").match(/([+-]|\d\d)/gi);if(a){var b=60*+a[1]+parseInt(a[2],10);return"+"===a[0]?b:-b}return 0}],lr={D:["day",z],DD:["day",A],Do:["day",z+V,function(a){return parseInt(a,10)}],M:["month",z,by],MM:["month",A,by],YY:["year",A,function(a){var b=+(""+new Date().getFullYear()).substr(0,2);return+(""+(+a>68?b-1:b)+a)}],h:["hour",z,void 0,"isPm"],hh:["hour",A,void 0,"isPm"],H:["hour",z],HH:["hour",A],m:["minute",z],mm:["minute",A],s:["second",z],ss:["second",A],YYYY:["year","\\d{4}"],S:["millisecond","\\d",function(a){return 100*+a}],SS:["millisecond",A,function(a){return 10*+a}],SSS:["millisecond","\\d{3}"],d:bz,dd:bz,ddd:bA,dddd:bA,MMM:["month",V,bu("monthNamesShort")],MMMM:["month",V,bu("monthNames")],a:bB,A:bB,ZZ:bC,Z:bC},ls={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},cD=function(a){return cz(ls,a)},cE=function(b,a,c){if(void 0===a&&(a=ls.default),void 0===c&&(c={}),"number"==typeof b&&(b=new Date(b)),"[object Date]"!==Object.prototype.toString.call(b)||isNaN(b.getTime()))throw Error("Invalid Date pass to format");a=ls[a]||a;var d=[];a=a.replace(lm,function(b,a){return d.push(a),"@@@"});var e=cz(cz({},ln),c);return(a=a.replace(ll,function(a){return lq[a](b,e)})).replace(/@@@/g,function(){return d.shift()})};function cF(i,c,h){if(void 0===h&&(h={}),"string"!=typeof c)throw Error("Invalid format in fecha parse");if(c=ls[c]||c,i.length>1e3)return null;var e,a={year:new Date().getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},m=[],s=[],d=c.replace(lm,function(b,a){return s.push(lo(a)),"@@@"}),n={},o={};d=lo(d).replace(ll,function(d){var a=lr[d],b=a[0],e=a[1],c=a[3];if(n[b])throw Error("Invalid format. "+b+" specified twice in format");return n[b]=!0,c&&(o[c]=!0),m.push(a),"("+e+")"}),Object.keys(o).forEach(function(a){if(!n[a])throw Error("Invalid format. "+a+" is required in specified format")}),d=d.replace(/@@@/g,function(){return s.shift()});var f=i.match(RegExp(d,"i"));if(!f)return null;for(var p=cz(cz({},ln),h),b=1;b<f.length;b++){var j=m[b-1],q=j[0],k=j[2],l=k?k(f[b],p):+f[b];if(null==l)return null;a[q]=l}if(1===a.isPm&&null!=a.hour&&12!= +a.hour?a.hour=+a.hour+12:0===a.isPm&&12== +a.hour&&(a.hour=0),null==a.timezoneOffset){e=new Date(a.year,a.month,a.day,a.hour,a.minute,a.second,a.millisecond);for(var g=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]],b=0,r=g.length;b<r;b++)if(n[g[b][0]]&&a[g[b][0]]!==e[g[b][1]]())return null}else if(e=new Date(Date.UTC(a.year,a.month,a.day,a.hour,a.minute-a.timezoneOffset,a.second,a.millisecond)),a.month>11||a.month<0||a.day>31||a.day<1||a.hour>23||a.hour<0||a.minute>59||a.minute<0||a.second>59||a.second<0)return null;return e}var lt={format:cE,parse:cF,defaultI18n:bx,setGlobalDateI18n:cC,setGlobalDateMasks:cD},lu="format";function lv(a,b){return(aZ[lu]||lt[lu])(a,b)}function lw(a){return fT(a)&&(a=a.indexOf("T")>0?new Date(a).getTime():new Date(a.replace(/-/gi,"/")).getTime()),gk(a)&&(a=a.getTime()),a}var ad=36e5,L=24*ad,ay=31*L,lx=365*L,ly=[["HH:mm:ss",1e3],["HH:mm:ss",1e4],["HH:mm:ss",3e4],["HH:mm",6e4],["HH:mm",6e5],["HH:mm",18e5],["HH",ad],["HH",6*ad],["HH",12*ad],["YYYY-MM-DD",L],["YYYY-MM-DD",4*L],["YYYY-WW",7*L],["YYYY-MM",ay],["YYYY-MM",4*ay],["YYYY-MM",6*ay],["YYYY",380*L],],cG=function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.type="timeCat",a}return fl(a,b),a.prototype.translate=function(a){a=lw(a);var b=this.values.indexOf(a);return -1===b&&(b=f5(a)&&a<this.values.length?a:NaN),b},a.prototype.getText=function(a,e){var b=this.translate(a);if(b> -1){var c=this.values[b],d=this.formatter;return d?d(c,e):lv(c,this.mask)}return a},a.prototype.initCfg=function(){this.tickMethod="time-cat",this.mask="YYYY-MM-DD",this.tickCount=7},a.prototype.setDomain=function(){var a=this.values;I(a,function(b,c){a[c]=lw(b)}),a.sort(function(a,b){return a-b}),b.prototype.setDomain.call(this)},a}(ax),ae=function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.isContinuous=!0,a}return fl(a,b),a.prototype.scale=function(b){if(fA(b))return NaN;var d,a=this.rangeMin(),c=this.rangeMax();return this.max===this.min?a:a+this.getScalePercent(b)*(c-a)},a.prototype.init=function(){b.prototype.init.call(this);var d=this.ticks,a=fX(d),c=fY(d);a<this.min&&(this.min=a),c>this.max&&(this.max=c),fA(this.minLimit)||(this.min=a),fA(this.maxLimit)||(this.max=c)},a.prototype.setDomain=function(){var a=fO(this.values),b=a.min,c=a.max;fA(this.min)&&(this.min=b),fA(this.max)&&(this.max=c),this.min>this.max&&(this.min=b,this.max=c)},a.prototype.calculateTicks=function(){var c=this,a=b.prototype.calculateTicks.call(this);return this.nice||(a=fw(a,function(a){return a>=c.min&&a<=c.max})),a},a.prototype.getScalePercent=function(b){var c=this.max,a=this.min;return(b-a)/(c-a)},a.prototype.getInvertPercent=function(a){return(a-this.rangeMin())/(this.rangeMax()-this.rangeMin())},a}(aw),bD=function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.type="linear",a.isLinear=!0,a}return fl(a,b),a.prototype.invert=function(a){var b=this.getInvertPercent(a);return this.min+b*(this.max-this.min)},a.prototype.initCfg=function(){this.tickMethod="wilkinson-extended",this.nice=!1},a}(ae);function lz(b,a){var d,c=Math.E;return a>=0?Math.pow(c,Math.log(a)/b):-1*Math.pow(c,Math.log(-a)/b)}function lA(a,b){return 1===a?1:Math.log(b)/Math.log(a)}function lB(c,d,a){fA(a)&&(a=Math.max.apply(null,c));var b=a;return I(c,function(a){a>0&&a<b&&(b=a)}),b===a&&(b=a/d),b>1&&(b=1),b}var cH=function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.type="log",a}return fl(a,b),a.prototype.invert=function(c){var a,b=this.base,e=lA(b,this.max),f=this.rangeMin(),g=this.rangeMax()-f,d=this.positiveMin;if(d){if(0===c)return 0;a=lA(b,d/b);var h=1/(e-a)*g;if(c<h)return c/h*d}else a=lA(b,this.min);return Math.pow(b,(c-f)/g*(e-a)+a)},a.prototype.initCfg=function(){this.tickMethod="log",this.base=10,this.tickCount=6,this.nice=!0},a.prototype.setDomain=function(){b.prototype.setDomain.call(this);var a=this.min;if(a<0)throw Error("When you use log scale, the minimum value must be greater than zero!");0===a&&(this.positiveMin=lB(this.values,this.base,this.max))},a.prototype.getScalePercent=function(c){var f,e=this.max,b=this.min;if(e===b||c<=0)return 0;var a=this.base,d=this.positiveMin;return d&&(b=1*d/a),c<d?c/d/(lA(a,e)-lA(a,b)):(lA(a,c)-lA(a,b))/(lA(a,e)-lA(a,b))},a}(ae),cI=function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.type="pow",a}return fl(a,b),a.prototype.invert=function(d){var e=this.getInvertPercent(d),a=this.exponent,f=lz(a,this.max),b=lz(a,this.min),c=e*(f-b)+b;return Math.pow(c,a)*(c>=0?1:-1)},a.prototype.initCfg=function(){this.tickMethod="pow",this.exponent=2,this.tickCount=5,this.nice=!0},a.prototype.getScalePercent=function(d){var c=this.max,b=this.min;if(c===b)return 0;var a=this.exponent;return(lz(a,d)-lz(a,b))/(lz(a,c)-lz(a,b))},a}(ae),cJ=function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.type="time",a}return fl(a,b),a.prototype.getText=function(c,d){var a=this.translate(c),b=this.formatter;return b?b(a,d):lv(a,this.mask)},a.prototype.scale=function(c){var a=c;return(fT(a)||gk(a))&&(a=this.translate(a)),b.prototype.scale.call(this,a)},a.prototype.translate=function(a){return lw(a)},a.prototype.initCfg=function(){this.tickMethod="time-pretty",this.mask="YYYY-MM-DD",this.tickCount=7,this.nice=!1},a.prototype.setDomain=function(){var a=this.values,b=this.getConfig("min"),c=this.getConfig("max");if(fA(b)&&f5(b)||(this.min=this.translate(this.min)),fA(c)&&f5(c)||(this.max=this.translate(this.max)),a&&a.length){var g=[],d=1/0,e=d,f=0;I(a,function(b){var a=lw(b);if(isNaN(a))throw TypeError("Invalid Time: "+b+" in time scale!");d>a?(e=d,d=a):e>a&&(e=a),f<a&&(f=a),g.push(a)}),a.length>1&&(this.minTickInterval=e-d),fA(b)&&(this.min=d),fA(c)&&(this.max=f)}},a}(bD),bE=function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.type="quantize",a}return fl(a,b),a.prototype.invert=function(g){var b=this.ticks,c=b.length,d=this.getInvertPercent(g),a=Math.floor(d*(c-1));if(a>=c-1)return fY(b);if(a<0)return fX(b);var e=b[a],h=b[a+1],f=a/(c-1);return e+(d-f)/((a+1)/(c-1)-f)*(h-e)},a.prototype.initCfg=function(){this.tickMethod="r-pretty",this.tickCount=5,this.nice=!0},a.prototype.calculateTicks=function(){var a=b.prototype.calculateTicks.call(this);return this.nice||(fY(a)!==this.max&&a.push(this.max),fX(a)!==this.min&&a.unshift(this.min)),a},a.prototype.getScalePercent=function(b){var a=this.ticks;if(b<fX(a))return 0;if(b>fY(a))return 1;var c=0;return I(a,function(a,d){if(!(b>=a))return!1;c=d}),c/(a.length-1)},a}(ae),cK=function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.type="quantile",a}return fl(a,b),a.prototype.initCfg=function(){this.tickMethod="quantile",this.tickCount=5,this.nice=!0},a}(bE),lC={};function lD(a){return lC[a]}function u(a,b){if(lD(a))throw Error("type '"+a+"' existed.");lC[a]=b}var cL=function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.type="identity",a.isIdentity=!0,a}return fl(a,b),a.prototype.calculateTicks=function(){return this.values},a.prototype.scale=function(a){return this.values[0]!==a&&f5(a)?a:this.range[0]},a.prototype.invert=function(a){var b=this.range;return a<b[0]||a>b[1]?NaN:this.values[0]},a}(aw);function cM(d){var a=d.values,m=d.tickInterval,b=d.tickCount,k=d.showLast;if(f5(m)){var g=fw(a,function(b,a){return a%m==0}),l=fY(a);return k&&fY(g)!==l&&g.push(l),g}var h=a.length,e=d.min,c=d.max;if(fA(e)&&(e=0),fA(c)&&(c=a.length-1),!f5(b)||b>=h)return a.slice(e,c+1);if(b<=0||c<=0)return[];for(var n=1===b?h:Math.floor(h/(b-1)),i=[],j=e,f=0;f<b&&!(j>=c);f++)j=Math.min(e+f*n,c),f===b-1&&k?i.push(a[c]):i.push(a[j]);return i}var lE=Math.sqrt(50),lF=Math.sqrt(10),lG=Math.sqrt(2),lH=function(){function a(){this._domain=[0,1]}return a.prototype.domain=function(a){return a?(this._domain=Array.from(a,Number),this):this._domain.slice()},a.prototype.nice=function(e){void 0===e&&(e=5);var h,i,a,d=this._domain.slice(),f=0,g=this._domain.length-1,b=this._domain[f],c=this._domain[g];return c<b&&(b=(h=[c,b])[0],c=h[1],f=(i=[g,f])[0],g=i[1]),(a=lJ(b,c,e))>0?(b=Math.floor(b/a)*a,c=Math.ceil(c/a)*a,a=lJ(b,c,e)):a<0&&(b=Math.ceil(b*a)/a,c=Math.floor(c*a)/a,a=lJ(b,c,e)),a>0?(d[f]=Math.floor(b/a)*a,d[g]=Math.ceil(c/a)*a,this.domain(d)):a<0&&(d[f]=Math.ceil(b*a)/a,d[g]=Math.floor(c*a)/a,this.domain(d)),this},a.prototype.ticks=function(a){return void 0===a&&(a=5),lI(this._domain[0],this._domain[this._domain.length-1],a||5)},a}();function lI(a,b,g){var h,d,e,c,f=-1;if(g=+g,(a=+a)==(b=+b)&&g>0)return[a];if((h=b<a)&&(d=a,a=b,b=d),0===(c=lJ(a,b,g))||!isFinite(c))return[];if(c>0)for(a=Math.ceil(a/c),b=Math.floor(b/c),e=Array(d=Math.ceil(b-a+1));++f<d;)e[f]=(a+f)*c;else for(a=Math.floor(a*c),b=Math.ceil(b*c),e=Array(d=Math.ceil(a-b+1));++f<d;)e[f]=(a-f)/c;return h&&e.reverse(),e}function lJ(d,e,f){var c=(e-d)/Math.max(0,f),b=Math.floor(Math.log(c)/Math.LN10),a=c/Math.pow(10,b);return b>=0?(a>=lE?10:a>=lF?5:a>=lG?2:1)*Math.pow(10,b):-Math.pow(10,-b)/(a>=lE?10:a>=lF?5:a>=lG?2:1)}function lK(b,a,c){var d;return("ceil"===c?Math.ceil(b/a):"floor"===c?Math.floor(b/a):Math.round(b/a))*a}function lL(g,h,a){var b=lK(g,a,"floor"),c=lK(h,a,"ceil");b=f4(b,a),c=f4(c,a);for(var e=[],f=Math.max((c-b)/4095,a),d=b;d<=c;d+=f){var i=f4(d,f);e.push(i)}return{min:b,max:c,ticks:e}}function lM(b,f,g){var h,i=b.minLimit,j=b.maxLimit,m=b.min,n=b.max,k=b.tickCount,d=void 0===k?5:k,a=fA(i)?fA(f)?m:f:i,c=fA(j)?fA(g)?n:g:j;if(a>c&&(c=(h=[a,c])[0],a=h[1]),d<=2)return[a,c];for(var o=(c-a)/(d-1),l=[],e=0;e<d;e++)l.push(a+o*e);return l}function lN(a){return 1e-15>Math.abs(a)?a:parseFloat(a.toFixed(15))}var lO=[1,5,2,2.5,4,3],lP=100*Number.EPSILON;function lQ(a){return Math.round(1e12*a)/1e12}function lR(h,b,i,c,j,d){var e,a,k=gK(b),l=gt(b,h),f=0,g=(e=c,(e%(a=d)+a)%a);return(g<lP||d-g<lP)&&c<=0&&j>=0&&(f=1),1-l/(k-1)-i+f}function lS(b,a,c){var e,d=gK(a);return 1-gt(a,b)/(d-1)-c+1}function lT(e,f,g,h,a,b){var c=(e-1)/(b-a),d=(f-1)/(Math.max(b,h)-Math.min(g,a));return 2-Math.max(c/d,d/c)}function lU(a,b){return a>=b?2-(a-1)/(b-1):1}function lV(a,b,c,d){return 1-.5*(Math.pow(b-d,2)+Math.pow(a-c,2))/Math.pow(.1*(b-a),2)}function lW(c,d,b){var a=d-c;return b>a?1-Math.pow((b-a)/2,2)/Math.pow(.1*a,2):1}function lX(b,e,f){if(void 0===f&&(f=5),b===e)return{max:e,min:b,ticks:[b]};var j=f<0?0:Math.round(f);if(0===j)return{max:e,min:b,ticks:[]};var h=1.5,n=.5+1.5*h,o=e-b,c=o/j,d=Math.pow(10,Math.floor(Math.log10(c))),a=d;2*d-c<h*(c-a)&&(a=2*d,5*d-c<n*(c-a)&&(a=5*d,10*d-c<h*(c-a)&&(a=10*d)));for(var p=Math.ceil(e/a),q=Math.floor(b/a),k=Math.max(p*a,e),i=Math.min(q*a,b),l=Math.floor((k-i)/a)+1,m=Array(l),g=0;g<l;g++)m[g]=lN(i+g*a);return{min:i,max:k,ticks:m}}function lY(a,c){var b=a.length*c;return 1===c?a[a.length-1]:0===c?a[0]:b%1!=0?a[Math.ceil(b)-1]:a.length%2==0?(a[b-1]+a[b])/2:a[b]}function lZ(a){return new Date(a).getFullYear()}function l$(a){return new Date(a,0,1).getTime()}function l_(a){return new Date(a).getMonth()}function l0(a,b){return new Date(a,b,1).getTime()}t("cat",cM),t("time-cat",function(a){return cM(n({showLast:!0},a))}),t("wilkinson-extended",function(a){var c=a.min,d=a.max,f=a.tickCount,g=a.nice,e=a.tickInterval,h=a.minLimit,i=a.maxLimit,b=function(b,c,l,q,h,a){void 0===l&&(l=5),void 0===q&&(q=!0),void 0===h&&(h=lO),void 0===a&&(a=[.25,.2,.5,.05]);var n=l<0?0:Math.round(l);if(Number.isNaN(b)||Number.isNaN(c)||"number"!=typeof b||"number"!=typeof c||!n)return{min:0,max:0,ticks:[]};if(c-b<1e-15||1===n)return{min:b,max:c,ticks:[b]};if(c-b>1e148){var o=l||5,I=(c-b)/o;return{min:b,max:c,ticks:Array(o).fill(null).map(function(c,a){return lN(b+I*a)})}}for(var d={score:-2,lmin:0,lmax:0,lstep:0},e=1;e<1/0;){for(var f=0;f<h.length;f+=1){var p=h[f],r=lS(p,h,e);if(a[0]*r+a[1]+a[2]+a[3]<d.score){e=1/0;break}for(var g=2;g<1/0;){var v=lU(g,n);if(a[0]*r+a[1]+a[2]*v+a[3]<d.score)break;for(var s=Math.ceil(Math.log10((c-b)/(g+1)/e/p));s<1/0;){var i=e*p*Math.pow(10,s),C=lW(b,c,i*(g-1));if(a[0]*r+a[1]*C+a[2]*v+a[3]<d.score)break;var t=Math.floor(c/i)*e-(g-1)*e,w=Math.ceil(b/i)*e;if(t<=w)for(var o=w-t,u=0;u<=o;u+=1){var j=(t+u)*(i/e),m=j+i*(g-1),x=i,D=lR(p,h,e,j,m,x),E=lV(b,c,j,m),F=lT(g,n,b,c,j,m),G=1,y=a[0]*D+a[1]*E+a[2]*F+a[3]*G;y>d.score&&(!q||j<=b&&m>=c)&&(d.lmin=j,d.lmax=m,d.lstep=x,d.score=y)}s+=1}g+=1}}e+=1}var H=lN(d.lmax),z=lN(d.lmin),A=lN(d.lstep),B=Math.floor(lQ((H-z)/A))+1,k=Array(B);k[0]=lN(z);for(var f=1;f<B;f++)k[f]=lN(k[f-1]+A);return{min:Math.min(b,fX(k)),max:Math.max(c,fY(k)),ticks:k}}(c,d,f,g).ticks;return fA(h)&&fA(i)?e?lL(c,d,e).ticks:b:lM(a,fX(b),fY(b))}),t("r-pretty",function(a){var c=a.min,d=a.max,f=a.tickCount,e=a.tickInterval,g=a.minLimit,h=a.maxLimit,b=lX(c,d,f).ticks;return fA(g)&&fA(h)?e?lL(c,d,e).ticks:b:lM(a,fX(b),fY(b))}),t("time",function(b){var c=b.min,d=b.max,e=b.minTickInterval,a=b.tickInterval,f=b.tickCount;if(a)f=Math.ceil((d-c)/a);else{a=(k=c,l=d,m=f,n=(function(a){return function(e,h,f,g){for(var b=fA(f)?0:f,c=fA(g)?e.length:g;b<c;){var d=b+c>>>1;a(e[d])>h?c=d:b=d+1}return b}})(function(a){return a[1]})(ly,(l-k)/m)-1,o=ly[n],n<0?o=ly[0]:n>=ly.length&&(o=fY(ly)),o)[1];var k,l,m,n,o,j=(d-c)/a,h=j/f;h>1&&(a*=Math.ceil(h)),e&&a<e&&(a=e)}a=Math.max(Math.floor((d-c)/4095),a);for(var i=[],g=c;g<d+a;g+=a)i.push(g);return i}),t("time-pretty",function(g){var c=g.min,e=g.max,i=g.minTickInterval,B=g.tickCount,b=g.tickInterval,d=[];!b&&(b=(e-c)/B,i&&b<i&&(b=i)),b=Math.max(Math.floor((e-c)/4095),b);var o=lZ(c);if(b>lx)for(var C=lZ(e),p=Math.ceil(b/lx),a=o;a<=C+p;a+=p)d.push(l$(a));else if(b>ay)for(var j,k,q,r,s,t,u=Math.ceil(b/ay),D=l_(c),E=(j=c,k=e,q=lZ(j),r=lZ(k),s=l_(j),t=l_(k),(r-q)*12+(t-s)%12),a=0;a<=E+u;a+=u)d.push(l0(o,a+D));else if(b>L)for(var v,F,f=new Date(c),l=f.getFullYear(),m=f.getMonth(),G=f.getDate(),h=Math.ceil(b/L),H=(v=c,Math.ceil(((F=e)-v)/L)),a=0;a<H+h;a+=h)d.push(new Date(l,m,G+a).getTime());else if(b>ad)for(var w,I,f=new Date(c),l=f.getFullYear(),m=f.getMonth(),h=f.getDate(),J=f.getHours(),x=Math.ceil(b/ad),K=(w=c,Math.ceil(((I=e)-w)/ad)),a=0;a<=K+x;a+=x)d.push(new Date(l,m,h,J+a).getTime());else if(b>6e4)for(var y,M,N=(y=c,Math.ceil(((M=e)-y)/6e4)),z=Math.ceil(b/6e4),a=0;a<=N+z;a+=z)d.push(c+6e4*a);else{var n=b;n<1e3&&(n=1e3);for(var O=1e3*Math.floor(c/1e3),P=Math.ceil((e-c)/1e3),A=Math.ceil(n/1e3),a=0;a<P+A;a+=A)d.push(O+1e3*a)}return d.length>=512&&console.warn("Notice: current ticks length("+d.length+') >= 512, may cause performance issues, even out of memory. Because of the configure "tickInterval"(in milliseconds, current is '+b+") is too small, increase the value to solve the problem!"),d}),t("log",function(a){var c,b=a.base,j=a.tickCount,d=a.min,g=a.max,k=a.values,h=lA(b,g);if(d>0)c=Math.floor(lA(b,d));else{var l=lB(k,b,g);c=Math.floor(lA(b,l))}for(var i=Math.ceil((h-c)/j),e=[],f=c;f<h+i;f+=i)e.push(Math.pow(b,f));return d<=0&&e.unshift(0),e}),t("pow",function(a){var b=a.exponent,c=a.tickCount,d=Math.ceil(lz(b,a.max)),e=Math.floor(lz(b,a.min)),f=lX(e,d,c).ticks;return f.map(function(a){return Math.pow(a,b)*(a>=0?1:-1)})}),t("quantile",function(c){var d=c.tickCount,a=c.values;if(!a||!a.length)return[];for(var f=a.slice().sort(function(a,b){return a-b}),e=[],b=0;b<d;b++){var g=b/(d-1);e.push(lY(f,g))}return e}),t("d3-linear",function(a){var b,f,g,h,d,c,j=a.min,k=a.max,i=a.tickInterval,l=a.minLimit,m=a.maxLimit,e=(f=(b=a).min,g=b.max,h=b.nice,d=b.tickCount,c=new lH,c.domain([f,g]),h&&c.nice(d),c.ticks(d));return fA(l)&&fA(m)?i?lL(j,k,i).ticks:e:lM(a,fX(e),fY(e))}),u("cat",ax),u("category",ax),u("identity",cL),u("linear",bD),u("log",cH),u("pow",cI),u("time",cJ),u("timeCat",cG),u("quantize",bE),u("quantile",cK);var l1={},l2=function(a){return l1[a.toLowerCase()]},W=function(a,b){if(l2(a))throw Error("Attribute type '"+a+"' existed.");l1[a.toLowerCase()]=b};function l3(b,c,a){var d=c[0],e=c[1],f=c[2];return b[0]=d*a[0]+e*a[3]+f*a[6],b[1]=d*a[1]+e*a[4]+f*a[7],b[2]=d*a[2]+e*a[5]+f*a[8],b}W("Color",cu),W("Opacity",cv),W("Position",cw),W("Shape",cx),W("Size",cy),l4=new aa(3),aa!=Float32Array&&(l4[0]=0,l4[1]=0,l4[2]=0);var l4,l5,az=function(){function a(a){this.type="coordinate",this.isRect=!1,this.isHelix=!1,this.isPolar=!1,this.isReflectX=!1,this.isReflectY=!1;var e=a.start,f=a.end,b=a.matrix,c=void 0===b?[1,0,0,0,1,0,0,0,1]:b,d=a.isTransposed;this.start=e,this.end=f,this.matrix=c,this.originalMatrix=fs([],c),this.isTransposed=void 0!==d&&d}return a.prototype.initial=function(){this.center={x:(this.start.x+this.end.x)/2,y:(this.start.y+this.end.y)/2},this.width=Math.abs(this.end.x-this.start.x),this.height=Math.abs(this.end.y-this.start.y)},a.prototype.update=function(a){gA(this,a),this.initial()},a.prototype.convertDim=function(f,c){var d,e=this[c],a=e.start,b=e.end;return this.isReflect(c)&&(a=(d=[b,a])[0],b=d[1]),a+f*(b-a)},a.prototype.invertDim=function(f,c){var d,e=this[c],a=e.start,b=e.end;return this.isReflect(c)&&(a=(d=[b,a])[0],b=d[1]),(f-a)/(b-a)},a.prototype.applyMatrix=function(c,d,a){void 0===a&&(a=0);var e=this.matrix,b=[c,d,a];return l3(b,b,e),b},a.prototype.invertMatrix=function(s,t,m){void 0===m&&(m=0);var b,c,d,e,f,g,h,i,j,k,l,n,o,p,a,r=(b=[0,0,0,0,0,0,0,0,0],d=(c=this.matrix)[0],e=c[1],f=c[2],g=c[3],h=c[4],i=c[5],j=c[6],k=c[7],l=c[8],n=l*h-i*k,o=-l*g+i*j,p=k*g-h*j,a=d*n+e*o+f*p,a?(a=1/a,b[0]=n*a,b[1]=(-l*e+f*k)*a,b[2]=(i*e-f*h)*a,b[3]=o*a,b[4]=(l*d-f*j)*a,b[5]=(-i*d+f*g)*a,b[6]=p*a,b[7]=(-k*d+e*j)*a,b[8]=(h*d-e*g)*a,b):null),q=[s,t,m];return r&&l3(q,q,r),q},a.prototype.convert=function(c){var a=this.convertPoint(c),d=a.x,e=a.y,b=this.applyMatrix(d,e,1);return{x:b[0],y:b[1]}},a.prototype.invert=function(a){var b=this.invertMatrix(a.x,a.y,1);return this.invertPoint({x:b[0],y:b[1]})},a.prototype.rotate=function(c){var a=this.matrix,b=this.center;return hV(a,a,[-b.x,-b.y]),hW(a,a,c),hV(a,a,[b.x,b.y]),this},a.prototype.reflect=function(a){return"x"===a?this.isReflectX=!this.isReflectX:this.isReflectY=!this.isReflectY,this},a.prototype.scale=function(c,d){var a=this.matrix,b=this.center;return hV(a,a,[-b.x,-b.y]),hX(a,a,[c,d]),hV(a,a,[b.x,b.y]),this},a.prototype.translate=function(b,c){var a=this.matrix;return hV(a,a,[b,c]),this},a.prototype.transpose=function(){return this.isTransposed=!this.isTransposed,this},a.prototype.getCenter=function(){return this.center},a.prototype.getWidth=function(){return this.width},a.prototype.getHeight=function(){return this.height},a.prototype.getRadius=function(){return this.radius},a.prototype.isReflect=function(a){return"x"===a?this.isReflectX:this.isReflectY},a.prototype.resetMatrix=function(a){this.matrix=a||fs([],this.originalMatrix)},a}(),bF=function(b){function a(c){var a=b.call(this,c)||this;return a.isRect=!0,a.type="cartesian",a.initial(),a}return fl(a,b),a.prototype.initial=function(){b.prototype.initial.call(this);var a=this.start,c=this.end;this.x={start:a.x,end:c.x},this.y={start:a.y,end:c.y}},a.prototype.convertPoint=function(c){var d,a=c.x,b=c.y;return this.isTransposed&&(a=(d=[b,a])[0],b=d[1]),{x:this.convertDim(a,"x"),y:this.convertDim(b,"y")}},a.prototype.invertPoint=function(c){var d,a=this.invertDim(c.x,"x"),b=this.invertDim(c.y,"y");return this.isTransposed&&(a=(d=[b,a])[0],b=d[1]),{x:a,y:b}},a}(az),cN=function(b){function a(c){var a=b.call(this,c)||this;a.isHelix=!0,a.type="helix";var d=c.startAngle,e=c.endAngle,f=c.innerRadius,g=c.radius;return a.startAngle=void 0===d?1.25*Math.PI:d,a.endAngle=void 0===e?7.25*Math.PI:e,a.innerRadius=void 0===f?0:f,a.radius=g,a.initial(),a}return fl(a,b),a.prototype.initial=function(){b.prototype.initial.call(this);var c=(this.endAngle-this.startAngle)/(2*Math.PI)+1,a=Math.min(this.width,this.height)/2;this.radius&&this.radius>=0&&this.radius<=1&&(a*=this.radius),this.d=Math.floor(a*(1-this.innerRadius)/c),this.a=this.d/(2*Math.PI),this.x={start:this.startAngle,end:this.endAngle},this.y={start:this.innerRadius*a,end:this.innerRadius*a+.99*this.d}},a.prototype.convertPoint=function(d){var e,a=d.x,b=d.y;this.isTransposed&&(a=(e=[b,a])[0],b=e[1]);var c=this.convertDim(a,"x"),f=this.a*c,g=this.convertDim(b,"y");return{x:this.center.x+Math.cos(c)*(f+g),y:this.center.y+Math.sin(c)*(f+g)}},a.prototype.invertPoint=function(g){var h,i=this.d+this.y.start,c=cd([0,0],[g.x,g.y],[this.center.x,this.center.y]),d=hZ(c,[1,0],!0),f=d*this.a;hQ(c)<f&&(f=hQ(c)),d=2*Math.floor((hQ(c)-f)/i)*Math.PI+d;var j=this.a*d,e=hQ(c)-j;e=f6(e,0)?0:e;var a=this.invertDim(d,"x"),b=this.invertDim(e,"y");return a=f6(a,0)?0:a,b=f6(b,0)?0:b,this.isTransposed&&(a=(h=[b,a])[0],b=h[1]),{x:a,y:b}},a}(az),cO=function(b){function a(c){var a=b.call(this,c)||this;a.isPolar=!0,a.type="polar";var d=c.startAngle,e=c.endAngle,f=c.innerRadius,g=c.radius;return a.startAngle=void 0===d?-Math.PI/2:d,a.endAngle=void 0===e?3*Math.PI/2:e,a.innerRadius=void 0===f?0:f,a.radius=g,a.initial(),a}return fl(a,b),a.prototype.initial=function(){for(b.prototype.initial.call(this);this.endAngle<this.startAngle;)this.endAngle+=2*Math.PI;var a,c=this.getOneBox(),d=c.maxX-c.minX,e=c.maxY-c.minY,f=Math.abs(c.minX)/d,g=Math.abs(c.minY)/e;this.height/e>this.width/d?(a=this.width/d,this.circleCenter={x:this.center.x-(.5-f)*this.width,y:this.center.y-(.5-g)*a*e}):(a=this.height/e,this.circleCenter={x:this.center.x-(.5-f)*a*d,y:this.center.y-(.5-g)*this.height}),this.polarRadius=this.radius,this.radius?this.radius>0&&this.radius<=1?this.polarRadius=a*this.radius:(this.radius<=0||this.radius>a)&&(this.polarRadius=a):this.polarRadius=a,this.x={start:this.startAngle,end:this.endAngle},this.y={start:this.innerRadius*this.polarRadius,end:this.polarRadius}},a.prototype.getRadius=function(){return this.polarRadius},a.prototype.convertPoint=function(c){var d,e=this.getCenter(),a=c.x,b=c.y;return this.isTransposed&&(a=(d=[b,a])[0],b=d[1]),a=this.convertDim(a,"x"),b=this.convertDim(b,"y"),{x:e.x+Math.cos(a)*b,y:e.y+Math.sin(a)*b}},a.prototype.invertPoint=function(h){var i,j=this.getCenter(),k=[h.x-j.x,h.y-j.y],l=this,a=l.startAngle,b=l.endAngle;this.isReflect("x")&&(a=(i=[b,a])[0],b=i[1]);var e=[1,0,0,0,1,0,0,0,1];hW(e,e,a);var d=[1,0,0];l3(d,d,e);var f=hZ([d[0],d[1]],k,b<a);f6(f,2*Math.PI)&&(f=0);var n=hQ(k),c=f/(b-a);c=b-a>0?c:-c;var m=this.invertDim(n,"y"),g={x:0,y:0};return g.x=this.isTransposed?m:c,g.y=this.isTransposed?c:m,g},a.prototype.getCenter=function(){return this.circleCenter},a.prototype.getOneBox=function(){var a=this.startAngle,b=this.endAngle;if(Math.abs(b-a)>=2*Math.PI)return{minX:-1,maxX:1,minY:-1,maxY:1};for(var d=[0,Math.cos(a),Math.cos(b)],e=[0,Math.sin(a),Math.sin(b)],c=Math.min(a,b);c<Math.max(a,b);c+=Math.PI/18)d.push(Math.cos(c)),e.push(Math.sin(c));return{minX:Math.min.apply(Math,d),maxX:Math.max.apply(Math,d),minY:Math.min.apply(Math,e),maxY:Math.max.apply(Math,e)}},a}(az),l6={},af=function(a,b){l6[a.toLowerCase()]=b};function l7(c,d,e){var a=new hr(d,e);a.target=c,a.propagationPath.push(c),c.emitDelegation(d,a);for(var b=c.getParent();b;)b.emitDelegation(d,a),a.propagationPath.push(b),b=b.getParent()}af("rect",bF),af("cartesian",bF),af("polar",cO),af("helix",cN);var l8=[1,0,0,0,1,0,0,0,1];function l9(a,c,b){return(void 0===b&&(b=l8),c)?at(b,[["t",-a.x,-a.y],["r",c],["t",a.x,a.y],]):null}function ma(a,b){return a.x||a.y?at(b||l8,[["t",a.x,a.y]]):null}function mb(g,h){var b,c,a,d,e,f=[0,0];return b=f,c=h,a=g,d=c[0],e=c[1],b[0]=a[0]*d+a[3]*e+a[6],b[1]=a[1]*d+a[4]*e+a[7],f}function mc(a,b,c,d){if(b){var e=l9({x:c,y:d},b,a.getMatrix());a.setMatrix(e)}}function md(a,b,c){var d=ma({x:b,y:c});a.attr("matrix",d)}function me(a){var c=0,d=0,b=0,e=0;return f5(a)?c=d=b=e=a:fB(a)&&(c=a[0],b=fA(a[1])?a[0]:a[1],e=fA(a[2])?a[0]:a[2],d=fA(a[3])?b:a[3]),[c,b,e,d]}function mf(b){for(var c=b.childNodes,d=c.length,a=d-1;a>=0;a--)b.removeChild(c[a])}function mg(e){var a=e.start,b=e.end,c=Math.min(a.x,b.x),d=Math.min(a.y,b.y),f=Math.max(a.x,b.x),g=Math.max(a.y,b.y);return{x:c,y:d,minX:c,minY:d,maxX:f,maxY:g,width:f-c,height:g-d}}function mh(a,b,c,d){var e=a+c,f=b+d;return{x:a,y:b,width:c,height:d,minX:a,minY:b,maxX:isNaN(e)?0:e,maxY:isNaN(f)?0:f}}function mi(b,c,a){return(1-a)*b+c*a}function mj(a,b,c){return{x:a.x+Math.cos(c)*b,y:a.y+Math.sin(c)*b}}var mk=function(a,b,c){return void 0===c&&(c=Math.pow(Number.EPSILON,.5)),[a,b].includes(1/0)?Math.abs(a)===Math.abs(b):Math.abs(a-b)<c};function ml(c){var a,b,e,f,i,j,d,k=c.getClip(),l=k&&k.getBBox();if(c.isGroup()){var g=1/0,m=-1/0,h=1/0,n=-1/0,o=c.getChildren();o.length>0?I(o,function(a){if(a.get("visible")){if(a.isGroup()&&0===a.get("children").length)return!0;var b=ml(a),c=a.applyToMatrix([b.minX,b.minY,1]),d=a.applyToMatrix([b.minX,b.maxY,1]),e=a.applyToMatrix([b.maxX,b.minY,1]),f=a.applyToMatrix([b.maxX,b.maxY,1]),i=Math.min(c[0],d[0],e[0],f[0]),j=Math.max(c[0],d[0],e[0],f[0]),k=Math.min(c[1],d[1],e[1],f[1]),l=Math.max(c[1],d[1],e[1],f[1]);i<g&&(g=i),j>m&&(m=j),k<h&&(h=k),l>n&&(n=l)}}):(g=0,m=0,h=0,n=0),d=mh(g,h,m-g,n-h)}else d=c.getBBox();return l?(a=d,b=l,e=Math.max(a.minX,b.minX),f=Math.max(a.minY,b.minY),i=Math.min(a.maxX,b.maxX),j=Math.min(a.maxY,b.maxY),mh(e,f,i-e,j-f)):d}function mm(b,c,g,j){var d,h,e,f,k=(d=b,e=(h=c).x-d.x,f=h.y-d.y,Math.sqrt(e*e+f*f)),i=j/k,a=0;return"start"===g?a=0-i:"end"===g&&(a=1+i),{x:mi(b.x,c.x,a),y:mi(b.y,c.y,a)}}var mn={none:[],point:["x","y"],region:["start","end"],points:["points"],circle:["center","radius","startAngle","endAngle"]},bG=function(b){function a(c){var a=b.call(this,c)||this;return a.initCfg(),a}return fl(a,b),a.prototype.getDefaultCfg=function(){return{id:"",name:"",type:"",locationType:"none",offsetX:0,offsetY:0,animate:!1,capture:!0,updateAutoRender:!1,animateOption:{appear:null,update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},events:null,defaultCfg:{},visible:!0}},a.prototype.clear=function(){},a.prototype.update=function(a){var b=this,c=this.get("defaultCfg")||{};I(a,function(a,d){var f=b.get(d),e=a;f!==a&&(fC(a)&&c[d]&&(e=gs({},c[d],a)),b.set(d,e))}),this.updateInner(a),this.afterUpdate(a)},a.prototype.updateInner=function(a){},a.prototype.afterUpdate=function(a){gd(a,"visible")&&(a.visible?this.show():this.hide()),gd(a,"capture")&&this.setCapture(a.capture)},a.prototype.getLayoutBBox=function(){return this.getBBox()},a.prototype.getLocationType=function(){return this.get("locationType")},a.prototype.getOffset=function(){return{offsetX:this.get("offsetX"),offsetY:this.get("offsetY")}},a.prototype.setOffset=function(a,b){this.update({offsetX:a,offsetY:b})},a.prototype.setLocation=function(a){var b=n({},a);this.update(b)},a.prototype.getLocation=function(){var b=this,a={};return I(mn[this.get("locationType")],function(c){a[c]=b.get(c)}),a},a.prototype.isList=function(){return!1},a.prototype.isSlider=function(){return!1},a.prototype.init=function(){},a.prototype.initCfg=function(){var a=this;I(this.get("defaultCfg"),function(d,b){var c=a.get(b);if(fC(c)){var e=gs({},d,c);a.set(b,e)}})},a}(bb),mo="update_status",mp=["visible","tip","delegateObject"],mq=["container","group","shapesMap","isRegister","isUpdating","destroyed"],h=function(b){function a(){return null!==b&&b.apply(this,arguments)||this}return fl(a,b),a.prototype.getDefaultCfg=function(){return n(n({},b.prototype.getDefaultCfg.call(this)),{container:null,shapesMap:{},group:null,capture:!0,isRegister:!1,isUpdating:!1,isInit:!0})},a.prototype.remove=function(){this.clear(),this.get("group").remove()},a.prototype.clear=function(){this.get("group").clear(),this.set("shapesMap",{}),this.clearOffScreenCache(),this.set("isInit",!0)},a.prototype.getChildComponentById=function(b){var a=this.getElementById(b);return a&&a.get("component")},a.prototype.getElementById=function(a){return this.get("shapesMap")[a]},a.prototype.getElementByLocalId=function(a){var b=this.getElementId(a);return this.getElementById(b)},a.prototype.getElementsByName=function(b){var a=[];return I(this.get("shapesMap"),function(c){c.get("name")===b&&a.push(c)}),a},a.prototype.getContainer=function(){return this.get("container")},a.prototype.updateInner=function(a){this.offScreenRender(),this.get("updateAutoRender")&&this.render()},a.prototype.render=function(){var a=this.get("offScreenGroup");a||(a=this.offScreenRender());var b=this.get("group");this.updateElements(a,b),this.deleteElements(),this.applyOffset(),this.get("eventInitted")||(this.initEvent(),this.set("eventInitted",!0)),this.set("isInit",!1)},a.prototype.show=function(){this.get("group").show(),this.set("visible",!0)},a.prototype.hide=function(){this.get("group").hide(),this.set("visible",!1)},a.prototype.setCapture=function(a){this.get("group").set("capture",a),this.set("capture",a)},a.prototype.destroy=function(){this.removeEvent(),this.remove(),b.prototype.destroy.call(this)},a.prototype.getBBox=function(){return this.get("group").getCanvasBBox()},a.prototype.getLayoutBBox=function(){var b,a,c,d,e,f,g,i,h,j,m=this.get("group"),k=this.getInnerLayoutBBox(),l=m.getTotalMatrix();return l&&(k=(b=l,c=mb(b,[(a=k).minX,a.minY]),d=mb(b,[a.maxX,a.minY]),e=mb(b,[a.minX,a.maxY]),f=mb(b,[a.maxX,a.maxY]),g=Math.min(c[0],d[0],e[0],f[0]),i=Math.max(c[0],d[0],e[0],f[0]),h=Math.min(c[1],d[1],e[1],f[1]),j=Math.max(c[1],d[1],e[1],f[1]),{x:g,y:h,minX:g,minY:h,maxX:i,maxY:j,width:i-g,height:j-h})),k},a.prototype.on=function(a,b,c){return this.get("group").on(a,b,c),this},a.prototype.off=function(b,c){var a=this.get("group");return a&&a.off(b,c),this},a.prototype.emit=function(a,b){this.get("group").emit(a,b)},a.prototype.init=function(){b.prototype.init.call(this),this.get("group")||this.initGroup(),this.offScreenRender()},a.prototype.getInnerLayoutBBox=function(){return this.get("offScreenBBox")||this.get("group").getBBox()},a.prototype.delegateEmit=function(c,a){var b=this.get("group");a.target=b,b.emit(c,a),l7(b,c,a)},a.prototype.createOffScreenGroup=function(){return new(this.get("group").getGroupBase())({delegateObject:this.getDelegateObject()})},a.prototype.applyOffset=function(){var a=this.get("offsetX"),b=this.get("offsetY");this.moveElementTo(this.get("group"),{x:a,y:b})},a.prototype.initGroup=function(){var a=this.get("container");this.set("group",a.addGroup({id:this.get("id"),name:this.get("name"),capture:this.get("capture"),visible:this.get("visible"),isComponent:!0,component:this,delegateObject:this.getDelegateObject()}))},a.prototype.offScreenRender=function(){this.clearOffScreenCache();var a=this.createOffScreenGroup();return this.renderInner(a),this.set("offScreenGroup",a),this.set("offScreenBBox",ml(a)),a},a.prototype.addGroup=function(a,b){this.appendDelegateObject(a,b);var c=a.addGroup(b);return this.get("isRegister")&&this.registerElement(c),c},a.prototype.addShape=function(a,b){this.appendDelegateObject(a,b);var c=a.addShape(b);return this.get("isRegister")&&this.registerElement(c),c},a.prototype.addComponent=function(c,b){var d=b.id,e=b.component,f=fm(b,["id","component"]),a=new e(n(n({},f),{id:d,container:c,updateAutoRender:this.get("updateAutoRender")}));return a.init(),a.render(),this.get("isRegister")&&this.registerElement(a.get("group")),a},a.prototype.initEvent=function(){},a.prototype.removeEvent=function(){this.get("group").off()},a.prototype.getElementId=function(a){var b;return this.get("id")+"-"+this.get("name")+"-"+a},a.prototype.registerElement=function(a){var b=a.get("id");this.get("shapesMap")[b]=a},a.prototype.unregisterElement=function(a){var b=a.get("id");delete this.get("shapesMap")[b]},a.prototype.moveElementTo=function(a,b){var c=ma(b);a.attr("matrix",c)},a.prototype.addAnimation=function(d,a,c){var b=a.attr("opacity");fA(b)&&(b=1),a.attr("opacity",0),a.animate({opacity:b},c)},a.prototype.removeAnimation=function(c,a,b){a.animate({opacity:0},b)},a.prototype.updateAnimation=function(d,a,b,c){a.animate(b,c)},a.prototype.updateElements=function(a,b){var c,d=this,e=this.get("animate"),f=this.get("animateOption");I(a.getChildren().slice(0),function(a){var o=a.get("id"),g=d.getElementById(o),j=a.get("name");if(g){if(a.get("isComponent")){var k,l,i=a.get("component"),p=g.get("component"),q=gE(i.cfg,(k=fD(i.cfg),void 0===(l=mq)&&(l=[]),fw(k,function(a){return!fv(l,a)})));p.update(q),g.set(mo,"update")}else{var m=d.getReplaceAttrs(g,a);e&&f.update?d.updateAnimation(j,g,m,f.update):g.attr(m),a.isGroup()&&d.updateElements(a,g),I(mp,function(b){g.set(b,a.get(b))}),function(a,c){if(a.getClip()||c.getClip()){var b=c.getClip();if(!b){a.setClip(null);return}var d={type:b.get("type"),attrs:b.attr()};a.setClip(d)}}(g,a),c=g,g.set(mo,"update")}}else{b.add(a);var h=b.getChildren();if(h.splice(h.length-1,1),c){var r=h.indexOf(c);h.splice(r+1,0,a)}else h.unshift(a);if(d.registerElement(a),a.set(mo,"add"),a.get("isComponent")){var i=a.get("component");i.set("container",b)}else a.isGroup()&&d.registerNewGroup(a);if(c=a,e){var n=d.get("isInit")?f.appear:f.enter;n&&d.addAnimation(j,a,n)}}})},a.prototype.clearUpdateStatus=function(a){I(a.getChildren(),function(a){a.set(mo,null)})},a.prototype.clearOffScreenCache=function(){var a=this.get("offScreenGroup");a&&a.destroy(),this.set("offScreenGroup",null),this.set("offScreenBBox",null)},a.prototype.getDelegateObject=function(){var a,b=this.get("name");return(a={})[b]=this,a.component=this,a},a.prototype.appendDelegateObject=function(b,a){var c=b.get("delegateObject");a.delegateObject||(a.delegateObject={}),gA(a.delegateObject,c)},a.prototype.getReplaceAttrs=function(a,b){var c=a.attr(),d=b.attr();return I(c,function(b,a){void 0===d[a]&&(d[a]=void 0)}),d},a.prototype.registerNewGroup=function(a){var b=this;I(a.getChildren(),function(a){b.registerElement(a),a.set(mo,"add"),a.isGroup()&&b.registerNewGroup(a)})},a.prototype.deleteElements=function(){var c=this,a=this.get("shapesMap"),b=[];I(a,function(a,c){!a.get(mo)||a.destroyed?b.push([c,a]):a.set(mo,null)});var d=this.get("animate"),e=this.get("animateOption");I(b,function(f){var g=f[0],b=f[1];if(!b.destroyed){var h=b.get("name");if(d&&e.leave){var i=gA({callback:function(){c.removeElement(b)}},e.leave);c.removeAnimation(h,b,i)}else c.removeElement(b)}delete a[g]})},a.prototype.removeElement=function(a){if(a.get("isGroup")){var b=a.get("component");b&&b.destroy()}a.remove()},a}(bG);function mr(a,b){return a.charCodeAt(b)>0&&128>a.charCodeAt(b)?1:2}function ms(a){if(a.length>400)return function(e){for(var c=e.map(function(b){var a=b.attr("text");return fA(a)?"":""+a}),f=0,g=0,a=0;a<c.length;a+=1){for(var b=0,d=0;d<=c[a].length;d+=1){var h=c[a].charCodeAt(d);h>=19968&&h<=40869?b+=2:b+=1}b>f&&(f=b,g=a)}return e[g].getBBox().width}(a);var b=0;return I(a,function(c){var a=c.getBBox().width;b<a&&(b=a)}),b}function mt(m,a,d,c){void 0===c&&(c="tail");var e,b=null!==(e=a.attr("text"))&& void 0!==e?e:"";if("tail"===c){var n=gE(a.attr(),["fontSize","fontFamily","fontWeight","fontStyle","fontVariant"]),h=gM(b,d,n,"\u2026");return b!==h?(a.attr("text",h),a.set("tip",b),!0):(a.set("tip",null),!1)}var i,o,f,j=(i=m,f=(o=a).getCanvasBBox(),i?f.width:f.height),p=function(b){for(var c=0,a=0;a<b.length;a++)c+=mr(b,a);return c}(b),g=!1;if(d<j){var k=Math.floor(d/j*p)-2,l=void 0;(l=k>=0?function(b,d,f){void 0===f&&(f="tail");var l=b.length,e="";if("tail"===f){for(var a=0,c=0;a<d;){var g=mr(b,c);if(a+g<=d)e+=b[c],a+=mr(b,c),c++;else break}e+="\u2026"}else if("head"===f){for(var a=0,c=l-1;a<d;){var g=mr(b,c);if(a+g<=d)e+=b[c],a+=mr(b,c),c--;else break}e="\u2026"+e}else{for(var m="",h="",a=0,i=0,j=l-1;a<d;){var n=mr(b,i),k=!1;n+a<=d&&(m+=b[i],i++,a+=n,k=!0);var o=mr(b,j);if(o+a<=d&&(h=b[j]+h,a+=o,j--,k=!0),!k)break}e=m+"\u2026"+h}return e}(b,k,c):"\u2026")&&(a.attr("text",l),g=!0)}return g?a.set("tip",b):a.set("tip",null),g}function mu(l,a){var f=a.x,g=a.y,m=a.content,o=a.style,c=a.id,i=a.name,p=a.rotate,j=a.maxLength,q=a.autoEllipsis,r=a.isVertical,s=a.ellipsisPosition,h=a.background,d=l.addGroup({id:c+"-group",name:i+"-group",attrs:{x:f,y:g}}),k=d.addShape({type:"text",id:c,name:i,attrs:n({x:0,y:0,text:m},o)}),b=me(gB(h,"padding",0));if(j&&q&&mt(!r,k,j-(b[1]+b[3]),s),h){var t=gB(h,"style",{}),e=k.getCanvasBBox(),u=e.minX,v=e.minY,w=e.width,x=e.height,y=d.addShape("rect",{id:c+"-bg",name:c+"-bg",attrs:n({x:u-b[3],y:v-b[0],width:w+b[1]+b[3],height:x+b[0]+b[2]},t)});y.toBack()}md(d,f,g),mc(d,p,f,g)}var X={fontFamily:'\n  BlinkMacSystemFont, "Segoe UI", Roboto,"Helvetica Neue",\n  Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei",\n  SimSun, "sans-serif"',textColor:"#2C3542",activeTextColor:"#333333",uncheckedColor:"#D8D8D8",lineColor:"#416180",regionColor:"#CCD7EB",verticalAxisRotate:-Math.PI/4,horizontalAxisRotate:Math.PI/4,descriptionIconStroke:"#fff",descriptionIconFill:"rgba(58, 73, 101, .25)"},mv=function(b){function a(){return null!==b&&b.apply(this,arguments)||this}return fl(a,b),a.prototype.getDefaultCfg=function(){return n(n({},b.prototype.getDefaultCfg.call(this)),{name:"annotation",type:"line",locationType:"region",start:null,end:null,style:{},text:null,defaultCfg:{style:{fill:X.textColor,fontSize:12,textAlign:"center",textBaseline:"bottom",fontFamily:X.fontFamily},text:{position:"center",autoRotate:!0,content:null,offsetX:0,offsetY:0,style:{stroke:X.lineColor,lineWidth:1}}}})},a.prototype.renderInner=function(a){this.renderLine(a),this.get("text")&&this.renderLabel(a)},a.prototype.renderLine=function(c){var a=this.get("start"),b=this.get("end"),d=this.get("style");this.addShape(c,{type:"line",id:this.getElementId("line"),name:"annotation-line",attrs:n({x1:a.x,y1:a.y,x2:b.x,y2:b.y},d)})},a.prototype.getLabelPoint=function(c,d,a){var b;return((b="start"===a?0:"center"===a?.5:fT(a)&& -1!==a.indexOf("%")?parseInt(a,10)/100:f5(a)?a:1)>1||b<0)&&(b=1),{x:mi(c.x,d.x,b),y:mi(c.y,d.y,b)}},a.prototype.renderLabel=function(h){var a=this.get("text"),b=this.get("start"),c=this.get("end"),i=a.position,j=a.content,k=a.style,l=a.offsetX,m=a.offsetY,n=a.autoRotate,o=a.maxLength,p=a.autoEllipsis,q=a.ellipsisPosition,r=a.background,d=a.isVertical,e=this.getLabelPoint(b,c,i),s=e.x+l,t=e.y+m,f={id:this.getElementId("line-text"),name:"annotation-line-text",x:s,y:t,content:j,style:k,maxLength:o,autoEllipsis:p,ellipsisPosition:q,background:r,isVertical:void 0!==d&&d};if(n){var g=[c.x-b.x,c.y-b.y];f.rotate=Math.atan2(g[1],g[0])}mu(h,f)},a}(h),mw=function(b){function a(){return null!==b&&b.apply(this,arguments)||this}return fl(a,b),a.prototype.getDefaultCfg=function(){return n(n({},b.prototype.getDefaultCfg.call(this)),{name:"annotation",type:"text",locationType:"point",x:0,y:0,content:"",rotate:null,style:{},background:null,maxLength:null,autoEllipsis:!0,isVertical:!1,ellipsisPosition:"tail",defaultCfg:{style:{fill:X.textColor,fontSize:12,textAlign:"center",textBaseline:"middle",fontFamily:X.fontFamily}}})},a.prototype.setLocation=function(a){this.set("x",a.x),this.set("y",a.y),this.resetLocation()},a.prototype.renderInner=function(b){var a=this.getLocation(),c=a.x,d=a.y,e=this.get("content"),f=this.get("style"),g=this.getElementId("text"),h=this.get("name")+"-text",i=this.get("maxLength"),j=this.get("autoEllipsis"),k=this.get("isVertical"),l=this.get("ellipsisPosition"),m=this.get("background"),n=this.get("rotate");mu(b,{id:g,name:h,x:c,y:d,content:e,style:f,maxLength:i,autoEllipsis:j,isVertical:k,ellipsisPosition:l,background:m,rotate:n})},a.prototype.resetLocation=function(){var a=this.getElementByLocalId("text-group");if(a){var b=this.getLocation(),c=b.x,d=b.y,e=this.get("rotate");md(a,c,d),mc(a,e,c,d)}},a}(h),mx=function(b){function a(){return null!==b&&b.apply(this,arguments)||this}return fl(a,b),a.prototype.getDefaultCfg=function(){return n(n({},b.prototype.getDefaultCfg.call(this)),{name:"annotation",type:"arc",locationType:"circle",center:null,radius:100,startAngle:-Math.PI/2,endAngle:3*Math.PI/2,style:{stroke:"#999",lineWidth:1}})},a.prototype.renderInner=function(a){this.renderArc(a)},a.prototype.getArcPath=function(){var b=this.getLocation(),f=b.center,a=b.radius,c=b.startAngle,g=b.endAngle,i=mj(f,a,c),d=mj(f,a,g),h=g-c>Math.PI?1:0,e=[["M",i.x,i.y]];if(g-c==2*Math.PI){var j=mj(f,a,c+Math.PI);e.push(["A",a,a,0,h,1,j.x,j.y]),e.push(["A",a,a,0,h,1,d.x,d.y])}else e.push(["A",a,a,0,h,1,d.x,d.y]);return e},a.prototype.renderArc=function(a){var b=this.getArcPath(),c=this.get("style");this.addShape(a,{type:"path",id:this.getElementId("arc"),name:"annotation-arc",attrs:n({path:b},c)})},a}(h),my=function(b){function a(){return null!==b&&b.apply(this,arguments)||this}return fl(a,b),a.prototype.getDefaultCfg=function(){return n(n({},b.prototype.getDefaultCfg.call(this)),{name:"annotation",type:"region",locationType:"region",start:null,end:null,style:{},defaultCfg:{style:{lineWidth:0,fill:X.regionColor,opacity:.4}}})},a.prototype.renderInner=function(a){this.renderRegion(a)},a.prototype.renderRegion=function(b){var c=this.get("start"),d=this.get("end"),e=this.get("style"),a=mg({start:c,end:d});this.addShape(b,{type:"rect",id:this.getElementId("region"),name:"annotation-region",attrs:n({x:a.x,y:a.y,width:a.width,height:a.height},e)})},a}(h),mz=function(b){function a(){return null!==b&&b.apply(this,arguments)||this}return fl(a,b),a.prototype.getDefaultCfg=function(){return n(n({},b.prototype.getDefaultCfg.call(this)),{name:"annotation",type:"image",locationType:"region",start:null,end:null,src:null,style:{}})},a.prototype.renderInner=function(a){this.renderImage(a)},a.prototype.getImageAttrs=function(){var b=this.get("start"),c=this.get("end"),d=this.get("style"),a=mg({start:b,end:c}),e=this.get("src");return n({x:a.x,y:a.y,img:e,width:a.width,height:a.height},d)},a.prototype.renderImage=function(a){this.addShape(a,{type:"image",id:this.getElementId("image"),name:"annotation-image",attrs:this.getImageAttrs()})},a}(h),mA=function(b){function a(){return null!==b&&b.apply(this,arguments)||this}return fl(a,b),a.prototype.getDefaultCfg=function(){return n(n({},b.prototype.getDefaultCfg.call(this)),{name:"annotation",type:"dataMarker",locationType:"point",x:0,y:0,point:{},line:{},text:{},direction:"upward",autoAdjust:!0,coordinateBBox:null,defaultCfg:{point:{display:!0,style:{r:3,fill:"#FFFFFF",stroke:"#1890FF",lineWidth:2}},line:{display:!0,length:20,style:{stroke:X.lineColor,lineWidth:1}},text:{content:"",display:!0,style:{fill:X.textColor,opacity:.65,fontSize:12,textAlign:"start",fontFamily:X.fontFamily}}}})},a.prototype.renderInner=function(a){gB(this.get("line"),"display")&&this.renderLine(a),gB(this.get("text"),"display")&&this.renderText(a),gB(this.get("point"),"display")&&this.renderPoint(a),this.get("autoAdjust")&&this.autoAdjust(a)},a.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x")+this.get("offsetX"),y:this.get("y")+this.get("offsetY")})},a.prototype.renderPoint=function(a){var b=this.getShapeAttrs().point;this.addShape(a,{type:"circle",id:this.getElementId("point"),name:"annotation-point",attrs:b})},a.prototype.renderLine=function(a){var b=this.getShapeAttrs().line;this.addShape(a,{type:"path",id:this.getElementId("line"),name:"annotation-line",attrs:b})},a.prototype.renderText=function(c){var b=this.getShapeAttrs().text,d=b.x,e=b.y,f=b.text,g=fm(b,["x","y","text"]),a=this.get("text"),h=a.background,i=a.maxLength,j=a.autoEllipsis,k=a.isVertival,l=a.ellipsisPosition,m={x:d,y:e,id:this.getElementId("text"),name:"annotation-text",content:f,style:g,background:h,maxLength:i,autoEllipsis:j,isVertival:k,ellipsisPosition:l};mu(c,m)},a.prototype.autoAdjust=function(c){var g=this.get("direction"),d=this.get("x"),h=this.get("y"),k=gB(this.get("line"),"length",0),b=this.get("coordinateBBox"),e=c.getBBox(),l=e.minX,m=e.maxX,n=e.minY,p=e.maxY,a=c.findById(this.getElementId("text-group")),q=c.findById(this.getElementId("text")),o=c.findById(this.getElementId("line"));if(b){if(a){if(d+l<=b.minX){var i=b.minX-(d+l);md(a,a.attr("x")+i,a.attr("y"))}if(d+m>=b.maxX){var i=d+m-b.maxX;md(a,a.attr("x")-i,a.attr("y"))}}if("upward"===g&&h+n<=b.minY||"upward"!==g&&h+p>=b.maxY){var j=void 0,f=void 0;"upward"===g&&h+n<=b.minY?(j="top",f=1):(j="bottom",f=-1),q.attr("textBaseline",j),o&&o.attr("path",[["M",0,0],["L",0,k*f],]),md(a,a.attr("x"),(k+2)*f)}}},a.prototype.getShapeAttrs=function(){var d=gB(this.get("line"),"display"),e=gB(this.get("point"),"style",{}),f=gB(this.get("line"),"style",{}),g=gB(this.get("text"),"style",{}),a=this.get("direction"),b=d?gB(this.get("line"),"length",0):0,c="upward"===a?-1:1;return{point:n({x:0,y:0},e),line:n({path:[["M",0,0],["L",0,b*c],]},f),text:n({x:0,y:(b+2)*c,text:gB(this.get("text"),"content",""),textBaseline:"upward"===a?"bottom":"top"},g)}},a}(h),mB=function(b){function a(){return null!==b&&b.apply(this,arguments)||this}return fl(a,b),a.prototype.getDefaultCfg=function(){return n(n({},b.prototype.getDefaultCfg.call(this)),{name:"annotation",type:"dataRegion",locationType:"points",points:[],lineLength:0,region:{},text:{},defaultCfg:{region:{style:{lineWidth:0,fill:X.regionColor,opacity:.4}},text:{content:"",style:{textAlign:"center",textBaseline:"bottom",fontSize:12,fill:X.textColor,fontFamily:X.fontFamily}}}})},a.prototype.renderInner=function(k){var m=gB(this.get("region"),"style",{});gB(this.get("text"),"style",{});var e=this.get("lineLength")||0,a=this.get("points");if(a.length){var l,f,g,b,c,h,i,d=(f=(l=a).map(function(a){return a.x}),g=l.map(function(a){return a.y}),b=Math.min.apply(Math,f),c=Math.min.apply(Math,g),h=Math.max.apply(Math,f),i=Math.max.apply(Math,g),{x:b,y:c,minX:b,minY:c,maxX:h,maxY:i,width:h-b,height:i-c}),j=[];j.push(["M",a[0].x,d.minY-e]),a.forEach(function(a){j.push(["L",a.x,a.y])}),j.push(["L",a[a.length-1].x,a[a.length-1].y-e]),this.addShape(k,{type:"path",id:this.getElementId("region"),name:"annotation-region",attrs:n({path:j},m)});var o=n({id:this.getElementId("text"),name:"annotation-text",x:(d.minX+d.maxX)/2,y:d.minY-e},this.get("text"));mu(k,o)}},a}(h),mC=function(b){function a(){return null!==b&&b.apply(this,arguments)||this}return fl(a,b),a.prototype.getDefaultCfg=function(){return n(n({},b.prototype.getDefaultCfg.call(this)),{name:"annotation",type:"regionFilter",locationType:"region",start:null,end:null,color:null,shape:[]})},a.prototype.renderInner=function(b){var f=this,c=this.get("start"),d=this.get("end"),e=this.addGroup(b,{id:this.getElementId("region-filter"),capture:!1});I(this.get("shapes"),function(a,d){var b=a.get("type"),c=gp(a.attr());f.adjustShapeAttrs(c),f.addShape(e,{id:f.getElementId("shape-"+b+"-"+d),capture:!1,type:b,attrs:c})});var a=mg({start:c,end:d});e.setClip({type:"rect",attrs:{x:a.minX,y:a.minY,width:a.width,height:a.height}})},a.prototype.adjustShapeAttrs=function(a){var b=this.get("color");a.fill&&(a.fill=a.fillStyle=b),a.stroke=a.strokeStyle=b},a}(h),mD=function(b){function a(){return null!==b&&b.apply(this,arguments)||this}return fl(a,b),a.prototype.getDefaultCfg=function(){return n(n({},b.prototype.getDefaultCfg.call(this)),{name:"annotation",type:"shape",draw:gJ})},a.prototype.renderInner=function(b){var a=this.get("render");fz(a)&&a(b)},a}(h);function mE(b,c,d){var a;try{a=window.getComputedStyle?window.getComputedStyle(b,null)[c]:b.style[c]}catch(e){}finally{a=void 0===a?d:a}return a}var aA=function(b){function a(){return null!==b&&b.apply(this,arguments)||this}return fl(a,b),a.prototype.getDefaultCfg=function(){return n(n({},b.prototype.getDefaultCfg.call(this)),{container:null,containerTpl:"<div></div>",updateAutoRender:!0,containerClassName:"",parent:null})},a.prototype.getContainer=function(){return this.get("container")},a.prototype.show=function(){this.get("container").style.display="",this.set("visible",!0)},a.prototype.hide=function(){this.get("container").style.display="none",this.set("visible",!1)},a.prototype.setCapture=function(a){var b;this.getContainer().style.pointerEvents=a?"auto":"none",this.set("capture",a)},a.prototype.getBBox=function(){var a=this.getContainer(),b=parseFloat(a.style.left)||0,c=parseFloat(a.style.top)||0;return mh(b,c,a.clientWidth,a.clientHeight)},a.prototype.clear=function(){mf(this.get("container"))},a.prototype.destroy=function(){this.removeEvent(),this.removeDom(),b.prototype.destroy.call(this)},a.prototype.init=function(){b.prototype.init.call(this),this.initContainer(),this.initDom(),this.resetStyles(),this.applyStyles(),this.initEvent(),this.initCapture(),this.initVisible()},a.prototype.initCapture=function(){this.setCapture(this.get("capture"))},a.prototype.initVisible=function(){this.get("visible")?this.show():this.hide()},a.prototype.initDom=function(){},a.prototype.initContainer=function(){var a=this.get("container");if(fA(a)){a=this.createDom();var b=this.get("parent");fT(b)&&(b=document.getElementById(b),this.set("parent",b)),b.appendChild(a),this.get("containerId")&&a.setAttribute("id",this.get("containerId")),this.set("container",a)}else fT(a)&&(a=document.getElementById(a),this.set("container",a));this.get("parent")||this.set("parent",a.parentNode)},a.prototype.resetStyles=function(){var a=this.get("domStyles"),b=this.get("defaultStyles");a=a?gs({},b,a):b,this.set("domStyles",a)},a.prototype.applyStyles=function(){var a=this.get("domStyles");if(a){var b=this.getContainer();this.applyChildrenStyles(b,a);var d,e,c=this.get("containerClassName");c&&(d=b,e=c,d.className.match(RegExp("(\\s|^)"+e+"(\\s|$)")))&&gS(b,a[c])}},a.prototype.applyChildrenStyles=function(b,a){I(a,function(c,a){I(b.getElementsByClassName(a),function(a){gS(a,c)})})},a.prototype.applyStyle=function(a,b){gS(b,this.get("domStyles")[a])},a.prototype.createDom=function(){return gR(this.get("containerTpl"))},a.prototype.initEvent=function(){},a.prototype.removeDom=function(){var a=this.get("container");a&&a.parentNode&&a.parentNode.removeChild(a)},a.prototype.removeEvent=function(){},a.prototype.updateInner=function(a){gd(a,"domStyles")&&(this.resetStyles(),this.applyStyles()),this.resetPosition()},a.prototype.resetPosition=function(){},a}(bG),mF=function(b){function a(){return null!==b&&b.apply(this,arguments)||this}return fl(a,b),a.prototype.getDefaultCfg=function(){return n(n({},b.prototype.getDefaultCfg.call(this)),{name:"annotation",type:"html",locationType:"point",x:0,y:0,containerTpl:'<div class="g2-html-annotation"></div>',alignX:"left",alignY:"top",html:"",zIndex:7})},a.prototype.render=function(){var b=this.getContainer(),c=this.get("html");mf(b);var a=fz(c)?c(b):c;if(go(a))b.appendChild(a);else if(fT(a)||f5(a)){var d=gR(""+a);d&&b.appendChild(d)}this.resetPosition()},a.prototype.resetPosition=function(){var b,g,h,d,i,j,k,l,m,n,o,c,p,q,e,r,s,t,u,v,w,x,f=this.getContainer(),y=this.getLocation(),F=y.x,G=y.y,z=this.get("alignX"),A=this.get("alignY"),B=this.get("offsetX"),C=this.get("offsetY"),D=(i=(h=void 0,"auto"===(d=mE(g=b=f,"width",h))&&(d=g.offsetWidth),parseFloat(d)),j=parseFloat(mE(b,"borderLeftWidth"))||0,k=parseFloat(mE(b,"paddingLeft"))||0,l=parseFloat(mE(b,"paddingRight"))||0,m=parseFloat(mE(b,"borderRightWidth"))||0,n=parseFloat(mE(b,"marginRight"))||0,o=parseFloat(mE(b,"marginLeft"))||0,i+j+m+k+l+o+n),E=(r=(q=void 0,"auto"===(e=mE(p=c=f,"height",q))&&(e=p.offsetHeight),parseFloat(e)),s=parseFloat(mE(c,"borderTopWidth"))||0,t=parseFloat(mE(c,"paddingTop"))||0,u=parseFloat(mE(c,"paddingBottom"))||0,v=parseFloat(mE(c,"borderBottomWidth"))||0,w=parseFloat(mE(c,"marginTop"))||0,x=parseFloat(mE(c,"marginBottom"))||0,r+s+v+t+u+w+x),a={x:F,y:G};"middle"===z?a.x-=Math.round(D/2):"right"===z&&(a.x-=Math.round(D)),"middle"===A?a.y-=Math.round(E/2):"bottom"===A&&(a.y-=Math.round(E)),B&&(a.x+=B),C&&(a.y+=C),gS(f,{position:"absolute",left:a.x+"px",top:a.y+"px",zIndex:this.get("zIndex")})},a}(aA);function mG(d,a,b){var e=a+"Style",c=null;return I(b,function(a,b){d[b]&&a[e]&&(c||(c={}),gA(c,a[e]))}),c}var bH=function(b){function a(){return null!==b&&b.apply(this,arguments)||this}return fl(a,b),a.prototype.getDefaultCfg=function(){return n(n({},b.prototype.getDefaultCfg.call(this)),{name:"axis",ticks:[],line:{},tickLine:{},subTickLine:null,title:null,label:{},verticalFactor:1,verticalLimitLength:null,overlapOrder:["autoRotate","autoEllipsis","autoHide"],tickStates:{},optimize:{},defaultCfg:{line:{style:{lineWidth:1,stroke:X.lineColor}},tickLine:{style:{lineWidth:1,stroke:X.lineColor},alignTick:!0,length:5,displayWithLabel:!0},subTickLine:{style:{lineWidth:1,stroke:X.lineColor},count:4,length:2},label:{autoRotate:!0,autoHide:!1,autoEllipsis:!1,style:{fontSize:12,fill:X.textColor,fontFamily:X.fontFamily,fontWeight:"normal"},offset:10,offsetX:0,offsetY:0},title:{autoRotate:!0,spacing:5,position:"center",style:{fontSize:12,fill:X.textColor,textBaseline:"middle",fontFamily:X.fontFamily,textAlign:"center"},iconStyle:{fill:X.descriptionIconFill,stroke:X.descriptionIconStroke},description:""},tickStates:{active:{labelStyle:{fontWeight:500},tickLineStyle:{lineWidth:2}},inactive:{labelStyle:{fill:X.uncheckedColor}}},optimize:{enable:!0,threshold:400}},theme:{}})},a.prototype.renderInner=function(a){this.get("line")&&this.drawLine(a),this.drawTicks(a),this.get("title")&&this.drawTitle(a)},a.prototype.isList=function(){return!0},a.prototype.getItems=function(){return this.get("ticks")},a.prototype.setItems=function(a){this.update({ticks:a})},a.prototype.updateItem=function(a,b){gA(a,b),this.clear(),this.render()},a.prototype.clearItems=function(){var a=this.getElementByLocalId("label-group");a&&a.clear()},a.prototype.setItemState=function(a,b,c){a[b]=c,this.updateTickStates(a)},a.prototype.hasState=function(a,b){return!!a[b]},a.prototype.getItemStates=function(c){var a=this.get("tickStates"),b=[];return I(a,function(d,a){c[a]&&b.push(a)}),b},a.prototype.clearItemsState=function(a){var b=this;I(this.getItemsByState(a),function(c){b.setItemState(c,a,!1)})},a.prototype.getItemsByState=function(a){var b=this;return fw(this.getItems(),function(c){return b.hasState(c,a)})},a.prototype.getSidePoint=function(a,c){var b=this.getSideVector(c,a);return{x:a.x+b[0],y:a.y+b[1]}},a.prototype.getTextAnchor=function(b){var a;return f6(b[0],0)?a="center":b[0]>0?a="start":b[0]<0&&(a="end"),a},a.prototype.getTextBaseline=function(b){var a;return f6(b[1],0)?a="middle":b[1]>0?a="top":b[1]<0&&(a="bottom"),a},a.prototype.processOverlap=function(a){},a.prototype.drawLine=function(a){var b=this.getLinePath(),c=this.get("line");this.addShape(a,{type:"path",id:this.getElementId("line"),name:"axis-line",attrs:gA({path:b},c.style)})},a.prototype.getTickLineItems=function(a){var e=this,c=[],b=this.get("tickLine"),f=b.alignTick,g=b.length,d=1;return a.length>=2&&(d=a[1].value-a[0].value),I(a,function(a){var b=a.point;f||(b=e.getTickPoint(a.value-d/2));var h=e.getSidePoint(b,g);c.push({startPoint:b,tickValue:a.value,endPoint:h,tickId:a.id,id:"tickline-"+a.id})}),c},a.prototype.getSubTickLineItems=function(c){var d=[],e=this.get("subTickLine"),f=e.count,g=c.length;if(g>=2)for(var a=0;a<g-1;a++)for(var h=c[a],l=c[a+1],b=0;b<f;b++){var i=(b+1)/(f+1),j=(1-i)*h.tickValue+i*l.tickValue,k=this.getTickPoint(j),m=this.getSidePoint(k,e.length);d.push({startPoint:k,endPoint:m,tickValue:j,id:"sub-"+h.id+"-"+b})}return d},a.prototype.getTickLineAttrs=function(b,e,f,g){var a=this.get(e).style,h={points:[b.startPoint,b.endPoint]},i=gB(this.get("theme"),["tickLine","style"],{});a=fz(a)?gA({},i,a(h,f,g)):a;var c=b.startPoint,d=b.endPoint;return n({x1:c.x,y1:c.y,x2:d.x,y2:d.y},a)},a.prototype.drawTick=function(a,c,b,d,e){this.addShape(c,{type:"line",id:this.getElementId(a.id),name:"axis-"+b,attrs:this.getTickLineAttrs(a,b,d,e)})},a.prototype.drawTickLines=function(b){var f=this,c=this.get("ticks"),d=this.get("subTickLine"),a=this.getTickLineItems(c),g=this.addGroup(b,{name:"axis-tickline-group",id:this.getElementId("tickline-group")}),h=this.get("tickLine");if(I(a,function(c,d){if(h.displayWithLabel){var e=f.getElementId("label-"+c.tickId);b.findById(e)&&f.drawTick(c,g,"tickLine",d,a)}else f.drawTick(c,g,"tickLine",d,a)}),d){var e=this.getSubTickLineItems(a);I(e,function(a,b){f.drawTick(a,g,"subTickLine",b,e)})}},a.prototype.processTicks=function(){var a=this;I(this.get("ticks"),function(b){b.point=a.getTickPoint(b.value),fA(b.id)&&(b.id=b.name)})},a.prototype.drawTicks=function(a){var b=this;this.optimizeTicks(),this.processTicks(),this.get("label")&&this.drawLabels(a),this.get("tickLine")&&this.drawTickLines(a),I(this.get("ticks"),function(c){b.applyTickStates(c,a)})},a.prototype.optimizeTicks=function(){var a=this.get("optimize"),b=this.get("ticks");if(a&&a.enable&&a.threshold>0){var c=gK(b);if(c>a.threshold){var e=Math.ceil(c/a.threshold),d=b.filter(function(b,a){return a%e==0});this.set("ticks",d),this.set("originalTicks",b)}}},a.prototype.getLabelAttrs=function(b,j,n){var a=this.get("label"),e=a.offset,k=a.offsetX,l=a.offsetY,f=a.rotate,g=a.formatter,c=this.getSidePoint(b.point,e),h=this.getSideVector(e,c),m=g?g(b.name,b,j):b.name,d=a.style;d=fz(d)?gB(this.get("theme"),["label","style"],{}):d;var i=gA({x:c.x+k,y:c.y+l,text:m,textAlign:this.getTextAnchor(h),textBaseline:this.getTextBaseline(h)},d);return f&&(i.matrix=l9(c,f)),i},a.prototype.drawLabels=function(d){var g=this,e=this.get("ticks"),a=this.addGroup(d,{name:"axis-label-group",id:this.getElementId("label-group")});I(e,function(b,c){g.addShape(a,{type:"text",name:"axis-label",id:g.getElementId("label-"+b.id),attrs:g.getLabelAttrs(b,c,e),delegateObject:{tick:b,item:b,index:c}})}),this.processOverlap(a);var b=a.getChildren(),h=gB(this.get("theme"),["label","style"],{}),c=this.get("label"),f=c.style,i=c.formatter;if(fz(f)){var j=b.map(function(a){return gB(a.get("delegateObject"),"tick")});I(b,function(b,c){var a=b.get("delegateObject").tick,d=i?i(a.name,a,c):a.name,e=gA({},h,f(d,c,j));b.attr(e)})}},a.prototype.getTitleAttrs=function(){var a=this.get("title"),e=a.style,f=a.position,k=a.offset,g=a.spacing,l=a.autoRotate,m=e.fontSize,b=.5;"start"===f?b=0:"end"===f&&(b=1);var h=this.getTickPoint(b),c=this.getSidePoint(h,k||(void 0===g?0:g)+m/2),i=gA({x:c.x,y:c.y,text:a.text},e),j=a.rotate,d=j;if(fA(j)&&l){var n=this.getAxisVector(h);d=hZ(n,[1,0],!0)}if(d){var o=l9(c,d);i.matrix=o}return i},a.prototype.drawTitle=function(b){var a,c=this.getTitleAttrs(),d=this.addShape(b,{type:"text",id:this.getElementId("title"),name:"axis-title",attrs:c});(null===(a=this.get("title"))|| void 0===a?void 0:a.description)&&this.drawDescriptionIcon(b,d,c.matrix)},a.prototype.drawDescriptionIcon=function(A,B,i){var j=this.addGroup(A,{name:"axis-description",id:this.getElementById("description")}),f=B.getBBox(),C=f.maxX,D=f.maxY,b=f.height,E=this.get("title").iconStyle,a=b/2,g=a/6,c=C+4,h=D-b/2,k=[c+a,h-a],d=k[0],e=k[1],l=[d+a,e+a],F=l[0],m=l[1],o=[d,m+a],G=o[0],H=o[1],p=[c,e+a],I=p[0],J=p[1],q=[c+a,h-b/4],r=q[0],s=q[1],t=[r,s+g],u=t[0],v=t[1],w=[u,v+g],x=w[0],y=w[1],z=[x,y+3*a/4],K=z[0],L=z[1];this.addShape(j,{type:"path",id:this.getElementId("title-description-icon"),name:"axis-title-description-icon",attrs:n({path:[["M",d,e],["A",a,a,0,0,1,F,m],["A",a,a,0,0,1,G,H],["A",a,a,0,0,1,I,J],["A",a,a,0,0,1,d,e],["M",r,s],["L",u,v],["M",x,y],["L",K,L]],lineWidth:g,matrix:i},E)}),this.addShape(j,{type:"rect",id:this.getElementId("title-description-rect"),name:"axis-title-description-rect",attrs:{x:c,y:h-b/2,width:b,height:b,stroke:"#000",fill:"#000",opacity:0,matrix:i,cursor:"pointer"}})},a.prototype.applyTickStates=function(a,b){if(this.getItemStates(a).length){var c=this.get("tickStates"),h=this.getElementId("label-"+a.id),d=b.findById(h);if(d){var e=mG(a,"label",c);e&&d.attr(e)}var i=this.getElementId("tickline-"+a.id),f=b.findById(i);if(f){var g=mG(a,"tickLine",c);g&&f.attr(g)}}},a.prototype.updateTickStates=function(a){var g=this.getItemStates(a),d=this.get("tickStates"),h=this.get("label"),b=this.getElementByLocalId("label-"+a.id),i=this.get("tickLine"),c=this.getElementByLocalId("tickline-"+a.id);if(g.length){if(b){var e=mG(a,"label",d);e&&b.attr(e)}if(c){var f=mG(a,"tickLine",d);f&&c.attr(f)}}else b&&b.attr(h.style),c&&c.attr(i.style)},a}(h);function mH(d,a,e,f){var b=a.getChildren(),c=!1;return I(b,function(a){var b=mt(d,a,e,f);c=c||b}),c}function mI(){return mK}function mJ(a,b,c){return mH(a,b,c,"head")}function mK(a,b,c){return mH(a,b,c,"tail")}function mL(a,b,c){return mH(a,b,c,"middle")}function mM(b){var e,c,d,a;return((c=(e=b).attr("matrix"))&&1!==c[0]?(d=b.attr("matrix"),l3(a=[0,0,0],[1,0,0],d),Math.atan2(a[1],a[0])):0)%360}function mN(g,a,b,d){var h=!1,i=mM(a),e=g?Math.abs(b.attr("y")-a.attr("y")):Math.abs(b.attr("x")-a.attr("x")),f=(g?b.attr("y")>a.attr("y"):b.attr("x")>a.attr("x"))?a.getBBox():b.getBBox();if(g){var c=Math.abs(Math.cos(i));h=mk(c,0,Math.PI/180)?f.width+d>e:f.height/c+d>e}else{var c=Math.abs(Math.sin(i));h=mk(c,0,Math.PI/180)?f.width+d>e:f.height/c+d>e}return h}function mO(g,h,i,d){var j=(null==d?void 0:d.minGap)||0,a=h.getChildren().slice().filter(function(a){return a.get("visible")});if(!a.length)return!1;var e=!1;i&&a.reverse();for(var k=a.length,l=a[0],f=l,c=1;c<k;c++){var b=a[c];b.getBBox(),mN(g,f,b,j)?(b.hide(),e=!0):f=b}return e}function mP(i,o,j){var d=(null==j?void 0:j.minGap)||0,b=o.getChildren().slice();if(b.length<2)return!1;var k=!1,e=b[0],l=e.getBBox(),m=b[1],p=b.length,n=mM(e),f=i?Math.abs(m.attr("y")-e.attr("y")):Math.abs(m.attr("x")-e.attr("x")),a=0;if(i){var c=Math.abs(Math.cos(n));if(mk(c,0,Math.PI/180)){var h=ms(b);a=(h+d)/f}else a=(l.height/c+d)/f}else{var c=Math.abs(Math.sin(n));if(mk(c,0,Math.PI/180)){var h=ms(b);a=(h+d)/f}else a=(l.height/c+d)/f}if(a>1){a=Math.ceil(a);for(var g=0;g<p;g++)g%a!=0&&(b[g].hide(),k=!0)}return k}function mQ(){return mU}function mR(a,b,d,c){return mO(a,b,!1,c)}function mS(a,b,d,c){return mO(a,b,!0,c)}function mT(f,j,m,g){var h=(null==g?void 0:g.minGap)||0,a=j.getChildren().slice();if(a.length<=2)return!1;for(var d=!1,i=a.length,k=a[0],l=a[i-1],b=k,e=1;e<i-1;e++){var c=a[e];c.getBBox(),mN(f,b,c,h)?(c.hide(),d=!0):b=c}return mN(f,b,l,h)&&(b.hide(),d=!0),d}function mU(a,b,e,d){var c=mP(a,b,d);return mO(a,b,!1)&&(c=!0),c}function mV(c,a,h,d){var b=a.getChildren().slice(),e=mP(c,a,d);if(b.length>2){var f=b[0],g=b[b.length-1];!f.get("visible")&&(f.show(),mO(c,a,!1,d)&&(e=!0)),!g.get("visible")&&(g.show(),mO(c,a,!0,d)&&(e=!0))}return e}function mW(d,g,b,h){var a=g.getChildren();if(!a.length|| !d&&a.length<2)return!1;var c=ms(a),e=!1;if(e=d?!!b&&c>b:c>Math.abs(a[1].attr("x")-a[0].attr("x"))){var f,i,j=h(b,c);f=a,i=j,I(f,function(a){var b=a.attr("x"),c=a.attr("y"),d=l9({x:b,y:c},i);a.attr("matrix",d)})}return e}function mX(){return mY}function mY(a,b,c,d){return mW(a,b,c,function(){return f5(d)?d:a?X.verticalAxisRotate:X.horizontalAxisRotate})}function mZ(a,b,c){return mW(a,b,c,function(b,d){if(!b)return a?X.verticalAxisRotate:X.horizontalAxisRotate;if(a)return-Math.acos(b/d);var c=0;return b>d?c=Math.PI/4:(c=Math.asin(b/d))>Math.PI/4&&(c=Math.PI/4),c})}var cP=function(b){function a(){return null!==b&&b.apply(this,arguments)||this}return fl(a,b),a.prototype.getDefaultCfg=function(){return n(n({},b.prototype.getDefaultCfg.call(this)),{type:"line",locationType:"region",start:null,end:null})},a.prototype.getLinePath=function(){var b=this.get("start"),c=this.get("end"),a=[];return a.push(["M",b.x,b.y]),a.push(["L",c.x,c.y]),a},a.prototype.getInnerLayoutBBox=function(){var a=this.get("start"),c=this.get("end"),d=b.prototype.getInnerLayoutBBox.call(this),e=Math.min(a.x,c.x,d.x),f=Math.min(a.y,c.y,d.y),g=Math.max(a.x,c.x,d.maxX),h=Math.max(a.y,c.y,d.maxY);return{x:e,y:f,minX:e,minY:f,maxX:g,maxY:h,width:g-e,height:h-f}},a.prototype.isVertical=function(){var a=this.get("start"),b=this.get("end");return f6(a.x,b.x)},a.prototype.isHorizontal=function(){var a=this.get("start"),b=this.get("end");return f6(a.y,b.y)},a.prototype.getTickPoint=function(b){var a=this.get("start"),c=this.get("end"),d=c.x-a.x,e=c.y-a.y;return{x:a.x+d*b,y:a.y+e*b}},a.prototype.getSideVector=function(b){var a=hR([0,0],this.getAxisVector()),c=this.get("verticalFactor");return hO([0,0],[a[1],-1*a[0]],b*c)},a.prototype.getAxisVector=function(){var a=this.get("start"),b=this.get("end");return[b.x-a.x,b.y-a.y]},a.prototype.processOverlap=function(h){var m=this,e=this.isVertical(),i=this.isHorizontal();if(e||i){var j=this.get("label"),a=this.get("title"),k=this.get("verticalLimitLength"),f=j.offset,b=k,c=0,d=0;if(a&&(c=a.style.fontSize,d=a.spacing),b&&(b=b-f-d-c),I(this.get("overlapOrder"),function(a){j[a]&&m.canProcessOverlap(a)&&m.autoProcessOverlap(a,j[a],h,b)}),a&&fA(a.offset)){var g=h.getCanvasBBox(),l=e?g.width:g.height;a.offset=f+l+d+c/2}}},a.prototype.canProcessOverlap=function(a){var b=this.get("label");return"autoRotate"!==a||fA(b.rotate)},a.prototype.autoProcessOverlap=function(g,a,b,e){var j=this,f=this.isVertical(),c=!1,d=a2[g];if(!0===a)this.get("label"),c=d.getDefault()(f,b,e);else if(fz(a))c=a(f,b,e);else if(fC(a)){var h=a;d[h.type]&&(c=d[h.type](f,b,e,h.cfg))}else d[a]&&(c=d[a](f,b,e));if("autoRotate"===g){if(c){var i=b.getChildren(),k=this.get("verticalFactor");I(i,function(a){if("center"===a.attr("textAlign")){var b=k>0?"end":"start";a.attr("textAlign",b)}})}}else"autoHide"===g&&I(b.getChildren().slice(0),function(a){a.get("visible")||(j.get("isRegister")&&j.unregisterElement(a),a.remove())})},a}(bH),cQ=function(b){function a(){return null!==b&&b.apply(this,arguments)||this}return fl(a,b),a.prototype.getDefaultCfg=function(){return n(n({},b.prototype.getDefaultCfg.call(this)),{type:"circle",locationType:"circle",center:null,radius:null,startAngle:-Math.PI/2,endAngle:3*Math.PI/2})},a.prototype.getLinePath=function(){var h=this.get("center"),b=h.x,c=h.y,d=this.get("radius"),a=d,e=this.get("startAngle"),f=this.get("endAngle"),g=[];if(Math.abs(f-e)===2*Math.PI)g=[["M",b,c-a],["A",d,a,0,1,1,b,c+a],["A",d,a,0,1,1,b,c-a],["Z"]];else{var i=this.getCirclePoint(e),j=this.getCirclePoint(f),k=Math.abs(f-e)>Math.PI?1:0,l=e>f?0:1;g=[["M",b,c],["L",i.x,i.y],["A",d,a,0,k,l,j.x,j.y],["L",b,c],]}return g},a.prototype.getTickPoint=function(b){var a=this.get("startAngle"),c=this.get("endAngle");return this.getCirclePoint(a+(c-a)*b)},a.prototype.getSideVector=function(d,b){var c=this.get("center"),a=[b.x-c.x,b.y-c.y],e=this.get("verticalFactor"),f=hQ(a);return hO(a,a,e*d/f),a},a.prototype.getAxisVector=function(a){var b=this.get("center"),c=[a.x-b.x,a.y-b.y];return[c[1],-1*c[0]]},a.prototype.getCirclePoint=function(b,a){var c=this.get("center");return a=a||this.get("radius"),{x:c.x+Math.cos(b)*a,y:c.y+Math.sin(b)*a}},a.prototype.canProcessOverlap=function(a){var b=this.get("label");return"autoRotate"!==a||fA(b.rotate)},a.prototype.processOverlap=function(f){var j=this,g=this.get("label"),a=this.get("title"),h=this.get("verticalLimitLength"),e=g.offset,b=h,c=0,d=0;if(a&&(c=a.style.fontSize,d=a.spacing),b&&(b=b-e-d-c),I(this.get("overlapOrder"),function(a){g[a]&&j.canProcessOverlap(a)&&j.autoProcessOverlap(a,g[a],f,b)}),a&&fA(a.offset)){var i=f.getCanvasBBox().height;a.offset=e+i+d+c/2}},a.prototype.autoProcessOverlap=function(f,a,b,c){var i=this,d=!1,e=a2[f];if(c>0){if(!0===a)d=e.getDefault()(!1,b,c);else if(fz(a))d=a(!1,b,c);else if(fC(a)){var g=a;e[g.type]&&(d=e[g.type](!1,b,c,g.cfg))}else e[a]&&(d=e[a](!1,b,c))}if("autoRotate"===f){if(d){var h=b.getChildren(),j=this.get("verticalFactor");I(h,function(a){if("center"===a.attr("textAlign")){var b=j>0?"end":"start";a.attr("textAlign",b)}})}}else"autoHide"===f&&I(b.getChildren().slice(0),function(a){a.get("visible")||(i.get("isRegister")&&i.unregisterElement(a),a.remove())})},a}(bH),bI=function(b){function a(){return null!==b&&b.apply(this,arguments)||this}return fl(a,b),a.prototype.getDefaultCfg=function(){return n(n({},b.prototype.getDefaultCfg.call(this)),{name:"crosshair",type:"base",line:{},text:null,textBackground:{},capture:!1,defaultCfg:{line:{style:{lineWidth:1,stroke:X.lineColor}},text:{position:"start",offset:10,autoRotate:!1,content:null,style:{fill:X.textColor,textAlign:"center",textBaseline:"middle",fontFamily:X.fontFamily}},textBackground:{padding:5,style:{stroke:X.lineColor}}}})},a.prototype.renderInner=function(a){this.get("line")&&this.renderLine(a),this.get("text")&&(this.renderText(a),this.renderBackground(a))},a.prototype.renderText=function(e){var a=this.get("text"),f=a.style,g=a.autoRotate,b=a.content;if(!fA(b)){var c=this.getTextPoint(),d=null;g&&(d=l9(c,this.getRotateAngle())),this.addShape(e,{type:"text",name:"crosshair-text",id:this.getElementId("text"),attrs:n(n(n({},c),{text:b,matrix:d}),f)})}},a.prototype.renderLine=function(a){var b=this.getLinePath(),c=this.get("line").style;this.addShape(a,{type:"path",name:"crosshair-line",id:this.getElementId("line"),attrs:n({path:b},c)})},a.prototype.renderBackground=function(e){var f=this.getElementId("text"),c=e.findById(f),d=this.get("textBackground");if(d&&c){var b=c.getBBox(),a=me(d.padding),g=d.style;this.addShape(e,{type:"rect",name:"crosshair-text-background",id:this.getElementId("text-background"),attrs:n({x:b.x-a[3],y:b.y-a[0],width:b.width+a[1]+a[3],height:b.height+a[0]+a[2],matrix:c.attr("matrix")},g)}).toBack()}},a}(h),m$=function(b){function a(){return null!==b&&b.apply(this,arguments)||this}return fl(a,b),a.prototype.getDefaultCfg=function(){return n(n({},b.prototype.getDefaultCfg.call(this)),{type:"line",locationType:"region",start:null,end:null})},a.prototype.getRotateAngle=function(){var a=this.getLocation(),b=a.start,c=a.end,e=this.get("text").position,d=Math.atan2(c.y-b.y,c.x-b.x);return"start"===e?d-Math.PI/2:d+Math.PI/2},a.prototype.getTextPoint=function(){var a=this.getLocation(),c=a.start,d=a.end,b=this.get("text"),e=b.position,f=b.offset;return mm(c,d,e,f)},a.prototype.getLinePath=function(){var a=this.getLocation(),b=a.start,c=a.end;return[["M",b.x,b.y],["L",c.x,c.y],]},a}(bI),m_=function(b){function a(){return null!==b&&b.apply(this,arguments)||this}return fl(a,b),a.prototype.getDefaultCfg=function(){return n(n({},b.prototype.getDefaultCfg.call(this)),{type:"circle",locationType:"circle",center:null,radius:100,startAngle:-Math.PI/2,endAngle:3*Math.PI/2})},a.prototype.getRotateAngle=function(){var a=this.getLocation(),b=a.startAngle,c=a.endAngle,d=this.get("text").position;return"start"===d?b+Math.PI/2:c-Math.PI/2},a.prototype.getTextPoint=function(){var b=this.get("text"),f=b.position,c=b.offset,a=this.getLocation(),g=a.center,h=a.radius,i=a.startAngle,j=a.endAngle,d=this.getRotateAngle()-Math.PI,e=mj(g,h,"start"===f?i:j);return{x:e.x+Math.cos(d)*c,y:e.y+Math.sin(d)*c}},a.prototype.getLinePath=function(){var b=this.getLocation(),c=b.center,a=b.radius,d=b.startAngle,e=b.endAngle,f=null;if(e-d==2*Math.PI){var g=c.x,h=c.y;f=[["M",g,h-a],["A",a,a,0,1,1,g,h+a],["A",a,a,0,1,1,g,h-a],["Z"],]}else{var i=mj(c,a,d),j=mj(c,a,e),k=Math.abs(e-d)>Math.PI?1:0,l=d>e?0:1;f=[["M",i.x,i.y],["A",a,a,0,k,l,j.x,j.y],]}return f},a}(bI),aB="g2-crosshair",cR=aB+"-line",cS=aB+"-text",m0=((Z={})[""+aB]={position:"relative"},Z[""+cR]={position:"absolute",backgroundColor:"rgba(0, 0, 0, 0.25)"},Z[""+cS]={position:"absolute",color:X.textColor,fontFamily:X.fontFamily},Z),m1=function(b){function a(){return null!==b&&b.apply(this,arguments)||this}return fl(a,b),a.prototype.getDefaultCfg=function(){return n(n({},b.prototype.getDefaultCfg.call(this)),{name:"crosshair",type:"html",locationType:"region",start:{x:0,y:0},end:{x:0,y:0},capture:!1,text:null,containerTpl:'<div class="'+aB+'"></div>',crosshairTpl:'<div class="'+cR+'"></div>',textTpl:'<span class="'+cS+'">{content}</span>',domStyles:null,containerClassName:aB,defaultStyles:m0,defaultCfg:{text:{position:"start",content:null,align:"center",offset:10}}})},a.prototype.render=function(){this.resetText(),this.resetPosition()},a.prototype.initCrossHair=function(){var b=this.getContainer(),a=gR(this.get("crosshairTpl"));b.appendChild(a),this.applyStyle(cR,a),this.set("crosshairEl",a)},a.prototype.getTextPoint=function(){var a=this.getLocation(),c=a.start,d=a.end,b=this.get("text"),e=b.position,f=b.offset;return mm(c,d,e,f)},a.prototype.resetText=function(){var b=this.get("text"),a=this.get("textEl");if(b){var c=b.content;if(!a){var d=this.getContainer(),e=gg(this.get("textTpl"),b);a=gR(e),d.appendChild(a),this.applyStyle(cS,a),this.set("textEl",a)}a.innerHTML=c}else a&&a.remove()},a.prototype.isVertical=function(a,b){return a.x===b.x},a.prototype.resetPosition=function(){var d,e,f,g,a=this.get("crosshairEl");a||(this.initCrossHair(),a=this.get("crosshairEl"));var b=this.get("start"),c=this.get("end"),h=Math.min(b.x,c.x),i=Math.min(b.y,c.y);this.isVertical(b,c)?gS(a,{width:"1px",height:(d=Math.abs(c.y-b.y))+"px"}):gS(a,{height:"1px",width:(e=Math.abs(c.x-b.x))+"px"}),gS(a,{top:(f=i)+"px",left:(g=h)+"px"}),this.alignText()},a.prototype.alignText=function(){var b=this.get("textEl");if(b){var d,e,f=this.get("text").align,c=b.clientWidth,a=this.getTextPoint();switch(f){case"center":a.x=a.x-c/2;break;case"right":a.x=a.x-c}gS(b,{top:(d=a.y)+"px",left:(e=a.x)+"px"})}},a.prototype.updateInner=function(a){gd(a,"text")&&this.resetText(),b.prototype.updateInner.call(this,a)},a}(aA),bJ=function(b){function a(){return null!==b&&b.apply(this,arguments)||this}return fl(a,b),a.prototype.getDefaultCfg=function(){return n(n({},b.prototype.getDefaultCfg.call(this)),{name:"grid",line:{},alternateColor:null,capture:!1,items:[],closed:!1,defaultCfg:{line:{type:"line",style:{lineWidth:1,stroke:X.lineColor}}}})},a.prototype.getLineType=function(){return(this.get("line")||this.get("defaultCfg").line).type},a.prototype.renderInner=function(a){this.drawGrid(a)},a.prototype.getAlternatePath=function(c,d){var a=this.getGridPath(c),e=d.slice(0).reverse(),b=this.getGridPath(e,!0);return this.get("closed")?a=a.concat(b):(b[0][0]="L",(a=a.concat(b)).push(["Z"])),a},a.prototype.getPathStyle=function(){return this.get("line").style},a.prototype.drawGrid=function(b){var c=this,d=this.get("line"),a=this.get("items"),e=this.get("alternateColor"),f=null;I(a,function(g,i){var j=g.id||i;if(d){var h=c.getPathStyle();h=fz(h)?h(g,i,a):h;var m=c.getElementId("line-"+j),n=c.getGridPath(g.points);c.addShape(b,{type:"path",name:"grid-line",id:m,attrs:gA({path:n},h)})}if(e&&i>0){var k=c.getElementId("region-"+j),l=i%2==0;if(fT(e))l&&c.drawAlternateRegion(k,b,f.points,g.points,e);else{var o=l?e[1]:e[0];c.drawAlternateRegion(k,b,f.points,g.points,o)}}f=g})},a.prototype.drawAlternateRegion=function(a,b,c,d,e){var f=this.getAlternatePath(c,d);this.addShape(b,{type:"path",id:a,name:"grid-region",attrs:{path:f,fill:e}})},a}(h),cT=function(b){function a(){return null!==b&&b.apply(this,arguments)||this}return fl(a,b),a.prototype.getDefaultCfg=function(){return n(n({},b.prototype.getDefaultCfg.call(this)),{type:"circle",center:null,closed:!0})},a.prototype.getGridPath=function(d,n){var o=this.getLineType(),g=this.get("closed"),c=[];if(d.length){if("circle"===o){var h,i,j,k,e,f,a=this.get("center"),l=d[0],b=(h=a.x,i=a.y,j=l.x,k=l.y,e=j-h,f=k-i,Math.sqrt(e*e+f*f)),m=n?0:1;g?(c.push(["M",a.x,a.y-b]),c.push(["A",b,b,0,0,m,a.x,a.y+b]),c.push(["A",b,b,0,0,m,a.x,a.y-b]),c.push(["Z"])):I(d,function(a,d){0===d?c.push(["M",a.x,a.y]):c.push(["A",b,b,0,0,m,a.x,a.y])})}else I(d,function(a,b){0===b?c.push(["M",a.x,a.y]):c.push(["L",a.x,a.y])}),g&&c.push(["Z"])}return c},a}(bJ),cU=function(b){function a(){return null!==b&&b.apply(this,arguments)||this}return fl(a,b),a.prototype.getDefaultCfg=function(){return n(n({},b.prototype.getDefaultCfg.call(this)),{type:"line"})},a.prototype.getGridPath=function(a){var b=[];return I(a,function(a,c){0===c?b.push(["M",a.x,a.y]):b.push(["L",a.x,a.y])}),b},a}(bJ),bK=function(b){function a(){return null!==b&&b.apply(this,arguments)||this}return fl(a,b),a.prototype.getDefaultCfg=function(){return n(n({},b.prototype.getDefaultCfg.call(this)),{name:"legend",layout:"horizontal",locationType:"point",x:0,y:0,offsetX:0,offsetY:0,title:null,background:null})},a.prototype.getLayoutBBox=function(){var a=b.prototype.getLayoutBBox.call(this),e=this.get("maxWidth"),f=this.get("maxHeight"),c=a.width,d=a.height;return e&&(c=Math.min(c,e)),f&&(d=Math.min(d,f)),mh(a.minX,a.minY,c,d)},a.prototype.setLocation=function(a){this.set("x",a.x),this.set("y",a.y),this.resetLocation()},a.prototype.resetLocation=function(){var a=this.get("x"),b=this.get("y"),c=this.get("offsetX"),d=this.get("offsetY");this.moveElementTo(this.get("group"),{x:a+c,y:b+d})},a.prototype.applyOffset=function(){this.resetLocation()},a.prototype.getDrawPoint=function(){return this.get("currentPoint")},a.prototype.setDrawPoint=function(a){return this.set("currentPoint",a)},a.prototype.renderInner=function(a){this.resetDraw(),this.get("title")&&this.drawTitle(a),this.drawLegendContent(a),this.get("background")&&this.drawBackground(a)},a.prototype.drawBackground=function(b){var c=this.get("background"),d=b.getBBox(),a=me(c.padding),e=n({x:0,y:0,width:d.width+a[1]+a[3],height:d.height+a[0]+a[2]},c.style);this.addShape(b,{type:"rect",id:this.getElementId("background"),name:"legend-background",attrs:e}).toBack()},a.prototype.drawTitle=function(c){var a=this.get("currentPoint"),b=this.get("title"),d=b.spacing,e=b.style,f=b.text,g=this.addShape(c,{type:"text",id:this.getElementId("title"),name:"legend-title",attrs:n({text:f,x:a.x,y:a.y},e)}),h=g.getBBox();this.set("currentPoint",{x:a.x,y:h.maxY+d})},a.prototype.resetDraw=function(){var b=this.get("background"),a={x:0,y:0};if(b){var c=me(b.padding);a.x=c[3],a.y=c[0]}this.set("currentPoint",a)},a}(h),m2={marker:{style:{inactiveFill:"#000",inactiveOpacity:.45,fill:"#000",opacity:1,size:12}},text:{style:{fill:"#ccc",fontSize:12}}},m3={fill:X.textColor,fontSize:12,textAlign:"start",textBaseline:"middle",fontFamily:X.fontFamily,fontWeight:"normal",lineHeight:12},m4="navigation-arrow-right",m5="navigation-arrow-left",m6={right:90*Math.PI/180,left:270*Math.PI/180,up:0,down:180*Math.PI/180},cV=function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.currentPageIndex=1,a.totalPagesCnt=1,a.pageWidth=0,a.pageHeight=0,a.startX=0,a.startY=0,a.onNavigationBack=function(){var b=a.getElementByLocalId("item-group");if(a.currentPageIndex>1){a.currentPageIndex-=1,a.updateNavigation();var c=a.getCurrentNavigationMatrix();a.get("animate")?b.animate({matrix:c},100):b.attr({matrix:c})}},a.onNavigationAfter=function(){var b=a.getElementByLocalId("item-group");if(a.currentPageIndex<a.totalPagesCnt){a.currentPageIndex+=1,a.updateNavigation();var c=a.getCurrentNavigationMatrix();a.get("animate")?b.animate({matrix:c},100):b.attr({matrix:c})}},a}return fl(a,b),a.prototype.getDefaultCfg=function(){return n(n({},b.prototype.getDefaultCfg.call(this)),{name:"legend",type:"category",itemSpacing:24,itemMarginBottom:8,maxItemWidth:null,itemWidth:null,itemHeight:null,itemName:{},itemValue:null,maxWidth:null,maxHeight:null,marker:{},radio:null,items:[],itemStates:{},itemBackground:{},pageNavigator:{},defaultCfg:{title:{spacing:5,style:{fill:X.textColor,fontSize:12,textAlign:"start",textBaseline:"top"}},background:{padding:5,style:{stroke:X.lineColor}},itemBackground:{style:{opacity:0,fill:"#fff"}},pageNavigator:m2,itemName:{spacing:16,style:m3},marker:{spacing:8,style:{r:6,symbol:"circle"}},itemValue:{alignRight:!1,formatter:null,style:m3,spacing:6},itemStates:{active:{nameStyle:{opacity:.8}},unchecked:{nameStyle:{fill:X.uncheckedColor},markerStyle:{fill:X.uncheckedColor,stroke:X.uncheckedColor}},inactive:{nameStyle:{fill:X.uncheckedColor},markerStyle:{opacity:.2}}}}})},a.prototype.isList=function(){return!0},a.prototype.getItems=function(){return this.get("items")},a.prototype.setItems=function(a){this.update({items:a})},a.prototype.updateItem=function(a,b){gA(a,b),this.clear(),this.render()},a.prototype.clearItems=function(){var a=this.getElementByLocalId("item-group");a&&a.clear()},a.prototype.setItemState=function(a,c,d){a[c]=d;var b=this.getElementByLocalId("item-"+a.id);if(b){var e=this.getItems().indexOf(a),f=this.createOffScreenGroup(),g=this.drawItem(a,e,this.getItemHeight(),f);this.updateElements(g,b),this.clearUpdateStatus(b)}},a.prototype.hasState=function(a,b){return!!a[b]},a.prototype.getItemStates=function(c){var a=this.get("itemStates"),b=[];return I(a,function(d,a){c[a]&&b.push(a)}),b},a.prototype.clearItemsState=function(a){var b=this;I(this.getItemsByState(a),function(c){b.setItemState(c,a,!1)})},a.prototype.getItemsByState=function(a){var b=this;return fw(this.getItems(),function(c){return b.hasState(c,a)})},a.prototype.drawLegendContent=function(a){this.processItems(),this.drawItems(a)},a.prototype.processItems=function(){I(this.get("items"),function(a){a.id||(a.id=a.name)})},a.prototype.drawItems=function(a){var i=this,c=this.addGroup(a,{id:this.getElementId("item-container-group"),name:"legend-item-container-group"}),d=this.addGroup(c,{id:this.getElementId("item-group"),name:"legend-item-group"}),j=this.getItemHeight(),k=this.get("itemWidth"),l=this.get("itemSpacing"),m=this.get("itemMarginBottom"),b=this.get("currentPoint"),e=b.x,f=b.y,n=this.get("layout"),g=this.get("items"),h=!1,o=0,p=this.get("maxWidth"),q=this.get("maxHeight");I(g,function(g,r){var c=i.drawItem(g,r,j,d),s=c.getBBox(),a=k||s.width;a>o&&(o=a),"horizontal"===n?(p&&p<b.x+a-e&&(h=!0,b.x=e,b.y+=j+m),i.moveElementTo(c,b),b.x+=a+l):(q&&q<b.y+j+m-f&&(h=!0,b.x+=o+l,b.y=f,o=0),i.moveElementTo(c,b),b.y+=j+m)}),h&&this.get("flipPage")&&(this.pageHeight=0,this.pageWidth=0,this.totalPagesCnt=1,this.startX=e,this.startY=f,this.adjustNavigation(a,d))},a.prototype.getItemHeight=function(){var a=this.get("itemHeight");if(!a){var b=(this.get("itemName")||{}).style;if(fz(b)){var c=this.getItems();c.forEach(function(e,f){var d=n(n({},m3),b(e,f,c)).fontSize;a<d&&(a=d)})}else b&&(a=b.fontSize)}return a},a.prototype.drawMarker=function(d,e,b,f){var g=n(n(n({x:0,y:f/2},e.style),{symbol:gB(b.marker,"symbol","circle")}),gB(b.marker,"style",{})),a=this.addShape(d,{type:"marker",id:this.getElementId("item-"+b.id+"-marker"),name:"legend-item-marker",attrs:g}),h=a.getBBox();a.attr("x",h.width/2);var c=a.attr(),i=c.stroke,j=c.fill;return i&&a.set("isStroke",!0),j&&a.set("isFill",!0),a},a.prototype.drawItemText=function(g,b,d,a,h,i,e){var f=d.formatter,c=d.style,j=n(n({x:i,y:h/2,text:f?f(a[b],a,e):a[b]},m3),fz(c)?c(a,e,this.getItems()):c);return this.addShape(g,{type:"text",id:this.getElementId("item-"+a.id+"-"+b),name:"legend-item-"+b,attrs:j})},a.prototype.drawRadio=function(x,o,p,q,r){var g,h,d=o.style||{},a=null!==(g=d.r)&& void 0!==g?g:q/2,e=3.6*a/8,s=[r+a,q/2-a],b=s[0],c=s[1],t=[b+a,c+a],i=t[0],f=t[1],u=[b,f+a],j=u[0],k=u[1],v=[r,c+a],l=v[0],m=v[1],y=p.showRadio,z=n(n({path:[["M",b,c],["A",a,a,0,0,1,i,f],["L",i-e,f],["L",i,f],["A",a,a,0,0,1,j,k],["L",j,k-e],["L",j,k],["A",a,a,0,0,1,l,m],["L",l+e,m],["L",l,m],["A",a,a,0,0,1,b,c],["L",b,c+e],],stroke:"#000000",fill:"#ffffff"},d),{opacity:y?null!==(h=null==d?void 0:d.opacity)&& void 0!==h?h:.45:0}),w=this.addShape(x,{type:"path",id:this.getElementId("item-"+p.id+"-radio"),name:"legend-item-radio",attrs:z});return w.set("tip",o.tip),w},a.prototype.drawItem=function(a,f,e,r){var i="item-"+a.id,s=this.addGroup(r,{name:"legend-item-container",id:this.getElementId("item-container-"+i),delegateObject:{item:a,index:f}}),d=this.addGroup(s,{name:"legend-item",id:this.getElementId(i),delegateObject:{item:a,index:f}}),j=this.get("marker"),k=this.get("itemName"),g=this.get("itemValue"),l=this.get("itemBackground"),m=this.get("radio"),b=this.getLimitItemWidth(),c=0;if(j){var t=this.drawMarker(d,j,a,e),o=j.spacing,p=gB(a,["marker","spacing"]);f5(p)&&(o=p),c=t.getBBox().maxX+o}if(k){var q=this.drawItemText(d,"name",k,a,e,c,f);b&&mt(!0,q,f3(b-c,0,b)),c=q.getBBox().maxX+k.spacing}if(g){var h=this.drawItemText(d,"value",g,a,e,c,f);b&&(g.alignRight?(h.attr({textAlign:"right",x:b}),mt(!0,h,f3(b-c,0,b),"head")):mt(!0,h,f3(b-c,0,b))),c=h.getBBox().maxX+g.spacing}if(m&&this.drawRadio(d,m,a,e,c),l){var u=d.getBBox();this.addShape(d,{type:"rect",name:"legend-item-background",id:this.getElementId(i+"-background"),attrs:n({x:0,y:0,width:u.width,height:e},l.style)}).toBack()}return this.applyItemStates(a,d),d},a.prototype.adjustNavigation=function(o,d){var t=this,l=this.startX,p=this.startY,e=this.get("layout"),f=d.findAll(function(a){return"legend-item"===a.get("name")}),g=this.get("maxWidth"),m=this.get("maxHeight"),u=this.get("itemWidth"),q=this.get("itemSpacing"),h=this.getItemHeight(),r=gs({},m2,this.get("pageNavigator")),i=this.drawNavigation(o,e,"00/00",r),a=i.getBBox(),v={x:l,y:p},j=1,w=0,b=0,c=0,k=this.get("itemMarginBottom");if("horizontal"===e){var n=this.get("maxRow")||1,s=h+(1===n?0:k);this.pageHeight=s*n,I(f,function(c){var d=c.getBBox(),b=u||d.width;(w&&w<v.x+b+q||g<v.x+b+q+a.width)&&(1===j&&(w=v.x+q,t.pageWidth=w,t.moveElementTo(i,{x:g-q-a.width-a.minX,y:v.y+h/2-a.height/2-a.minY})),j+=1,v.x=l,v.y+=s),t.moveElementTo(c,v),c.getParent().setClip({type:"rect",attrs:{x:v.x,y:v.y,width:b+q,height:h}}),v.x+=b+q})}else{I(f,function(c){var a=c.getBBox();a.width>b&&(b=a.width)}),c=b,b+=q,g&&(b=Math.min(g,b),c=Math.min(g,c)),this.pageWidth=b,this.pageHeight=m-Math.max(a.height,h+k);var x=Math.floor(this.pageHeight/(h+k));I(f,function(a,c){0!==c&&c%x==0&&(j+=1,v.x+=b,v.y=p),t.moveElementTo(a,v),a.getParent().setClip({type:"rect",attrs:{x:v.x,y:v.y,width:b,height:h}}),v.y+=h+k}),this.totalPagesCnt=j,this.moveElementTo(i,{x:l+c/2-a.width/2-a.minX,y:m-a.height-a.minY})}this.pageHeight&&this.pageWidth&&d.getParent().setClip({type:"rect",attrs:{x:this.startX,y:this.startY,width:this.pageWidth,height:this.pageHeight}}),"horizontal"===e&&this.get("maxRow")?this.totalPagesCnt=Math.ceil(j/this.get("maxRow")):this.totalPagesCnt=j,this.currentPageIndex>this.totalPagesCnt&&(this.currentPageIndex=1),this.updateNavigation(i),d.attr("matrix",this.getCurrentNavigationMatrix())},a.prototype.drawNavigation=function(j,d,k,e){var a={x:0,y:0},b=this.addGroup(j,{id:this.getElementId("navigation-group"),name:"legend-navigation"}),f=gB(e.marker,"style",{}),g=f.size,c=void 0===g?12:g,h=fm(f,["size"]),i=this.drawArrow(b,a,m5,"horizontal"===d?"up":"left",c,h);i.on("click",this.onNavigationBack);var l=i.getBBox();a.x+=l.width+2;var m=this.addShape(b,{type:"text",id:this.getElementId("navigation-text"),name:"navigation-text",attrs:n({x:a.x,y:a.y+c/2,text:k,textBaseline:"middle"},gB(e.text,"style"))}).getBBox();return a.x+=m.width+2,this.drawArrow(b,a,m4,"horizontal"===d?"down":"right",c,h).on("click",this.onNavigationAfter),b},a.prototype.updateNavigation=function(a){var b=gs({},m2,this.get("pageNavigator")).marker.style,g=b.fill,h=b.opacity,i=b.inactiveFill,j=b.inactiveOpacity,k=this.currentPageIndex+"/"+this.totalPagesCnt,e=a?a.getChildren()[1]:this.getElementByLocalId("navigation-text"),c=a?a.findById(this.getElementId(m5)):this.getElementByLocalId(m5),d=a?a.findById(this.getElementId(m4)):this.getElementByLocalId(m4);e.attr("text",k),c.attr("opacity",1===this.currentPageIndex?j:h),c.attr("fill",1===this.currentPageIndex?i:g),c.attr("cursor",1===this.currentPageIndex?"not-allowed":"pointer"),d.attr("opacity",this.currentPageIndex===this.totalPagesCnt?j:h),d.attr("fill",this.currentPageIndex===this.totalPagesCnt?i:g),d.attr("cursor",this.currentPageIndex===this.totalPagesCnt?"not-allowed":"pointer");var f=c.getBBox().maxX+2;e.attr("x",f),f+=e.getBBox().width+2,this.updateArrowPath(d,{x:f,y:0})},a.prototype.drawArrow=function(h,d,e,f,a,i){var b=d.x,c=d.y,g=this.addShape(h,{type:"path",id:this.getElementId(e),name:e,attrs:n({size:a,direction:f,path:[["M",b+a/2,c],["L",b,c+a],["L",b+a,c+a],["Z"]],cursor:"pointer"},i)});return g.attr("matrix",l9({x:b+a/2,y:c+a/2},m6[f])),g},a.prototype.updateArrowPath=function(d,e){var b=e.x,c=e.y,f=d.attr(),a=f.size,g=l9({x:b+a/2,y:c+a/2},m6[f.direction]);d.attr("path",[["M",b+a/2,c],["L",b,c+a],["L",b+a,c+a],["Z"]]),d.attr("matrix",g)},a.prototype.getCurrentNavigationMatrix=function(){var d,a=this.currentPageIndex,b=this.pageWidth,c=this.pageHeight;return ma("horizontal"===this.get("layout")?{x:0,y:c*(1-a)}:{x:b*(1-a),y:0})},a.prototype.applyItemStates=function(a,b){if(this.getItemStates(a).length>0){var c=b.getChildren(),d=this.get("itemStates");I(c,function(b){var c=b.get("name").split("-")[2],e=mG(a,c,d);e&&(b.attr(e),"marker"===c&&!(b.get("isStroke")&&b.get("isFill"))&&(b.get("isStroke")&&b.attr("fill",null),b.get("isFill")&&b.attr("stroke",null)))})}},a.prototype.getLimitItemWidth=function(){var b=this.get("itemWidth"),a=this.get("maxItemWidth");return a?b&&(a=b<=a?b:a):b&&(a=b),a},a}(bK),cW=function(b){function a(){return null!==b&&b.apply(this,arguments)||this}return fl(a,b),a.prototype.getDefaultCfg=function(){return n(n({},b.prototype.getDefaultCfg.call(this)),{type:"continue",min:0,max:100,value:null,colors:[],track:{},rail:{},label:{},handler:{},slidable:!0,tip:null,step:null,maxWidth:null,maxHeight:null,defaultCfg:{label:{align:"rail",spacing:5,formatter:null,style:{fontSize:12,fill:X.textColor,textBaseline:"middle",fontFamily:X.fontFamily}},handler:{size:10,style:{fill:"#fff",stroke:"#333"}},track:{},rail:{type:"color",size:20,defaultLength:100,style:{fill:"#DCDEE2"}},title:{spacing:5,style:{fill:X.textColor,fontSize:12,textAlign:"start",textBaseline:"top"}}}})},a.prototype.isSlider=function(){return!0},a.prototype.getValue=function(){return this.getCurrentValue()},a.prototype.getRange=function(){return{min:this.get("min"),max:this.get("max")}},a.prototype.setRange=function(a,b){this.update({min:a,max:b})},a.prototype.setValue=function(a){var b=this.getValue();this.set("value",a);var c=this.get("group");this.resetTrackClip(),this.get("slidable")&&this.resetHandlers(c),this.delegateEmit("valuechanged",{originValue:b,value:a})},a.prototype.initEvent=function(){var a=this.get("group");this.bindSliderEvent(a),this.bindRailEvent(a),this.bindTrackEvent(a)},a.prototype.drawLegendContent=function(a){this.drawRail(a),this.drawLabels(a),this.fixedElements(a),this.resetTrack(a),this.resetTrackClip(a),this.get("slidable")&&this.resetHandlers(a)},a.prototype.bindSliderEvent=function(a){this.bindHandlersEvent(a)},a.prototype.bindHandlersEvent=function(a){var b=this;a.on("legend-handler-min:drag",function(d){var a=b.getValueByCanvasPoint(d.x,d.y),c=b.getCurrentValue()[1];c<a&&(c=a),b.setValue([a,c])}),a.on("legend-handler-max:drag",function(d){var a=b.getValueByCanvasPoint(d.x,d.y),c=b.getCurrentValue()[0];c>a&&(c=a),b.setValue([c,a])})},a.prototype.bindRailEvent=function(a){},a.prototype.bindTrackEvent=function(a){var b=this,c=null;a.on("legend-track:dragstart",function(a){c={x:a.x,y:a.y}}),a.on("legend-track:drag",function(f){if(c){var h=b.getValueByCanvasPoint(c.x,c.y),i=b.getValueByCanvasPoint(f.x,f.y),d=b.getCurrentValue(),g=d[1]-d[0],e=b.getRange(),a=i-h;a<0?d[0]+a>e.min?b.setValue([d[0]+a,d[1]+a]):b.setValue([e.min,e.min+g]):a>0&&(a>0&&d[1]+a<e.max?b.setValue([d[0]+a,d[1]+a]):b.setValue([e.max-g,e.max])),c={x:f.x,y:f.y}}}),a.on("legend-track:dragend",function(a){c=null})},a.prototype.drawLabels=function(a){this.drawLabel("min",a),this.drawLabel("max",a)},a.prototype.drawLabel=function(a,e){var b=this.get("label"),f=b.style,g=b.align,c=b.formatter,d=this.get(a),h=this.getLabelAlignAttrs(a,g);this.addShape(e,{type:"text",id:this.getElementId("label-"+a),name:"legend-label-"+a,attrs:n(n({x:0,y:0,text:fz(c)?c(d):d},f),h)})},a.prototype.getLabelAlignAttrs=function(c,d){var e=this.isVertical(),a="center",b="middle";return e?(a="start",b="rail"!==d?"min"===c?"top":"bottom":"top"):"rail"!==d?(b="top",a="min"===c?"start":"end"):(a="start",b="middle"),{textAlign:a,textBaseline:b}},a.prototype.getRailPath=function(b,c,j,k){var f=this.get("rail"),g=f.size,l=f.defaultLength,m=f.type,h=this.isVertical(),i=l,d=j,e=k;d||(d=h?g:i),e||(e=h?i:g);var a=[];return"color"===m?(a.push(["M",b,c]),a.push(["L",b+d,c]),a.push(["L",b+d,c+e]),a.push(["L",b,c+e]),a.push(["Z"])):(a.push(["M",b+d,c]),a.push(["L",b+d,c+e]),a.push(["L",b,c+e]),a.push(["Z"])),a},a.prototype.drawRail=function(a){var b=this.get("rail").style;this.addShape(a,{type:"path",id:this.getElementId("rail"),name:"legend-rail",attrs:n({path:this.getRailPath(0,0)},b)})},a.prototype.getTrackColor=function(c){var d,a=c.length;if(!a)return null;if(1===a)return c[0];d=this.isVertical()?"l(90)":"l(0)";for(var b=0;b<a;b++)d+=" "+b/(a-1)+":"+c[b];return d},a.prototype.getTrackPath=function(a){return gp(this.getRailShape(a).attr("path"))},a.prototype.getClipTrackAttrs=function(c){var d,e,f,g,h=this.getCurrentValue(),j=h[0],k=h[1],a=this.getRailBBox(c),b=this.getPointByValue(j,c),i=this.getPointByValue(k,c),l=this.isVertical();return l?(d=a.minX,e=b.y,f=a.width,g=i.y-b.y):(d=b.x,e=a.minY,f=i.x-b.x,g=a.height),{x:d,y:e,width:f,height:g}},a.prototype.getTrackAttrs=function(a){var b=this.get("track"),c=this.get("colors");return gA({path:this.getTrackPath(a),fill:this.getTrackColor(c)},b.style)},a.prototype.resetTrackClip=function(a){var e=a||this.get("group"),f=this.getElementId("track"),b=e.findById(f),c=b.getClip(),d=this.getClipTrackAttrs(a);c?c.attr(d):b.setClip({type:"rect",attrs:d})},a.prototype.resetTrack=function(a){var b=this.getElementId("track"),c=a.findById(b),d=this.getTrackAttrs(a);c?c.attr(d):this.addShape(a,{type:"path",id:b,draggable:this.get("slidable"),name:"legend-track",attrs:d})},a.prototype.getPointByValue=function(f,g){var c=this.getRange(),d=c.min,e=(f-d)/(c.max-d),a=this.getRailBBox(g),h=this.isVertical(),b={x:0,y:0};return h?(b.x=a.minX+a.width/2,b.y=mi(a.minY,a.maxY,e)):(b.x=mi(a.minX,a.maxX,e),b.y=a.minY+a.height/2),b},a.prototype.getRailShape=function(a){return(a||this.get("group")).findById(this.getElementId("rail"))},a.prototype.getRailBBox=function(a){return this.getRailShape(a).getBBox()},a.prototype.getRailCanvasBBox=function(){return this.get("group").findById(this.getElementId("rail")).getCanvasBBox()},a.prototype.isVertical=function(){return"vertical"===this.get("layout")},a.prototype.getValueByCanvasPoint=function(g,h){var k,f=this.getRange(),b=f.min,d=f.max,c=this.getRailCanvasBBox(),i=this.isVertical(),e=this.get("step"),a=mi(b,d,i?(h-c.minY)/c.height:(g-c.minX)/c.width);if(e){var j=Math.round((a-b)/e);a=b+j*e}return a>d&&(a=d),a<b&&(a=b),a},a.prototype.getCurrentValue=function(){var b=this.get("value");if(!b){var a=this.get("values");return a?[Math.max(Math.min.apply(Math,fr(a,[this.get("max")])),this.get("min")),Math.min(Math.max.apply(Math,fr(a,[this.get("min")])),this.get("max"))]:[this.get("min"),this.get("max")]}return b},a.prototype.resetHandlers=function(a){var b=this.getCurrentValue(),c=b[0],d=b[1];this.resetHandler(a,"min",c),this.resetHandler(a,"max",d)},a.prototype.getHandlerPath=function(k,j){var l=this.isVertical(),a=[],i=k.size,b=j.x,c=j.y,d=1.4*i,e=i/2,f=i/6;if(l){var g=b+.4*d;a.push(["M",b,c]),a.push(["L",g,c+e]),a.push(["L",b+d,c+e]),a.push(["L",b+d,c-e]),a.push(["L",g,c-e]),a.push(["Z"]),a.push(["M",g,c+f]),a.push(["L",b+d-2,c+f]),a.push(["M",g,c-f]),a.push(["L",b+d-2,c-f])}else{var h=c+.4*d;a.push(["M",b,c]),a.push(["L",b-e,h]),a.push(["L",b-e,c+d]),a.push(["L",b+e,c+d]),a.push(["L",b+e,h]),a.push(["Z"]),a.push(["M",b-f,h]),a.push(["L",b-f,c+d-2]),a.push(["M",b+f,h]),a.push(["L",b+f,c+d-2])}return a},a.prototype.resetHandler=function(a,b,g){var h=this.getPointByValue(g,a),c=this.get("handler"),d=this.getHandlerPath(c,h),e=this.getElementId("handler-"+b),f=a.findById(e),i=this.isVertical();f?f.attr("path",d):this.addShape(a,{type:"path",name:"legend-handler-"+b,draggable:!0,id:e,attrs:n(n({path:d},c.style),{cursor:i?"ns-resize":"ew-resize"})})},a.prototype.fixedElements=function(a){var b=a.findById(this.getElementId("rail")),c=a.findById(this.getElementId("label-min")),d=a.findById(this.getElementId("label-max")),e=this.getDrawPoint();this.isVertical()?this.fixedVertail(c,d,b,e):this.fixedHorizontal(c,d,b,e)},a.prototype.fitRailLength=function(f,g,b,h){var a=this.isVertical()?"height":"width",c=this.get("label"),i=c.align,j=c.spacing,d=this.get("max"+gh(a));if(d){var e=("rail"===i?b[a]+f[a]+g[a]+2*j:b[a])-d;e>0&&this.changeRailLength(h,a,b[a]-e)}},a.prototype.changeRailLength=function(b,e,c){var d,a=b.getBBox();d="height"===e?this.getRailPath(a.x,a.y,a.width,c):this.getRailPath(a.x,a.y,c,a.height),b.attr("path",d)},a.prototype.changeRailPosition=function(a,c,d){var b=a.getBBox(),e=this.getRailPath(c,d,b.width,b.height);a.attr("path",e)},a.prototype.fixedHorizontal=function(e,f,c,a){var h=this.get("label"),i=h.align,d=h.spacing,b=c.getBBox(),g=e.getBBox(),k=f.getBBox(),j=b.height;this.fitRailLength(g,k,b,c),b=c.getBBox(),"rail"===i?(e.attr({x:a.x,y:a.y+j/2}),this.changeRailPosition(c,a.x+g.width+d,a.y),f.attr({x:a.x+g.width+b.width+2*d,y:a.y+j/2})):"top"===i?(e.attr({x:a.x,y:a.y}),f.attr({x:a.x+b.width,y:a.y}),this.changeRailPosition(c,a.x,a.y+g.height+d)):(this.changeRailPosition(c,a.x,a.y),e.attr({x:a.x,y:a.y+b.height+d}),f.attr({x:a.x+b.width,y:a.y+b.height+d}))},a.prototype.fixedVertail=function(e,f,c,a){var h=this.get("label"),i=h.align,d=h.spacing,b=c.getBBox(),g=e.getBBox(),j=f.getBBox();if(this.fitRailLength(g,j,b,c),b=c.getBBox(),"rail"===i)e.attr({x:a.x,y:a.y}),this.changeRailPosition(c,a.x,a.y+g.height+d),f.attr({x:a.x,y:a.y+g.height+b.height+2*d});else if("right"===i)e.attr({x:a.x+b.width+d,y:a.y}),this.changeRailPosition(c,a.x,a.y),f.attr({x:a.x+b.width+d,y:a.y+b.height});else{var k=Math.max(g.width,j.width);e.attr({x:a.x,y:a.y}),this.changeRailPosition(c,a.x+k+d,a.y),f.attr({x:a.x,y:a.y+b.height})}},a}(bK),cX="g2-tooltip",cY="g2-tooltip-title",cZ="g2-tooltip-list",c$="g2-tooltip-list-item",c_="g2-tooltip-marker",c0="g2-tooltip-value",m7="g2-tooltip-name",c1="g2-tooltip-crosshair-x",c2="g2-tooltip-crosshair-y",m8=((x={})[""+cX]={position:"absolute",visibility:"visible",zIndex:8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)",backgroundColor:"rgba(255, 255, 255, 0.9)",boxShadow:"0px 0px 10px #aeaeae",borderRadius:"3px",color:"rgb(87, 87, 87)",fontSize:"12px",fontFamily:X.fontFamily,lineHeight:"20px",padding:"10px 10px 6px 10px"},x[""+cY]={marginBottom:"4px"},x[""+cZ]={margin:"0px",listStyleType:"none",padding:"0px"},x[""+c$]={listStyleType:"none",marginBottom:"4px"},x[""+c_]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},x[""+c0]={display:"inline-block",float:"right",marginLeft:"30px"},x[""+c1]={position:"absolute",width:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},x[""+c2]={position:"absolute",height:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},x),c3=function(b){function a(){return null!==b&&b.apply(this,arguments)||this}return fl(a,b),a.prototype.getDefaultCfg=function(){return n(n({},b.prototype.getDefaultCfg.call(this)),{name:"tooltip",type:"html",x:0,y:0,items:[],customContent:null,containerTpl:'<div class="'+cX+'"><div class="'+cY+'"></div><ul class="'+cZ+'"></ul></div>',itemTpl:'<li class="'+c$+'" data-index={index}>\n          <span class="'+c_+'" style="background:{color}"></span>\n          <span class="'+m7+'">{name}</span>:\n          <span class="'+c0+'">{value}</span>\n        </li>',xCrosshairTpl:'<div class="'+c1+'"></div>',yCrosshairTpl:'<div class="'+c2+'"></div>',title:null,showTitle:!0,region:null,crosshairsRegion:null,containerClassName:cX,crosshairs:null,offset:10,position:"right",domStyles:null,defaultStyles:m8})},a.prototype.render=function(){this.get("customContent")?this.renderCustomContent():(this.resetTitle(),this.renderItems()),this.resetPosition()},a.prototype.clear=function(){this.clearCrosshairs(),this.setTitle(""),this.clearItemDoms()},a.prototype.show=function(){var a=this.getContainer();a&&!this.destroyed&&(this.set("visible",!0),gS(a,{visibility:"visible"}),this.setCrossHairsVisible(!0))},a.prototype.hide=function(){var a=this.getContainer();a&&!this.destroyed&&(this.set("visible",!1),gS(a,{visibility:"hidden"}),this.setCrossHairsVisible(!1))},a.prototype.getLocation=function(){return{x:this.get("x"),y:this.get("y")}},a.prototype.setLocation=function(a){this.set("x",a.x),this.set("y",a.y),this.resetPosition()},a.prototype.setCrossHairsVisible=function(d){var a=d?"":"none",b=this.get("xCrosshairDom"),c=this.get("yCrosshairDom");b&&gS(b,{display:a}),c&&gS(c,{display:a})},a.prototype.initContainer=function(){if(b.prototype.initContainer.call(this),this.get("customContent")){this.get("container")&&this.get("container").remove();var a=this.getHtmlContentNode();this.get("parent").appendChild(a),this.set("container",a),this.resetStyles(),this.applyStyles()}},a.prototype.updateInner=function(a){if(this.get("customContent"))this.renderCustomContent();else{var d,e,c;d=a,c=!1,I(e=["title","showTitle"],function(a){if(gd(d,a))return c=!0,!1}),c&&this.resetTitle(),gd(a,"items")&&this.renderItems()}b.prototype.updateInner.call(this,a)},a.prototype.initDom=function(){this.cacheDoms()},a.prototype.removeDom=function(){b.prototype.removeDom.call(this),this.clearCrosshairs()},a.prototype.resetPosition=function(){var a,f=this.get("x"),g=this.get("y"),h=this.get("offset"),b=this.getOffset(),i=b.offsetX,j=b.offsetY,k=this.get("position"),c=this.get("region"),l=this.getContainer(),d=this.getBBox(),m=d.width,n=d.height;c&&(a=mg(c));var o,p,e=function(i,j,e,g,h,c,d){var a=function(a,b,c,g,f,h){var d=a,e=b;switch(h){case"left":d=a-g-c,e=b-f/2;break;case"right":d=a+c,e=b-f/2;break;case"top":d=a-g/2,e=b-f-c;break;case"bottom":d=a-g/2,e=b+c;break;default:d=a+c,e=b-f-c}return{x:d,y:e}}(i,j,e,g,h,c);if(d){var k,l,m,n,f,b=(k=a.x,l=a.y,m=g,n=h,f=d,{left:k<f.x,right:k+m>f.x+f.width,top:l<f.y,bottom:l+n>f.y+f.height});"auto"===c?(b.right&&(a.x=Math.max(0,i-g-e)),b.top&&(a.y=Math.max(0,j-h-e))):"top"===c||"bottom"===c?(b.left&&(a.x=d.x),b.right&&(a.x=d.x+d.width-g),"top"===c&&b.top&&(a.y=j+e),"bottom"===c&&b.bottom&&(a.y=j-h-e)):(b.top&&(a.y=d.y),b.bottom&&(a.y=d.y+d.height-h),"left"===c&&b.left&&(a.x=i+e),"right"===c&&b.right&&(a.x=i-g-e))}return a}(f,g,h,m,n,k,a);gS(l,{left:(o=e.x+i)+"px",top:(p=e.y+j)+"px"}),this.resetCrosshairs()},a.prototype.renderCustomContent=function(){var a=this.getHtmlContentNode(),b=this.get("parent"),c=this.get("container");c&&c.parentNode===b?b.replaceChild(a,c):b.appendChild(a),this.set("container",a),this.resetStyles(),this.applyStyles()},a.prototype.getHtmlContentNode=function(){var b,c=this.get("customContent");if(c){var a=c(this.get("title"),this.get("items"));b=go(a)?a:gR(a)}return b},a.prototype.cacheDoms=function(){var a=this.getContainer(),b=a.getElementsByClassName(cY)[0],c=a.getElementsByClassName(cZ)[0];this.set("titleDom",b),this.set("listDom",c)},a.prototype.resetTitle=function(){var a=this.get("title");this.get("showTitle")&&a?this.setTitle(a):this.setTitle("")},a.prototype.setTitle=function(b){var a=this.get("titleDom");a&&(a.innerText=b)},a.prototype.resetCrosshairs=function(){var c=this.get("crosshairsRegion"),b=this.get("crosshairs");if(c&&b){var a=mg(c),d=this.get("xCrosshairDom"),e=this.get("yCrosshairDom");"x"===b?(this.resetCrosshair("x",a),e&&(e.remove(),this.set("yCrosshairDom",null))):"y"===b?(this.resetCrosshair("y",a),d&&(d.remove(),this.set("xCrosshairDom",null))):(this.resetCrosshair("x",a),this.resetCrosshair("y",a)),this.setCrossHairsVisible(this.get("visible"))}else this.clearCrosshairs()},a.prototype.resetCrosshair=function(b,a){var e,f,g,h,i,j,c=this.checkCrosshair(b),d=this.get(b);"x"===b?gS(c,{left:(e=d)+"px",top:(f=a.y)+"px",height:(g=a.height)+"px"}):gS(c,{top:(h=d)+"px",left:(i=a.x)+"px",width:(j=a.width)+"px"})},a.prototype.checkCrosshair=function(b){var c=b+"CrosshairDom",d=a4["CROSSHAIR_"+b.toUpperCase()],a=this.get(c),e=this.get("parent");return a||(a=gR(this.get(b+"CrosshairTpl")),this.applyStyle(d,a),e.appendChild(a),this.set(c,a)),a},a.prototype.renderItems=function(){this.clearItemDoms();var b=this.get("items"),c=this.get("itemTpl"),a=this.get("listDom");a&&(I(b,function(b){var d=lj.toCSSGradient(b.color),e=n(n({},b),{color:d}),f=gg(c,e),g=gR(f);a.appendChild(g)}),this.applyChildrenStyles(a,this.get("domStyles")))},a.prototype.clearItemDoms=function(){this.get("listDom")&&mf(this.get("listDom"))},a.prototype.clearCrosshairs=function(){var a=this.get("xCrosshairDom"),b=this.get("yCrosshairDom");a&&a.remove(),b&&b.remove(),this.set("xCrosshairDom",null),this.set("yCrosshairDom",null)},a}(aA),m9={opacity:0},na={stroke:"#C5C5C5",strokeOpacity:.85},nb={fill:"#CACED4",opacity:.85};function nc(a){var b;return gx(b=a,function(a,b){var c=a[0],d=a[1];return[0===b?"M":"L",c,d]})}var nd=function(b){function a(){return null!==b&&b.apply(this,arguments)||this}return fl(a,b),a.prototype.getDefaultCfg=function(){return n(n({},b.prototype.getDefaultCfg.call(this)),{name:"trend",x:0,y:0,width:200,height:16,smooth:!0,isArea:!1,data:[],backgroundStyle:m9,lineStyle:na,areaStyle:nb})},a.prototype.renderInner=function(e){var c,u,v,f,w,x,g,a=this.cfg,h=a.width,i=a.height,l=a.data,y=a.smooth,z=a.isArea,A=a.backgroundStyle,B=a.lineStyle,C=a.areaStyle;this.addShape(e,{id:this.getElementId("background"),type:"rect",attrs:n({x:0,y:0,width:h,height:i},A)});var m=(c=l,u=h,v=i,void 0===(f=y)&&(f=!0),w=new bD({values:c}),x=new ax({values:gx(c,function(b,a){return a})}),g=gx(c,function(a,b){return[x.scale(b)*u,v-w.scale(a)*v]}),f?function(a){if(a.length<=2)return nc(a);var d=[];I(a,function(a){gw(a,d.slice(d.length-2))||d.push(a[0],a[1])});var b=kq(d,!1),c=fX(a),e=c[0],f=c[1];return b.unshift(["M",e,f]),b}(g):nc(g));if(this.addShape(e,{id:this.getElementId("line"),type:"path",attrs:n({path:m},B)}),z){var o,p,q,r,b,s,j,d,t,k,D=(o=m,p=h,q=i,r=l,b=fr(o),k=(s=r,j=q,t=(d=new bD({values:s})).max<0?d.max:Math.max(0,d.min),j-d.scale(t)*j),b.push(["L",p,k]),b.push(["L",0,k]),b.push(["Z"]),b);this.addShape(e,{id:this.getElementId("area"),type:"path",attrs:n({path:D},C)})}},a.prototype.applyOffset=function(){var a=this.cfg,b=a.x,c=a.y;this.moveElementTo(this.get("group"),{x:b,y:c})},a}(h),ne={fill:"#F7F7F7",stroke:"#BFBFBF",radius:2,opacity:1,cursor:"ew-resize",highLightFill:"#FFF"},nf=function(b){function a(){return null!==b&&b.apply(this,arguments)||this}return fl(a,b),a.prototype.getDefaultCfg=function(){return n(n({},b.prototype.getDefaultCfg.call(this)),{name:"handler",x:0,y:0,width:10,height:24,style:ne})},a.prototype.renderInner=function(b){var c=this.cfg,d=c.width,e=c.height,a=c.style,l=a.fill,f=a.stroke,m=a.radius,n=a.opacity,g=a.cursor;this.addShape(b,{type:"rect",id:this.getElementId("background"),attrs:{x:0,y:0,width:d,height:e,fill:l,stroke:f,radius:m,opacity:n,cursor:g}});var h=1/3*d,i=2/3*d,j=.25*e,k=.75*e;this.addShape(b,{id:this.getElementId("line-left"),type:"line",attrs:{x1:h,y1:j,x2:h,y2:k,stroke:f,cursor:g}}),this.addShape(b,{id:this.getElementId("line-right"),type:"line",attrs:{x1:i,y1:j,x2:i,y2:k,stroke:f,cursor:g}})},a.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},a.prototype.initEvent=function(){this.bindEvents()},a.prototype.bindEvents=function(){var a=this;this.get("group").on("mouseenter",function(){var b=a.get("style").highLightFill;a.getElementByLocalId("background").attr("fill",b),a.draw()}),this.get("group").on("mouseleave",function(){var b=a.get("style").fill;a.getElementByLocalId("background").attr("fill",b),a.draw()})},a.prototype.draw=function(){var a=this.get("container").get("canvas");a&&a.draw()},a}(h),ng={fill:"#416180",opacity:.05},nh={fill:"#5B8FF9",opacity:.15,cursor:"move"},ni={width:10,height:24},nj={textBaseline:"middle",fill:"#000",opacity:.45},nk=function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.onMouseDown=function(b){return function(e){a.currentTarget=b;var c=e.originalEvent;c.stopPropagation(),c.preventDefault(),a.prevX=gB(c,"touches.0.pageX",c.pageX),a.prevY=gB(c,"touches.0.pageY",c.pageY);var d=a.getContainerDOM();d.addEventListener("mousemove",a.onMouseMove),d.addEventListener("mouseup",a.onMouseUp),d.addEventListener("mouseleave",a.onMouseUp),d.addEventListener("touchmove",a.onMouseMove),d.addEventListener("touchend",a.onMouseUp),d.addEventListener("touchcancel",a.onMouseUp)}},a.onMouseMove=function(b){var d=a.cfg.width,e=[a.get("start"),a.get("end")];b.stopPropagation(),b.preventDefault();var c=gB(b,"touches.0.pageX",b.pageX),f=gB(b,"touches.0.pageY",b.pageY),g=c-a.prevX,h=a.adjustOffsetRange(g/d);a.updateStartEnd(h),a.updateUI(a.getElementByLocalId("foreground"),a.getElementByLocalId("minText"),a.getElementByLocalId("maxText")),a.prevX=c,a.prevY=f,a.draw(),a.emit("sliderchange",[a.get("start"),a.get("end")].sort()),a.delegateEmit("valuechanged",{originValue:e,value:[a.get("start"),a.get("end")]})},a.onMouseUp=function(){a.currentTarget&&(a.currentTarget=void 0);var b=a.getContainerDOM();b&&(b.removeEventListener("mousemove",a.onMouseMove),b.removeEventListener("mouseup",a.onMouseUp),b.removeEventListener("mouseleave",a.onMouseUp),b.removeEventListener("touchmove",a.onMouseMove),b.removeEventListener("touchend",a.onMouseUp),b.removeEventListener("touchcancel",a.onMouseUp))},a}return fl(a,b),a.prototype.setRange=function(a,b){this.set("minLimit",a),this.set("maxLimit",b);var c=this.get("start"),d=this.get("end"),e=f3(c,a,b),f=f3(d,a,b);this.get("isInit")||c===e&&d===f||this.setValue([e,f])},a.prototype.getRange=function(){return{min:this.get("minLimit")||0,max:this.get("maxLimit")||1}},a.prototype.setValue=function(a){var b=this.getRange();if(fB(a)&&2===a.length){var c=[this.get("start"),this.get("end")];this.update({start:f3(a[0],b.min,b.max),end:f3(a[1],b.min,b.max)}),this.get("updateAutoRender")||this.render(),this.delegateEmit("valuechanged",{originValue:c,value:a})}},a.prototype.getValue=function(){return[this.get("start"),this.get("end")]},a.prototype.getDefaultCfg=function(){return n(n({},b.prototype.getDefaultCfg.call(this)),{name:"slider",x:0,y:0,width:100,height:16,backgroundStyle:{},foregroundStyle:{},handlerStyle:{},textStyle:{},defaultCfg:{backgroundStyle:ng,foregroundStyle:nh,handlerStyle:ni,textStyle:nj}})},a.prototype.update=function(a){var d=a.start,e=a.end,c=n({},a);fA(d)||(c.start=f3(d,0,1)),fA(e)||(c.end=f3(e,0,1)),b.prototype.update.call(this,c),this.minHandler=this.getChildComponentById(this.getElementId("minHandler")),this.maxHandler=this.getChildComponentById(this.getElementId("maxHandler")),this.trend=this.getChildComponentById(this.getElementId("trend"))},a.prototype.init=function(){this.set("start",f3(this.get("start"),0,1)),this.set("end",f3(this.get("end"),0,1)),b.prototype.init.call(this)},a.prototype.render=function(){b.prototype.render.call(this),this.updateUI(this.getElementByLocalId("foreground"),this.getElementByLocalId("minText"),this.getElementByLocalId("maxText"))},a.prototype.renderInner=function(b){var a=this.cfg,f=(a.start,a.end,a.width),c=a.height,g=a.trendCfg,h=void 0===g?{}:g,o=a.minText,p=a.maxText,i=a.backgroundStyle,j=a.foregroundStyle,k=a.textStyle,l=void 0===k?{}:k,d=gs({},ne,this.cfg.handlerStyle);gK(gB(h,"data"))&&(this.trend=this.addComponent(b,n({component:nd,id:this.getElementId("trend"),x:0,y:0,width:f,height:c},h))),this.addShape(b,{id:this.getElementId("background"),type:"rect",attrs:n({x:0,y:0,width:f,height:c},void 0===i?{}:i)}),this.addShape(b,{id:this.getElementId("minText"),type:"text",attrs:n({y:c/2,textAlign:"right",text:o,silent:!1},l)}),this.addShape(b,{id:this.getElementId("maxText"),type:"text",attrs:n({y:c/2,textAlign:"left",text:p,silent:!1},l)}),this.addShape(b,{id:this.getElementId("foreground"),name:"foreground",type:"rect",attrs:n({y:0,height:c},void 0===j?{}:j)});var m=gB(d,"width",10),e=gB(d,"height",24);this.minHandler=this.addComponent(b,{component:nf,id:this.getElementId("minHandler"),name:"handler-min",x:0,y:(c-e)/2,width:m,height:e,cursor:"ew-resize",style:d}),this.maxHandler=this.addComponent(b,{component:nf,id:this.getElementId("maxHandler"),name:"handler-max",x:0,y:(c-e)/2,width:m,height:e,cursor:"ew-resize",style:d})},a.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},a.prototype.initEvent=function(){this.bindEvents()},a.prototype.updateUI=function(e,f,g){var a=this.cfg,j=a.start,k=a.end,c=a.width,l=a.minText,m=a.maxText,n=a.handlerStyle,o=a.height,b=j*c,d=k*c;this.trend&&(this.trend.update({width:c,height:o}),this.get("updateAutoRender")||this.trend.render()),e.attr("x",b),e.attr("width",d-b);var h=gB(n,"width",10);f.attr("text",l),g.attr("text",m);var i=this._dodgeText([b,d],f,g),p=i[0],q=i[1];this.minHandler&&(this.minHandler.update({x:b-h/2}),this.get("updateAutoRender")||this.minHandler.render()),I(p,function(a,b){return f.attr(b,a)}),this.maxHandler&&(this.maxHandler.update({x:d-h/2}),this.get("updateAutoRender")||this.maxHandler.render()),I(q,function(a,b){return g.attr(b,a)})},a.prototype.bindEvents=function(){var a=this.get("group");a.on("handler-min:mousedown",this.onMouseDown("minHandler")),a.on("handler-min:touchstart",this.onMouseDown("minHandler")),a.on("handler-max:mousedown",this.onMouseDown("maxHandler")),a.on("handler-max:touchstart",this.onMouseDown("maxHandler"));var b=a.findById(this.getElementId("foreground"));b.on("mousedown",this.onMouseDown("foreground")),b.on("touchstart",this.onMouseDown("foreground"))},a.prototype.adjustOffsetRange=function(c){var f=this.cfg,d=f.start,e=f.end;switch(this.currentTarget){case"minHandler":var a=0-d,b=1-d;return Math.min(b,Math.max(a,c));case"maxHandler":var a=0-e,b=1-e;return Math.min(b,Math.max(a,c));case"foreground":var a=0-d,b=1-e;return Math.min(b,Math.max(a,c))}},a.prototype.updateStartEnd=function(a){var d=this.cfg,b=d.start,c=d.end;switch(this.currentTarget){case"minHandler":b+=a;break;case"maxHandler":c+=a;break;case"foreground":b+=a,c+=a}this.set("start",b),this.set("end",c)},a.prototype._dodgeText=function(f,d,e){var g,h,i=this.cfg,m=i.handlerStyle,n=i.width,c=gB(m,"width",10),a=f[0],b=f[1],j=!1;a>b&&(a=(g=[b,a])[0],b=g[1],d=(h=[e,d])[0],e=h[1],j=!0);var o=d.getBBox(),p=e.getBBox(),k=o.width>a-2?{x:a+c/2+2,textAlign:"left"}:{x:a-c/2-2,textAlign:"right"},l=p.width>n-b-2?{x:b-c/2-2,textAlign:"right"}:{x:b+c/2+2,textAlign:"left"};return j?[l,k]:[k,l]},a.prototype.draw=function(){var a=this.get("container"),b=a&&a.get("canvas");b&&b.draw()},a.prototype.getContainerDOM=function(){var a=this.get("container"),b=a&&a.get("canvas");return b&&b.get("container")},a}(h);function nl(a,b,c){if(a){if("function"==typeof a.addEventListener)return a.addEventListener(b,c,!1),{remove:function(){a.removeEventListener(b,c,!1)}};if("function"==typeof a.attachEvent)return a.attachEvent("on"+b,c),{remove:function(){a.detachEvent("on"+b,c)}}}}var nm={default:{trackColor:"rgba(0,0,0,0)",thumbColor:"rgba(0,0,0,0.15)",size:8,lineCap:"round"},hover:{thumbColor:"rgba(0,0,0,0.2)"}},nn=function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.clearEvents=gJ,a.onStartEvent=function(b){return function(c){a.isMobile=b,c.originalEvent.preventDefault();var d=b?gB(c.originalEvent,"touches.0.clientX"):c.clientX,e=b?gB(c.originalEvent,"touches.0.clientY"):c.clientY;a.startPos=a.cfg.isHorizontal?d:e,a.bindLaterEvent()}},a.bindLaterEvent=function(){var b=a.getContainerDOM(),c=[];c=a.isMobile?[nl(b,"touchmove",a.onMouseMove),nl(b,"touchend",a.onMouseUp),nl(b,"touchcancel",a.onMouseUp),]:[nl(b,"mousemove",a.onMouseMove),nl(b,"mouseup",a.onMouseUp),nl(b,"mouseleave",a.onMouseUp),],a.clearEvents=function(){c.forEach(function(a){a.remove()})}},a.onMouseMove=function(b){var c=a.cfg,e=c.isHorizontal,f=c.thumbOffset;b.preventDefault();var g=a.isMobile?gB(b,"touches.0.clientX"):b.clientX,h=a.isMobile?gB(b,"touches.0.clientY"):b.clientY,d=e?g:h,i=d-a.startPos;a.startPos=d,a.updateThumbOffset(f+i)},a.onMouseUp=function(b){b.preventDefault(),a.clearEvents()},a.onTrackClick=function(c){var b=a.cfg,f=b.isHorizontal,g=b.x,h=b.y,d=b.thumbLen,i=a.getContainerDOM(),e=i.getBoundingClientRect(),j=c.clientX,k=c.clientY,l=f?j-e.left-g-d/2:k-e.top-h-d/2,m=a.validateRange(l);a.updateThumbOffset(m)},a.onThumbMouseOver=function(){var b=a.cfg.theme.hover.thumbColor;a.getElementByLocalId("thumb").attr("stroke",b),a.draw()},a.onThumbMouseOut=function(){var b=a.cfg.theme.default.thumbColor;a.getElementByLocalId("thumb").attr("stroke",b),a.draw()},a}return fl(a,b),a.prototype.setRange=function(a,b){this.set("minLimit",a),this.set("maxLimit",b);var c=this.getValue(),d=f3(c,a,b);c===d||this.get("isInit")||this.setValue(d)},a.prototype.getRange=function(){var a;return{min:this.get("minLimit")||0,max:this.get("maxLimit")||1}},a.prototype.setValue=function(b){var a=this.getRange(),c=this.getValue();this.update({thumbOffset:(this.get("trackLen")-this.get("thumbLen"))*f3(b,a.min,a.max)}),this.delegateEmit("valuechange",{originalValue:c,value:this.getValue()})},a.prototype.getValue=function(){return f3(this.get("thumbOffset")/(this.get("trackLen")-this.get("thumbLen")),0,1)},a.prototype.getDefaultCfg=function(){return n(n({},b.prototype.getDefaultCfg.call(this)),{name:"scrollbar",isHorizontal:!0,minThumbLen:20,thumbOffset:0,theme:nm})},a.prototype.renderInner=function(a){this.renderTrackShape(a),this.renderThumbShape(a)},a.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},a.prototype.initEvent=function(){this.bindEvents()},a.prototype.renderTrackShape=function(h){var c=this.cfg,d=c.trackLen,e=c.theme,b=gs({},nm,void 0===e?{default:{}}:e).default,f=b.lineCap,g=b.trackColor,i=b.size,a=gB(this.cfg,"size",i),j=this.get("isHorizontal")?{x1:0+a/2,y1:a/2,x2:d-a/2,y2:a/2,lineWidth:a,stroke:g,lineCap:f}:{x1:a/2,y1:0+a/2,x2:a/2,y2:d-a/2,lineWidth:a,stroke:g,lineCap:f};return this.addShape(h,{id:this.getElementId("track"),name:"track",type:"line",attrs:j})},a.prototype.renderThumbShape=function(h){var c=this.cfg,b=c.thumbOffset,e=c.thumbLen,d=gs({},nm,c.theme).default,i=d.size,f=d.lineCap,g=d.thumbColor,a=gB(this.cfg,"size",i),j=this.get("isHorizontal")?{x1:b+a/2,y1:a/2,x2:b+e-a/2,y2:a/2,lineWidth:a,stroke:g,lineCap:f,cursor:"default"}:{x1:a/2,y1:b+a/2,x2:a/2,y2:b+e-a/2,lineWidth:a,stroke:g,lineCap:f,cursor:"default"};return this.addShape(h,{id:this.getElementId("thumb"),name:"thumb",type:"line",attrs:j})},a.prototype.bindEvents=function(){var a=this.get("group");a.on("mousedown",this.onStartEvent(!1)),a.on("mouseup",this.onMouseUp),a.on("touchstart",this.onStartEvent(!0)),a.on("touchend",this.onMouseUp),a.findById(this.getElementId("track")).on("click",this.onTrackClick);var b=a.findById(this.getElementId("thumb"));b.on("mouseover",this.onThumbMouseOver),b.on("mouseout",this.onThumbMouseOut)},a.prototype.getContainerDOM=function(){var a=this.get("container"),b=a&&a.get("canvas");return b&&b.get("container")},a.prototype.validateRange=function(b){var d=this.cfg,a=d.thumbLen,e=d.trackLen,c=b;return b+a>e?c=e-a:b+a<a&&(c=0),c},a.prototype.draw=function(){var a=this.get("container"),b=a&&a.get("canvas");b&&b.draw()},a.prototype.updateThumbOffset=function(f){var b=this.cfg,g=b.thumbOffset,h=b.isHorizontal,d=b.thumbLen,c=b.size,a=this.validateRange(f);if(a!==g){var e=this.getElementByLocalId("thumb");h?e.attr({x1:a+c/2,x2:a+d-c/2}):e.attr({y1:a+c/2,y2:a+d-c/2}),this.emitOffsetChange(a)}},a.prototype.emitOffsetChange=function(a){var b=this.cfg,c=b.thumbOffset,d=b.trackLen,e=b.thumbLen;this.cfg.thumbOffset=a,this.emit("scrollchange",{thumbOffset:a,ratio:f3(a/(d-e),0,1)}),this.delegateEmit("valuechange",{originalValue:c,value:a})},a}(h),no=cP,np=cQ,nq=cU,nr=cT,ns=cV,nt=cW,nu=c3;function nv(a){return 1===Array.from(new Set(a)).length}function nw(a){return(fN(a)+fM(a))/2}function c4(c,d,a,b){return{x:c+a*Math.cos(b),y:d+a*Math.sin(b)}}function c5(d,e,b,f,h,a){void 0===a&&(a=0);var c=c4(d,e,b,f),i=c4(d,e,b,h),j=c4(d,e,a,f),k=c4(d,e,a,h);if(h-f==2*Math.PI){var m=c4(d,e,b,f+Math.PI),n=c4(d,e,a,f+Math.PI),g=[["M",c.x,c.y],["A",b,b,0,1,1,m.x,m.y],["A",b,b,0,1,1,i.x,i.y],["M",j.x,j.y],];return a&&(g.push(["A",a,a,0,1,0,n.x,n.y]),g.push(["A",a,a,0,1,0,k.x,k.y])),g.push(["M",c.x,c.y]),g.push(["Z"]),g}var o=h-f<=Math.PI?0:1,l=[["M",c.x,c.y],["A",b,b,0,o,1,i.x,i.y],["L",k.x,k.y],];return a&&l.push(["A",a,a,0,o,0,j.x,j.y]),l.push(["L",c.x,c.y]),l.push(["Z"]),l}function nx(e,f,a,c,g){var b=c4(e,f,a,c),h=c4(e,f,a,g);if(f6(g-c,2*Math.PI)){var d=c4(e,f,a,c+Math.PI);return[["M",b.x,b.y],["A",a,a,0,1,1,d.x,d.y],["A",a,a,0,1,1,b.x,b.y],["A",a,a,0,1,0,d.x,d.y],["A",a,a,0,1,0,b.x,b.y],["Z"],]}return[["M",b.x,b.y],["A",a,a,0,g-c<=Math.PI?0:1,1,h.x,h.y],]}function c6(g,e){var a,b,c=function(a){if(gv(a))return null;var b=a[0].x,c=a[0].x,d=a[0].y,e=a[0].y;return I(a,function(a){b=b>a.x?a.x:b,c=c<a.x?a.x:c,d=d>a.y?a.y:d,e=e<a.y?a.y:e}),{minX:b,maxX:c,minY:d,maxY:e,centerX:(b+c)/2,centerY:(d+e)/2}}(g.points),f=e.startAngle,d=e.endAngle-f;return e.isTransposed?(a=c.maxY*d,b=c.minY*d):(a=c.maxX*d,b=c.minX*d),a+=f,b+=f,{startAngle:b,endAngle:a}}function ny(a,b){var c=a.attr(),d=b.attr();return I(c,function(b,a){void 0===d[a]&&(d[a]=void 0)}),d}function nz(a,b,c){return a>=Math.min(b,c)&&a<=Math.max(b,c)}function nA(a,b){return"object"==typeof a&&b.forEach(function(b){delete a[b]}),a}function nB(h,b,c){var e,g;void 0===b&&(b=[]),void 0===c&&(c=new Map);try{for(var d=fp(h),a=d.next();!a.done;a=d.next()){var f=a.value;c.has(f)||(b.push(f),c.set(f,!0))}}catch(i){e={error:i}}finally{try{a&&!a.done&&(g=d.return)&&g.call(d)}finally{if(e)throw e.error}}return b}var nC=function(){function a(a,b,c,d){void 0===a&&(a=0),void 0===b&&(b=0),void 0===c&&(c=0),void 0===d&&(d=0),this.x=a,this.y=b,this.height=d,this.width=c}return a.fromRange=function(b,c,d,e){return new a(b,c,d-b,e-c)},a.fromObject=function(b){return new a(b.minX,b.minY,b.width,b.height)},Object.defineProperty(a.prototype,"minX",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"maxX",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"minY",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"maxY",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"tl",{get:function(){return{x:this.x,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"tr",{get:function(){return{x:this.maxX,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"bl",{get:function(){return{x:this.x,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"br",{get:function(){return{x:this.maxX,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"top",{get:function(){return{x:this.x+this.width/2,y:this.minY}},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"right",{get:function(){return{x:this.maxX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"bottom",{get:function(){return{x:this.x+this.width/2,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"left",{get:function(){return{x:this.minX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),a.prototype.isEqual=function(a){return this.x===a.x&&this.y===a.y&&this.width===a.width&&this.height===a.height},a.prototype.contains=function(a){return a.minX>=this.minX&&a.maxX<=this.maxX&&a.minY>=this.minY&&a.maxY<=this.maxY},a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height)},a.prototype.add=function(){for(var b=[],a=0;a<arguments.length;a++)b[a]=arguments[a];var c=this.clone();return I(b,function(a){c.x=Math.min(a.x,c.x),c.y=Math.min(a.y,c.y),c.width=Math.max(a.maxX,c.maxX)-c.x,c.height=Math.max(a.maxY,c.maxY)-c.y}),c},a.prototype.merge=function(){for(var b=[],a=0;a<arguments.length;a++)b[a]=arguments[a];var c=this.clone();return I(b,function(a){c.x=Math.max(a.x,c.x),c.y=Math.max(a.y,c.y),c.width=Math.min(a.maxX,c.maxX)-c.x,c.height=Math.min(a.maxY,c.maxY)-c.y}),c},a.prototype.cut=function(b,e){var c=b.width,d=b.height;switch(e){case ib.TOP:case ib.TOP_LEFT:case ib.TOP_RIGHT:return a.fromRange(this.minX,this.minY+d,this.maxX,this.maxY);case ib.RIGHT:case ib.RIGHT_TOP:case ib.RIGHT_BOTTOM:return a.fromRange(this.minX,this.minY,this.maxX-c,this.maxY);case ib.BOTTOM:case ib.BOTTOM_LEFT:case ib.BOTTOM_RIGHT:return a.fromRange(this.minX,this.minY,this.maxX,this.maxY-d);case ib.LEFT:case ib.LEFT_TOP:case ib.LEFT_BOTTOM:return a.fromRange(this.minX+c,this.minY,this.maxX,this.maxY);default:return this}},a.prototype.shrink=function(e){var b=fq(e,4),c=b[0],f=b[1],g=b[2],d=b[3];return new a(this.x+d,this.y+c,this.width-d-f,this.height-c-g)},a.prototype.expand=function(e){var b=fq(e,4),c=b[0],f=b[1],g=b[2],d=b[3];return new a(this.x-d,this.y-c,this.width+d+f,this.height+c+g)},a.prototype.exceed=function(a){return[Math.max(-this.minY+a.minY,0),Math.max(this.maxX-a.maxX,0),Math.max(this.maxY-a.maxY,0),Math.max(-this.minX+a.minX,0),]},a.prototype.collide=function(a){return this.minX<a.maxX&&this.maxX>a.minX&&this.minY<a.maxY&&this.maxY>a.minY},a.prototype.size=function(){return this.width*this.height},a.prototype.isPointIn=function(a){return a.x>=this.minX&&a.x<=this.maxX&&a.y>=this.minY&&a.y<=this.maxY},a}();function nD(a){if(a.isPolar&&!a.isTransposed)return(a.endAngle-a.startAngle)*a.getRadius();var b=a.convert({x:0,y:0}),c=a.convert({x:1,y:0});return Math.sqrt(Math.pow(c.x-b.x,2)+Math.pow(c.y-b.y,2))}function nE(c,a){var b=c.getCenter();return Math.sqrt(Math.pow(a.x-b.x,2)+Math.pow(a.y-b.y,2))}function nF(c,a){var b=c.getCenter();return Math.atan2(a.y-b.y,a.x-b.x)}function nG(b,a){void 0===a&&(a=0);var g,h=b.start,i=b.end,d=b.getWidth(),e=b.getHeight();if(b.isPolar){var f=b.startAngle,k=b.endAngle,c=b.getCenter(),j=b.getRadius();return{type:"path",startState:{path:c5(c.x,c.y,j+a,f,f)},endState:function(b){var d=(k-f)*b+f;return{path:c5(c.x,c.y,j+a,f,d)}},attrs:{path:c5(c.x,c.y,j+a,f,k)}}}return g=b.isTransposed?{height:e+2*a}:{width:d+2*a},{type:"rect",startState:{x:h.x-a,y:i.y-a,width:b.isTransposed?d+2*a:0,height:b.isTransposed?0:e+2*a},endState:g,attrs:{x:h.x-a,y:i.y-a,width:d+2*a,height:e+2*a}}}var nH=/^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\1(?:29|30)|(?:0?[13578]|1[02])\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]+)0?2\2(?:29))(\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/;function nI(b,a,c,d){return(void 0===a&&(a={}),a.type)?a.type:"identity"!==b.type&&gO.includes(c)&&["interval"].includes(d)?"cat":b.isCategory?"cat":b.type}function nJ(a){return a.alias||a.field}function nK(f,d,g){var a,b=f.values.length;if(1===b)a=[.5,1];else{var e=1,c=0;!function(a){if(a.isPolar){var b=a.startAngle,c=a.endAngle;return c-b==2*Math.PI}return!1}(d)?a=[c=1/b/2,1-c]:d.isTransposed?(e=gB(g,"widthRatio.multiplePie",1/1.3),a=[(c=1/b*e)/2,1-c/2]):a=[0,1-1/b]}return a}function nL(a,e){var f,c,d,b={start:{x:0,y:0},end:{x:0,y:0}};a.isRect?b=function(c){var a,b;switch(c){case ib.TOP:a={x:0,y:1},b={x:1,y:1};break;case ib.RIGHT:a={x:1,y:0},b={x:1,y:1};break;case ib.BOTTOM:a={x:0,y:0},b={x:1,y:0};break;case ib.LEFT:a={x:0,y:0},b={x:0,y:1};break;default:a=b={x:0,y:0}}return{start:a,end:b}}(e):a.isPolar&&(b=((f=a).isTransposed?(c={x:0,y:0},d={x:1,y:0}):(c={x:0,y:0},d={x:0,y:1}),{start:c,end:d}));var g=b.start,h=b.end;return{start:a.convert(g),end:a.convert(h)}}function nM(a){var b=a.start,c=a.end;return b.x===c.x}function nN(b,c){var a=b.start,d=b.end;return nM(b)?(a.y-d.y)*(c.x-a.x)>0?1:-1:(d.x-a.x)*(a.y-c.y)>0?-1:1}function nO(b,c){var a=gB(b,["components","axis"],{});return gs({},gB(a,["common"],{}),gs({},gB(a,[c],{})))}function nP(b,c,d){var a=gB(b,["components","axis"],{});return gs({},gB(a,["common","title"],{}),gs({},gB(a,[c,"title"],{})),d)}function nQ(a){var d=a.x,e=a.y,b=a.circleCenter,f=e.start>e.end,c=a.isTransposed?a.convert({x:f?0:1,y:0}):a.convert({x:0,y:f?0:1}),g=[c.x-b.x,c.y-b.y],h=[1,0],i=c.y>b.y?hS(g,h):-1*hS(g,h),j=i+(d.end-d.start),k=Math.sqrt(Math.pow(c.x-b.x,2)+Math.pow(c.y-b.y,2));return{center:b,radius:k,startAngle:i,endAngle:j}}function nR(a,b){return gj(a)?!1!==a&&{}:gB(a,[b])}function nS(a,b){return gB(a,"position",b)}function nT(a,b){return gB(b,["title","text"],nJ(a))}var M=function(){function a(a,b){this.destroyed=!1,this.facets=[],this.view=a,this.cfg=gs({},this.getDefaultCfg(),b)}return a.prototype.init=function(){this.container||(this.container=this.createContainer());var a=this.view.getData();this.facets=this.generateFacets(a)},a.prototype.render=function(){this.renderViews()},a.prototype.update=function(){},a.prototype.clear=function(){this.clearFacetViews()},a.prototype.destroy=function(){this.clear(),this.container&&(this.container.remove(!0),this.container=void 0),this.destroyed=!0,this.view=void 0,this.facets=[]},a.prototype.facetToView=function(a){var e=a.region,f=a.data,c=a.padding,g=void 0===c?this.cfg.padding:c,b=this.view.createView({region:e,padding:g});b.data(f||[]),a.view=b,this.beforeEachView(b,a);var d=this.cfg.eachView;return d&&d(b,a),this.afterEachView(b,a),b},a.prototype.createContainer=function(){return this.view.getLayer(ia.FORE).addGroup()},a.prototype.renderViews=function(){this.createFacetViews()},a.prototype.createFacetViews=function(){var a=this;return this.facets.map(function(b){return a.facetToView(b)})},a.prototype.clearFacetViews=function(){var a=this;I(this.facets,function(b){b.view&&(a.view.removeView(b.view),b.view=void 0)})},a.prototype.parseSpacing=function(){var a=this.view.viewBBox,b=a.width,c=a.height;return this.cfg.spacing.map(function(a,d){return f5(a)?a/(0===d?b:c):parseFloat(a)/100})},a.prototype.getFieldValues=function(a,c){var b=[],d={};return I(a,function(e){var a=e[c];fA(a)||d[a]||(b.push(a),d[a]=!0)}),b},a.prototype.getRegion=function(d,e,i,j){var f=fq(this.parseSpacing(),2),a=f[0],b=f[1],g=(1+a)/(0===e?1:e)-a,h=(1+b)/(0===d?1:d)-b,c={x:(g+a)*i,y:(h+b)*j},k={x:c.x+g,y:c.y+h};return{start:c,end:k}},a.prototype.getDefaultCfg=function(){return{eachView:void 0,showTitle:!0,spacing:[0,0],padding:10,fields:[]}},a.prototype.getDefaultTitleCfg=function(){return{style:{fontSize:14,fill:"#666",fontFamily:this.view.getTheme().fontFamily}}},a.prototype.processAxis=function(e,f){var a=e.getOptions(),k=a.coordinate,g=e.geometries;if("rect"===gB(k,"type","rect")&&g.length){fA(a.axes)&&(a.axes={});var b=a.axes,h=fq(g[0].getXYFields(),2),c=h[0],d=h[1],i=nR(b,c),j=nR(b,d);!1!==i&&(a.axes[c]=this.getXAxisOption(c,b,i,f)),!1!==j&&(a.axes[d]=this.getYAxisOption(d,b,j,f))}},a.prototype.getFacetDataFilter=function(a){return function(b){return fZ(a,function(a){var c=a.field,d=a.value;return!!fA(d)||!c||b[c]===d})}},a}(),nU={},N=function(a,b){nU[b8(a)]=b},g=function(){function a(a,b){this.context=a,this.cfg=b,a.addAction(this)}return a.prototype.applyCfg=function(a){gA(this,a)},a.prototype.init=function(){this.applyCfg(this.cfg)},a.prototype.destroy=function(){this.context.removeAction(this),this.context=null},a}(),nV=function(b){function a(){return null!==b&&b.apply(this,arguments)||this}return fl(a,b),a.prototype.execute=function(){this.callback&&this.callback(this.context)},a.prototype.destroy=function(){b.prototype.destroy.call(this),this.callback=null},a}(g),nW={};function ag(a){return gB(nW[a],"ActionClass")}function a(a,b,c){nW[a]={ActionClass:b,cfg:c}}function nX(a,e){for(var c=[a[0]],b=1,f=a.length;b<f;b+=2){var d=e.convert({x:a[b],y:a[b+1]});c.push(d.x,d.y)}return c}function nY(a,b){var e=b.isTransposed,c=a[1],f=a[6],g=a[7],d=b.convert({x:f,y:g});return["A",c,c,0,0,e?0:1,d.x,d.y]}var nZ=function(g,w,h,t){var u,i,p,j,k,d,b,q,e=[],v=!!t;if(v){j=(u=fq(t,2))[0],k=u[1];for(var c=0,x=g.length;c<x;c++){var a=g[c];j=hM([0,0],j,a),k=hN([0,0],k,a)}}for(var c=0,r=g.length;c<r;c++){var a=g[c];if(0!==c||h){if(c!==r-1||h){i=g[h?c?c-1:r-1:c-1];var f=[0,0];f=hU(f,p=g[h?(c+1)%r:c+1],i),f=hO(f,f,w);var l=hP(a,i),m=hP(a,p),s=l+m;0!==s&&(l/=s,m/=s);var n=hO([0,0],f,-l),o=hO([0,0],f,m);b=hL([0,0],a,n),d=hL([0,0],a,o),d=hM([0,0],d,hN([0,0],p,a)),d=hN([0,0],d,hM([0,0],p,a)),n=hU([0,0],d,a),n=hO([0,0],n,-l/m),b=hL([0,0],a,n),b=hM([0,0],b,hN([0,0],i,a)),b=hN([0,0],b,hM([0,0],i,a)),o=hU([0,0],a,b),o=hO([0,0],o,m/l),d=hL([0,0],a,o),v&&(b=hN([0,0],b,j),b=hM([0,0],b,k),d=hN([0,0],d,j),d=hM([0,0],d,k)),e.push(q),e.push(b),q=d}else b=a,e.push(q),e.push(b)}else q=a}return h&&e.push(e.shift()),e};function n$(g,k,l){for(var b,c,d,j=!!k,e=[],a=0,m=g.length;a<m;a+=2)e.push([g[a],g[a+1]]);for(var f=nZ(e,.4,j,l),h=e.length,i=[],a=0;a<h-1;a++)b=f[2*a],c=f[2*a+1],d=e[a+1],i.push(["C",b[0],b[1],c[0],c[1],d[0],d[1]]);return j&&(b=f[h],c=f[h+1],d=e[0],i.push(["C",b[0],b[1],c[0],c[1],d[0],d[1]])),i}function n_(a,b){return function(a,e){var b=[];if(a.length){b.push(["M",a[0].x,a[0].y]);for(var c=1,f=a.length;c<f;c+=1){var d=a[c];b.push(["L",d.x,d.y])}e&&b.push(["Z"])}return b}(a,b)}function n0(a,f,i){var d=[],g=a[0],c=null;if(a.length<=2)return n_(a,f);for(var e=0,j=a.length;e<j;e++){var b=a[e];c&&c.x===b.x&&c.y===b.y||(d.push(b.x),d.push(b.y),c=b)}var h=n$(d,f,i||[[0,0],[1,1],]);return h.unshift(["M",g.x,g.y]),h}function n1(c,b){var a=c.event.target.getCanvasBBox();return a.width>=b||a.height>=b?a:null}function n2(c){var a,b=c.event.target;return b&&(a=b.get("element")),a}function c7(c){var a,b=c.event.target;return b&&(a=b.get("delegateObject")),a}function n3(b){var a=b.event.gEvent;return!a||!a.fromShape||!a.toShape||a.fromShape.get("element")!==a.toShape.get("element")}function n4(a){return a&&a.component&&a.component.isList()}function n5(a){return a&&a.component&&a.component.isSlider()}function n6(b){var a=b.event.target;return a&&"mask"===a.get("name")}function n7(a,c){if("path"===a.event.target.get("type")){var d,b,e,f,g=(d=a,b=c,(f=(e=d.event.target).getCanvasBBox()).width>=b||f.height>=b?e.attr("path"):null);if(!g)return;return oe(a.view,g)}var h=n1(a,c);return h?oc(a.view,h):null}function n8(c,b,g){var a=n1(c,g);if(!a)return null;var d=c.view,e=oj(d,b,{x:a.x,y:a.y}),f=oj(d,b,{x:a.maxX,y:a.maxY});return oc(b,{minX:e.x,minY:e.y,maxX:f.x,maxY:f.y})}function n9(a){var b=a.geometries,c=[];return I(b,function(a){var b=a.elements;c=c.concat(b)}),a.views&&a.views.length&&I(a.views,function(a){c=c.concat(n9(a))}),c}function oa(a,d){var b=a.geometries,c=[];return I(b,function(a){var b=a.getElementsBy(function(a){return a.hasState(d)});c=c.concat(b)}),c}function ob(c,b){var d,a=c.getModel().data;return fB(a)?a[0][b]:a[b]}function oc(a,d){var b=n9(a),c=[];return I(b,function(e){var a,b,f=e.shape.getCanvasBBox();a=d,!((b=f).minX>a.maxX||b.maxX<a.minX||b.minY>a.maxY||b.maxY<a.minY)&&c.push(e)}),c}function od(a){var b=[];return I(a,function(a){if("A"!==a[0])for(var c=1;c<a.length;c+=2)b.push([a[c],a[c+1]]);else{var d=a.length;b.push([a[d-2],a[d-1]])}}),b}function oe(a,b){var c=n9(a),d=od(b);return c.filter(function(e){var a,c,b=e.shape;return c="path"===b.get("type")?od(b.attr("path")):[[(a=b.getCanvasBBox()).minX,a.minY],[a.maxX,a.minY],[a.maxX,a.maxY],[a.minX,a.maxY],],function(b,c){if(b.length<2||c.length<2)return!1;var a,d,f=kY(b),g=kY(c);if(a=f,(d=g).minX>a.maxX||d.maxX<a.minX||d.minY>a.maxY||d.maxY<a.minY)return!1;var e=!1;if(I(c,function(a){if(kV(b,a[0],a[1]))return e=!0,!1}),e||(I(b,function(a){if(kV(c,a[0],a[1]))return e=!0,!1}),e))return!0;var j=kX(b),h=kX(c),i=!1;return I(h,function(c){var a,d,b;if(a=j,d=c,b=!1,I(a,function(a){if(function(c,h,d,i){var e={x:d.x-c.x,y:d.y-c.y},a={x:h.x-c.x,y:h.y-c.y},b={x:i.x-d.x,y:i.y-d.y},f=a.x*b.y-a.y*b.x,k=a.x*a.x+a.y*a.y,l=b.x*b.x+b.y*b.y,j=null;if(f*f>.001*k*l){var g=(e.x*b.y-e.y*b.x)/f,m=(e.x*a.y-e.y*a.x)/f;kW(g,0,1)&&kW(m,0,1)&&(j={x:c.x+g*a.x,y:c.y+g*a.y})}return j}(a.from,a.to,d.from,d.to))return b=!0,!1}),b)return i=!0,!1}),i}(d,c)})}function of(a){return a.getComponents().map(function(a){return a.component})}function og(a,b){var c=b.x-a.x,d=b.y-a.y;return Math.sqrt(c*c+d*d)}function oh(a,b){return a.x<=b.x&&a.maxX>=b.x&&a.y<=b.y&&a.maxY>b.y}function oi(c){var a=c.parent,b=null;return a&&(b=a.views.filter(function(a){return a!==c})),b}function oj(c,d,e){var a,b,f=(a=c,b=e,a.getCoordinate().invert(b));return d.getCoordinate().convert(f)}function ok(a,c,d,e){var b=!1;return I(a,function(a){if(a[d]===c[d]&&a[e]===c[e])return b=!0,!1}),b}function ol(a,c){var b=a.getScaleByField(c);return!b&&a.views&&I(a.views,function(a){if(b=ol(a,c))return!1}),b}var om=function(){function a(a){this.actions=[],this.event=null,this.cacheMap={},this.view=a}return a.prototype.cache=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];if(1===a.length)return this.cacheMap[a[0]];2===a.length&&(this.cacheMap[a[0]]=a[1])},a.prototype.getAction=function(a){return this.actions.find(function(b){return b.name===a})},a.prototype.addAction=function(a){this.actions.push(a)},a.prototype.removeAction=function(b){var c=this.actions,a=this.actions.indexOf(b);a>=0&&c.splice(a,1)},a.prototype.getCurrentPoint=function(){var a=this.event;if(a)return a.target instanceof HTMLElement?this.view.getCanvas().getPointByClient(a.clientX,a.clientY):{x:a.x,y:a.y};return null},a.prototype.getCurrentShape=function(){return gB(this.event,["gEvent","shape"])},a.prototype.isInPlot=function(){var a=this.getCurrentPoint();return!!a&&this.view.isPointInPlot(a)},a.prototype.isInShape=function(b){var a=this.getCurrentShape();return!!a&&a.get("name")===b},a.prototype.isInComponent=function(c){var a=of(this.view),b=this.getCurrentPoint();return!!b&&!!a.find(function(a){var d=a.getBBox();return c?a.get("name")===c&&oh(d,b):oh(d,b)})},a.prototype.destroy=function(){I(this.actions.slice(),function(a){a.destroy()}),this.view=null,this.event=null,this.actions=null,this.cacheMap=null},a}(),c8=function(){function a(a,b){this.view=a,this.cfg=b}return a.prototype.init=function(){this.initEvents()},a.prototype.initEvents=function(){},a.prototype.clearEvents=function(){},a.prototype.destroy=function(){this.clearEvents()},a}();function on(e,b,f){var c=e.split(":"),a=c[0],d=b.getAction(a)||function(c,d){var a=nW[c],b=null;if(a){var e=a.ActionClass,f=a.cfg;(b=new e(d,f)).name=c,b.init()}return b}(a,b);if(!d)throw Error("There is no action named ".concat(a));return{action:d,methodName:c[1],arg:f}}function oo(a){var b=a.action,c=a.methodName,d=a.arg;if(b[c])b[c](d);else throw Error("Action(".concat(b.name,") doesn't have a method called ").concat(c))}var op={START:"start",SHOW_ENABLE:"showEnable",END:"end",ROLLBACK:"rollback",PROCESSING:"processing"},oq=function(b){function a(d,c){var a=b.call(this,d,c)||this;return a.callbackCaches={},a.emitCaches={},a.steps=c,a}return fl(a,b),a.prototype.init=function(){this.initContext(),b.prototype.init.call(this)},a.prototype.destroy=function(){b.prototype.destroy.call(this),this.steps=null,this.context&&(this.context.destroy(),this.context=null),this.callbackCaches=null,this.view=null},a.prototype.initEvents=function(){var a=this;I(this.steps,function(b,c){I(b,function(b){var d=a.getActionCallback(c,b);d&&a.bindEvent(b.trigger,d)})})},a.prototype.clearEvents=function(){var a=this;I(this.steps,function(b,c){I(b,function(b){var d=a.getActionCallback(c,b);d&&a.offEvent(b.trigger,d)})})},a.prototype.initContext=function(){var a=this.view,b=new om(a);this.context=b,I(this.steps,function(a){I(a,function(a){if(fz(a.action)){var d,e,c;a.actionObject={action:(d=a.action,e=b,(c=new nV(e)).callback=d,c.name="callback",c),methodName:"execute"}}else if(fT(a.action))a.actionObject=on(a.action,b,a.arg);else if(fB(a.action)){var f=a.action,g=fB(a.arg)?a.arg:[a.arg];a.actionObject=[],I(f,function(c,d){a.actionObject.push(on(c,b,g[d]))})}})})},a.prototype.isAllowStep=function(b){var a=this.currentStepName,c=this.steps;if(a===b||b===op.SHOW_ENABLE)return!0;if(b===op.PROCESSING)return a===op.START;if(b===op.START)return a!==op.PROCESSING;if(b===op.END)return a===op.PROCESSING||a===op.START;if(b===op.ROLLBACK){if(c[op.END])return a===op.END;if(a===op.START)return!0}return!1},a.prototype.isAllowExecute=function(b,a){if(this.isAllowStep(b)){var c=this.getKey(b,a);return(!a.once||!this.emitCaches[c])&&(!a.isEnable||a.isEnable(this.context))}return!1},a.prototype.enterStep=function(a){this.currentStepName=a,this.emitCaches={}},a.prototype.afterExecute=function(a,b){a!==op.SHOW_ENABLE&&this.currentStepName!==a&&this.enterStep(a);var c=this.getKey(a,b);this.emitCaches[c]=!0},a.prototype.getKey=function(b,a){return b+a.trigger+a.action},a.prototype.getActionCallback=function(e,a){var g=this,h=this.context,b=this.callbackCaches,f=a.actionObject;if(a.action&&f){var c=this.getKey(e,a);if(!b[c]){var d=function(b){h.event=b,g.isAllowExecute(e,a)?(fB(f)?I(f,function(a){h.event=b,oo(a)}):(h.event=b,oo(f)),g.afterExecute(e,a),a.callback&&(h.event=b,a.callback(h))):h.event=null};a.debounce?b[c]=gq(d,a.debounce.wait,a.debounce.immediate):a.throttle?b[c]=gG(d,a.throttle.wait,{leading:a.throttle.leading,trailing:a.throttle.trailing}):b[c]=d}return b[c]}return null},a.prototype.bindEvent=function(c,b){var a=c.split(":");"window"===a[0]?window.addEventListener(a[1],b):"document"===a[0]?document.addEventListener(a[1],b):this.view.on(c,b)},a.prototype.offEvent=function(c,b){var a=c.split(":");"window"===a[0]?window.removeEventListener(a[1],b):"document"===a[0]?document.removeEventListener(a[1],b):this.view.off(c,b)},a}(c8),or={};function b(a,b){or[b8(a)]=b}function c9(b){var e,c,d,a={point:{default:{fill:b.pointFillColor,r:b.pointSize,stroke:b.pointBorderColor,lineWidth:b.pointBorder,fillOpacity:b.pointFillOpacity},active:{stroke:b.pointActiveBorderColor,lineWidth:b.pointActiveBorder},selected:{stroke:b.pointSelectedBorderColor,lineWidth:b.pointSelectedBorder},inactive:{fillOpacity:b.pointInactiveFillOpacity,strokeOpacity:b.pointInactiveBorderOpacity}},hollowPoint:{default:{fill:b.hollowPointFillColor,lineWidth:b.hollowPointBorder,stroke:b.hollowPointBorderColor,strokeOpacity:b.hollowPointBorderOpacity,r:b.hollowPointSize},active:{stroke:b.hollowPointActiveBorderColor,strokeOpacity:b.hollowPointActiveBorderOpacity},selected:{lineWidth:b.hollowPointSelectedBorder,stroke:b.hollowPointSelectedBorderColor,strokeOpacity:b.hollowPointSelectedBorderOpacity},inactive:{strokeOpacity:b.hollowPointInactiveBorderOpacity}},area:{default:{fill:b.areaFillColor,fillOpacity:b.areaFillOpacity,stroke:null},active:{fillOpacity:b.areaActiveFillOpacity},selected:{fillOpacity:b.areaSelectedFillOpacity},inactive:{fillOpacity:b.areaInactiveFillOpacity}},hollowArea:{default:{fill:null,stroke:b.hollowAreaBorderColor,lineWidth:b.hollowAreaBorder,strokeOpacity:b.hollowAreaBorderOpacity},active:{fill:null,lineWidth:b.hollowAreaActiveBorder},selected:{fill:null,lineWidth:b.hollowAreaSelectedBorder},inactive:{strokeOpacity:b.hollowAreaInactiveBorderOpacity}},interval:{default:{fill:b.intervalFillColor,fillOpacity:b.intervalFillOpacity},active:{stroke:b.intervalActiveBorderColor,lineWidth:b.intervalActiveBorder},selected:{stroke:b.intervalSelectedBorderColor,lineWidth:b.intervalSelectedBorder},inactive:{fillOpacity:b.intervalInactiveFillOpacity,strokeOpacity:b.intervalInactiveBorderOpacity}},hollowInterval:{default:{fill:b.hollowIntervalFillColor,stroke:b.hollowIntervalBorderColor,lineWidth:b.hollowIntervalBorder,strokeOpacity:b.hollowIntervalBorderOpacity},active:{stroke:b.hollowIntervalActiveBorderColor,lineWidth:b.hollowIntervalActiveBorder,strokeOpacity:b.hollowIntervalActiveBorderOpacity},selected:{stroke:b.hollowIntervalSelectedBorderColor,lineWidth:b.hollowIntervalSelectedBorder,strokeOpacity:b.hollowIntervalSelectedBorderOpacity},inactive:{stroke:b.hollowIntervalInactiveBorderColor,lineWidth:b.hollowIntervalInactiveBorder,strokeOpacity:b.hollowIntervalInactiveBorderOpacity}},line:{default:{stroke:b.lineBorderColor,lineWidth:b.lineBorder,strokeOpacity:b.lineBorderOpacity,fill:null,lineAppendWidth:10,lineCap:"round",lineJoin:"round"},active:{lineWidth:b.lineActiveBorder},selected:{lineWidth:b.lineSelectedBorder},inactive:{strokeOpacity:b.lineInactiveBorderOpacity}}},f={title:{autoRotate:!0,position:"center",spacing:(c=b).axisTitleSpacing,style:{fill:c.axisTitleTextFillColor,fontSize:c.axisTitleTextFontSize,lineHeight:c.axisTitleTextLineHeight,textBaseline:"middle",fontFamily:c.fontFamily},iconStyle:{fill:c.axisDescriptionIconFillColor}},label:{autoRotate:!1,autoEllipsis:!1,autoHide:{type:"equidistance",cfg:{minGap:6}},offset:c.axisLabelOffset,style:{fill:c.axisLabelFillColor,fontSize:c.axisLabelFontSize,lineHeight:c.axisLabelLineHeight,fontFamily:c.fontFamily}},line:{style:{lineWidth:c.axisLineBorder,stroke:c.axisLineBorderColor}},grid:{line:{type:"line",style:{stroke:c.axisGridBorderColor,lineWidth:c.axisGridBorder,lineDash:c.axisGridLineDash}},alignTick:!0,animate:!0},tickLine:{style:{lineWidth:c.axisTickLineBorder,stroke:c.axisTickLineBorderColor},alignTick:!0,length:c.axisTickLineLength},subTickLine:null,animate:!0},g={title:null,marker:{symbol:"circle",spacing:(d=b).legendMarkerSpacing,style:{r:d.legendCircleMarkerSize,fill:d.legendMarkerColor}},itemName:{spacing:5,style:{fill:d.legendItemNameFillColor,fontFamily:d.fontFamily,fontSize:d.legendItemNameFontSize,lineHeight:d.legendItemNameLineHeight,fontWeight:d.legendItemNameFontWeight,textAlign:"start",textBaseline:"middle"}},itemStates:{active:{nameStyle:{opacity:.8}},unchecked:{nameStyle:{fill:"#D8D8D8"},markerStyle:{fill:"#D8D8D8",stroke:"#D8D8D8"}},inactive:{nameStyle:{fill:"#D8D8D8"},markerStyle:{opacity:.2}}},flipPage:!0,pageNavigator:{marker:{style:{size:d.legendPageNavigatorMarkerSize,inactiveFill:d.legendPageNavigatorMarkerInactiveFillColor,inactiveOpacity:d.legendPageNavigatorMarkerInactiveFillOpacity,fill:d.legendPageNavigatorMarkerFillColor,opacity:d.legendPageNavigatorMarkerFillOpacity}},text:{style:{fill:d.legendPageNavigatorTextFillColor,fontSize:d.legendPageNavigatorTextFontSize}}},animate:!1,maxItemWidth:200,itemSpacing:d.legendItemSpacing,itemMarginBottom:d.legendItemMarginBottom,padding:d.legendPadding};return{background:b.backgroundColor,defaultColor:b.brandColor,subColor:b.subColor,semanticRed:b.paletteSemanticRed,semanticGreen:b.paletteSemanticGreen,padding:"auto",fontFamily:b.fontFamily,columnWidthRatio:.5,maxColumnWidth:null,minColumnWidth:null,roseWidthRatio:.9999999,multiplePieWidthRatio:1/1.3,colors10:b.paletteQualitative10,colors20:b.paletteQualitative20,sequenceColors:b.paletteSequence,shapes:{point:["hollow-circle","hollow-square","hollow-bowtie","hollow-diamond","hollow-hexagon","hollow-triangle","hollow-triangle-down","circle","square","bowtie","diamond","hexagon","triangle","triangle-down","cross","tick","plus","hyphen","line",],line:["line","dash","dot","smooth"],area:["area","smooth","line","smooth-line"],interval:["rect","hollow-rect","line","tick"]},sizes:[1,10],geometries:{interval:{rect:{default:{style:a.interval.default},active:{style:a.interval.active},inactive:{style:a.interval.inactive},selected:{style:function(c){var b=c.geometry.coordinate;if(b.isPolar&&b.isTransposed){var d=c6(c.getModel(),b),g=d.startAngle,h=d.endAngle,e=(g+h)/2,f=7.5,i=f*Math.cos(e),j=f*Math.sin(e);return{matrix:at(null,[["t",i,j]])}}return a.interval.selected}}},"hollow-rect":{default:{style:a.hollowInterval.default},active:{style:a.hollowInterval.active},inactive:{style:a.hollowInterval.inactive},selected:{style:a.hollowInterval.selected}},line:{default:{style:a.hollowInterval.default},active:{style:a.hollowInterval.active},inactive:{style:a.hollowInterval.inactive},selected:{style:a.hollowInterval.selected}},tick:{default:{style:a.hollowInterval.default},active:{style:a.hollowInterval.active},inactive:{style:a.hollowInterval.inactive},selected:{style:a.hollowInterval.selected}},funnel:{default:{style:a.interval.default},active:{style:a.interval.active},inactive:{style:a.interval.inactive},selected:{style:a.interval.selected}},pyramid:{default:{style:a.interval.default},active:{style:a.interval.active},inactive:{style:a.interval.inactive},selected:{style:a.interval.selected}}},line:{line:{default:{style:a.line.default},active:{style:a.line.active},inactive:{style:a.line.inactive},selected:{style:a.line.selected}},dot:{default:{style:n(n({},a.line.default),{lineCap:null,lineDash:[1,1]})},active:{style:n(n({},a.line.active),{lineCap:null,lineDash:[1,1]})},inactive:{style:n(n({},a.line.inactive),{lineCap:null,lineDash:[1,1]})},selected:{style:n(n({},a.line.selected),{lineCap:null,lineDash:[1,1]})}},dash:{default:{style:n(n({},a.line.default),{lineCap:null,lineDash:[5.5,1]})},active:{style:n(n({},a.line.active),{lineCap:null,lineDash:[5.5,1]})},inactive:{style:n(n({},a.line.inactive),{lineCap:null,lineDash:[5.5,1]})},selected:{style:n(n({},a.line.selected),{lineCap:null,lineDash:[5.5,1]})}},smooth:{default:{style:a.line.default},active:{style:a.line.active},inactive:{style:a.line.inactive},selected:{style:a.line.selected}},hv:{default:{style:a.line.default},active:{style:a.line.active},inactive:{style:a.line.inactive},selected:{style:a.line.selected}},vh:{default:{style:a.line.default},active:{style:a.line.active},inactive:{style:a.line.inactive},selected:{style:a.line.selected}},hvh:{default:{style:a.line.default},active:{style:a.line.active},inactive:{style:a.line.inactive},selected:{style:a.line.selected}},vhv:{default:{style:a.line.default},active:{style:a.line.active},inactive:{style:a.line.inactive},selected:{style:a.line.selected}}},polygon:{polygon:{default:{style:a.interval.default},active:{style:a.interval.active},inactive:{style:a.interval.inactive},selected:{style:a.interval.selected}}},point:{circle:{default:{style:a.point.default},active:{style:a.point.active},inactive:{style:a.point.inactive},selected:{style:a.point.selected}},square:{default:{style:a.point.default},active:{style:a.point.active},inactive:{style:a.point.inactive},selected:{style:a.point.selected}},bowtie:{default:{style:a.point.default},active:{style:a.point.active},inactive:{style:a.point.inactive},selected:{style:a.point.selected}},diamond:{default:{style:a.point.default},active:{style:a.point.active},inactive:{style:a.point.inactive},selected:{style:a.point.selected}},hexagon:{default:{style:a.point.default},active:{style:a.point.active},inactive:{style:a.point.inactive},selected:{style:a.point.selected}},triangle:{default:{style:a.point.default},active:{style:a.point.active},inactive:{style:a.point.inactive},selected:{style:a.point.selected}},"triangle-down":{default:{style:a.point.default},active:{style:a.point.active},inactive:{style:a.point.inactive},selected:{style:a.point.selected}},"hollow-circle":{default:{style:a.hollowPoint.default},active:{style:a.hollowPoint.active},inactive:{style:a.hollowPoint.inactive},selected:{style:a.hollowPoint.selected}},"hollow-square":{default:{style:a.hollowPoint.default},active:{style:a.hollowPoint.active},inactive:{style:a.hollowPoint.inactive},selected:{style:a.hollowPoint.selected}},"hollow-bowtie":{default:{style:a.hollowPoint.default},active:{style:a.hollowPoint.active},inactive:{style:a.hollowPoint.inactive},selected:{style:a.hollowPoint.selected}},"hollow-diamond":{default:{style:a.hollowPoint.default},active:{style:a.hollowPoint.active},inactive:{style:a.hollowPoint.inactive},selected:{style:a.hollowPoint.selected}},"hollow-hexagon":{default:{style:a.hollowPoint.default},active:{style:a.hollowPoint.active},inactive:{style:a.hollowPoint.inactive},selected:{style:a.hollowPoint.selected}},"hollow-triangle":{default:{style:a.hollowPoint.default},active:{style:a.hollowPoint.active},inactive:{style:a.hollowPoint.inactive},selected:{style:a.hollowPoint.selected}},"hollow-triangle-down":{default:{style:a.hollowPoint.default},active:{style:a.hollowPoint.active},inactive:{style:a.hollowPoint.inactive},selected:{style:a.hollowPoint.selected}},cross:{default:{style:a.hollowPoint.default},active:{style:a.hollowPoint.active},inactive:{style:a.hollowPoint.inactive},selected:{style:a.hollowPoint.selected}},tick:{default:{style:a.hollowPoint.default},active:{style:a.hollowPoint.active},inactive:{style:a.hollowPoint.inactive},selected:{style:a.hollowPoint.selected}},plus:{default:{style:a.hollowPoint.default},active:{style:a.hollowPoint.active},inactive:{style:a.hollowPoint.inactive},selected:{style:a.hollowPoint.selected}},hyphen:{default:{style:a.hollowPoint.default},active:{style:a.hollowPoint.active},inactive:{style:a.hollowPoint.inactive},selected:{style:a.hollowPoint.selected}},line:{default:{style:a.hollowPoint.default},active:{style:a.hollowPoint.active},inactive:{style:a.hollowPoint.inactive},selected:{style:a.hollowPoint.selected}}},area:{area:{default:{style:a.area.default},active:{style:a.area.active},inactive:{style:a.area.inactive},selected:{style:a.area.selected}},smooth:{default:{style:a.area.default},active:{style:a.area.active},inactive:{style:a.area.inactive},selected:{style:a.area.selected}},line:{default:{style:a.hollowArea.default},active:{style:a.hollowArea.active},inactive:{style:a.hollowArea.inactive},selected:{style:a.hollowArea.selected}},"smooth-line":{default:{style:a.hollowArea.default},active:{style:a.hollowArea.active},inactive:{style:a.hollowArea.inactive},selected:{style:a.hollowArea.selected}}},schema:{candle:{default:{style:a.hollowInterval.default},active:{style:a.hollowInterval.active},inactive:{style:a.hollowInterval.inactive},selected:{style:a.hollowInterval.selected}},box:{default:{style:a.hollowInterval.default},active:{style:a.hollowInterval.active},inactive:{style:a.hollowInterval.inactive},selected:{style:a.hollowInterval.selected}}},edge:{line:{default:{style:a.line.default},active:{style:a.line.active},inactive:{style:a.line.inactive},selected:{style:a.line.selected}},vhv:{default:{style:a.line.default},active:{style:a.line.active},inactive:{style:a.line.inactive},selected:{style:a.line.selected}},smooth:{default:{style:a.line.default},active:{style:a.line.active},inactive:{style:a.line.inactive},selected:{style:a.line.selected}},arc:{default:{style:a.line.default},active:{style:a.line.active},inactive:{style:a.line.inactive},selected:{style:a.line.selected}}},violin:{violin:{default:{style:a.line.default},active:{style:a.line.active},inactive:{style:a.line.inactive},selected:{style:a.line.selected}},smooth:{default:{style:a.line.default},active:{style:a.line.active},inactive:{style:a.line.inactive},selected:{style:a.line.selected}},hollow:{default:{style:a.hollowArea.default},active:{style:a.hollowArea.active},inactive:{style:a.hollowArea.inactive},selected:{style:a.hollowArea.selected}},"hollow-smooth":{default:{style:a.hollowArea.default},active:{style:a.hollowArea.active},inactive:{style:a.hollowArea.inactive},selected:{style:a.hollowArea.selected}}}},components:{axis:{common:f,top:{position:"top",grid:null,title:null,verticalLimitLength:.5},bottom:{position:"bottom",grid:null,title:null,verticalLimitLength:.5},left:{position:"left",title:null,line:null,tickLine:null,verticalLimitLength:1/3},right:{position:"right",title:null,line:null,tickLine:null,verticalLimitLength:1/3},circle:{title:null,grid:gs({},f.grid,{line:{type:"line"}})},radius:{title:null,grid:gs({},f.grid,{line:{type:"circle"}})}},legend:{common:g,right:{layout:"vertical",padding:b.legendVerticalPadding},left:{layout:"vertical",padding:b.legendVerticalPadding},top:{layout:"horizontal",padding:b.legendHorizontalPadding},bottom:{layout:"horizontal",padding:b.legendHorizontalPadding},continuous:{title:null,background:null,track:{},rail:{type:"color",size:b.sliderRailHeight,defaultLength:b.sliderRailWidth,style:{fill:b.sliderRailFillColor,stroke:b.sliderRailBorderColor,lineWidth:b.sliderRailBorder}},label:{align:"rail",spacing:4,formatter:null,style:{fill:b.sliderLabelTextFillColor,fontSize:b.sliderLabelTextFontSize,lineHeight:b.sliderLabelTextLineHeight,textBaseline:"middle",fontFamily:b.fontFamily}},handler:{size:b.sliderHandlerWidth,style:{fill:b.sliderHandlerFillColor,stroke:b.sliderHandlerBorderColor}},slidable:!0,padding:g.padding}},tooltip:{showContent:!0,follow:!0,showCrosshairs:!1,showMarkers:!0,shared:!1,enterable:!1,position:"auto",marker:{symbol:"circle",stroke:"#fff",shadowBlur:10,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"rgba(0,0,0,0.09)",lineWidth:2,r:4},crosshairs:{line:{style:{stroke:b.tooltipCrosshairsBorderColor,lineWidth:b.tooltipCrosshairsBorder}},text:null,textBackground:{padding:2,style:{fill:"rgba(0, 0, 0, 0.25)",lineWidth:0,stroke:null}},follow:!1},domStyles:((e={})["".concat(cX)]={position:"absolute",visibility:"hidden",zIndex:8,transition:"left 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s, top 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s",backgroundColor:b.tooltipContainerFillColor,opacity:b.tooltipContainerFillOpacity,boxShadow:b.tooltipContainerShadow,borderRadius:"".concat(b.tooltipContainerBorderRadius,"px"),color:b.tooltipTextFillColor,fontSize:"".concat(b.tooltipTextFontSize,"px"),fontFamily:b.fontFamily,lineHeight:"".concat(b.tooltipTextLineHeight,"px"),padding:"0 12px 0 12px"},e["".concat(cY)]={marginBottom:"12px",marginTop:"12px"},e["".concat(cZ)]={margin:0,listStyleType:"none",padding:0},e["".concat(c$)]={listStyleType:"none",padding:0,marginBottom:"12px",marginTop:"12px",marginLeft:0,marginRight:0},e["".concat(c_)]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},e["".concat(c0)]={display:"inline-block",float:"right",marginLeft:"30px"},e)},annotation:{arc:{style:{stroke:b.annotationArcBorderColor,lineWidth:b.annotationArcBorder},animate:!0},line:{style:{stroke:b.annotationLineBorderColor,lineDash:b.annotationLineDash,lineWidth:b.annotationLineBorder},text:{position:"start",autoRotate:!0,style:{fill:b.annotationTextFillColor,stroke:b.annotationTextBorderColor,lineWidth:b.annotationTextBorder,fontSize:b.annotationTextFontSize,textAlign:"start",fontFamily:b.fontFamily,textBaseline:"bottom"}},animate:!0},text:{style:{fill:b.annotationTextFillColor,stroke:b.annotationTextBorderColor,lineWidth:b.annotationTextBorder,fontSize:b.annotationTextFontSize,textBaseline:"middle",textAlign:"start",fontFamily:b.fontFamily},animate:!0},region:{top:!1,style:{lineWidth:b.annotationRegionBorder,stroke:b.annotationRegionBorderColor,fill:b.annotationRegionFillColor,fillOpacity:b.annotationRegionFillOpacity},animate:!0},image:{top:!1,animate:!0},dataMarker:{top:!0,point:{style:{r:3,stroke:b.brandColor,lineWidth:2}},line:{style:{stroke:b.annotationLineBorderColor,lineWidth:b.annotationLineBorder},length:b.annotationDataMarkerLineLength},text:{style:{textAlign:"start",fill:b.annotationTextFillColor,stroke:b.annotationTextBorderColor,lineWidth:b.annotationTextBorder,fontSize:b.annotationTextFontSize,fontFamily:b.fontFamily}},direction:"upward",autoAdjust:!0,animate:!0},dataRegion:{style:{region:{fill:b.annotationRegionFillColor,fillOpacity:b.annotationRegionFillOpacity},text:{textAlign:"center",textBaseline:"bottom",fill:b.annotationTextFillColor,stroke:b.annotationTextBorderColor,lineWidth:b.annotationTextBorder,fontSize:b.annotationTextFontSize,fontFamily:b.fontFamily}},animate:!0}},slider:{common:{padding:[8,8,8,8],backgroundStyle:{fill:b.cSliderBackgroundFillColor,opacity:b.cSliderBackgroundFillOpacity},foregroundStyle:{fill:b.cSliderForegroundFillColor,opacity:b.cSliderForegroundFillOpacity},handlerStyle:{width:b.cSliderHandlerWidth,height:b.cSliderHandlerHeight,fill:b.cSliderHandlerFillColor,opacity:b.cSliderHandlerFillOpacity,stroke:b.cSliderHandlerBorderColor,lineWidth:b.cSliderHandlerBorder,radius:b.cSliderHandlerBorderRadius,highLightFill:b.cSliderHandlerHighlightFillColor},textStyle:{fill:b.cSliderTextFillColor,opacity:b.cSliderTextFillOpacity,fontSize:b.cSliderTextFontSize,lineHeight:b.cSliderTextLineHeight,fontWeight:b.cSliderTextFontWeight,stroke:b.cSliderTextBorderColor,lineWidth:b.cSliderTextBorder}}},scrollbar:{common:{padding:[8,8,8,8]},default:{style:{trackColor:b.scrollbarTrackFillColor,thumbColor:b.scrollbarThumbFillColor}},hover:{style:{thumbColor:b.scrollbarThumbHighlightFillColor}}}},labels:{offset:12,style:{fill:b.labelFillColor,fontSize:b.labelFontSize,fontFamily:b.fontFamily,stroke:b.labelBorderColor,lineWidth:b.labelBorder},fillColorDark:b.labelFillColorDark,fillColorLight:b.labelFillColorLight,autoRotate:!0},innerLabels:{style:{fill:b.innerLabelFillColor,fontSize:b.innerLabelFontSize,fontFamily:b.fontFamily,stroke:b.innerLabelBorderColor,lineWidth:b.innerLabelBorder},autoRotate:!0},overflowLabels:{style:{fill:b.overflowLabelFillColor,fontSize:b.overflowLabelFontSize,fontFamily:b.fontFamily,stroke:b.overflowLabelBorderColor,lineWidth:b.overflowLabelBorder}},pieLabels:{labelHeight:14,offset:10,labelLine:{style:{lineWidth:b.labelLineBorder}},autoRotate:!0}}}var os={100:"#000",95:"#0D0D0D",85:"#262626",65:"#595959",45:"#8C8C8C",25:"#BFBFBF",15:"#D9D9D9",6:"#F0F0F0"},ot={100:"#FFFFFF",95:"#F2F2F2",85:"#D9D9D9",65:"#A6A6A6",45:"#737373",25:"#404040",15:"#262626",6:"#0F0F0F"},ou=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#6F5EF9","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3",],ov=["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#6F5EF9","#D3CEFD","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED",],ow=["#B8E1FF","#9AC5FF","#7DAAFF","#5B8FF9","#3D76DD","#085EC0","#0047A5","#00318A","#001D70",],da=function(b){void 0===b&&(b={});var c=b.paletteQualitative10,d=void 0===c?ou:c,e=b.paletteQualitative20,f=b.brandColor,a=void 0===f?d[0]:f,g={backgroundColor:"transparent",brandColor:a,subColor:"rgba(0,0,0,0.05)",paletteQualitative10:d,paletteQualitative20:void 0===e?ov:e,paletteSemanticRed:"#F4664A",paletteSemanticGreen:"#30BF78",paletteSemanticYellow:"#FAAD14",paletteSequence:ow,fontFamily:'"Segoe UI", Roboto, "Helvetica Neue", Arial,\n    "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",\n    "Noto Color Emoji"',axisLineBorderColor:os[25],axisLineBorder:1,axisLineDash:null,axisTitleTextFillColor:os[65],axisTitleTextFontSize:12,axisTitleTextLineHeight:12,axisTitleTextFontWeight:"normal",axisTitleSpacing:12,axisDescriptionIconFillColor:ot[85],axisTickLineBorderColor:os[25],axisTickLineLength:4,axisTickLineBorder:1,axisSubTickLineBorderColor:os[15],axisSubTickLineLength:2,axisSubTickLineBorder:1,axisLabelFillColor:os[45],axisLabelFontSize:12,axisLabelLineHeight:12,axisLabelFontWeight:"normal",axisLabelOffset:8,axisGridBorderColor:os[15],axisGridBorder:1,axisGridLineDash:null,legendTitleTextFillColor:os[45],legendTitleTextFontSize:12,legendTitleTextLineHeight:21,legendTitleTextFontWeight:"normal",legendMarkerColor:a,legendMarkerSpacing:8,legendMarkerSize:4,legendCircleMarkerSize:4,legendSquareMarkerSize:4,legendLineMarkerSize:5,legendItemNameFillColor:os[65],legendItemNameFontSize:12,legendItemNameLineHeight:12,legendItemNameFontWeight:"normal",legendItemSpacing:24,legendItemMarginBottom:12,legendPadding:[8,8,8,8],legendHorizontalPadding:[8,0,8,0],legendVerticalPadding:[0,8,0,8],legendPageNavigatorMarkerSize:12,legendPageNavigatorMarkerInactiveFillColor:os[100],legendPageNavigatorMarkerInactiveFillOpacity:.45,legendPageNavigatorMarkerFillColor:os[100],legendPageNavigatorMarkerFillOpacity:1,legendPageNavigatorTextFillColor:os[45],legendPageNavigatorTextFontSize:12,sliderRailFillColor:os[15],sliderRailBorder:0,sliderRailBorderColor:null,sliderRailWidth:100,sliderRailHeight:12,sliderLabelTextFillColor:os[45],sliderLabelTextFontSize:12,sliderLabelTextLineHeight:12,sliderLabelTextFontWeight:"normal",sliderHandlerFillColor:os[6],sliderHandlerWidth:10,sliderHandlerHeight:14,sliderHandlerBorder:1,sliderHandlerBorderColor:os[25],annotationArcBorderColor:os[15],annotationArcBorder:1,annotationLineBorderColor:os[25],annotationLineBorder:1,annotationLineDash:null,annotationTextFillColor:os[65],annotationTextFontSize:12,annotationTextLineHeight:12,annotationTextFontWeight:"normal",annotationTextBorderColor:null,annotationTextBorder:0,annotationRegionFillColor:os[100],annotationRegionFillOpacity:.06,annotationRegionBorder:0,annotationRegionBorderColor:null,annotationDataMarkerLineLength:16,tooltipCrosshairsBorderColor:os[25],tooltipCrosshairsBorder:1,tooltipCrosshairsLineDash:null,tooltipContainerFillColor:"rgb(255, 255, 255)",tooltipContainerFillOpacity:.95,tooltipContainerShadow:"0px 0px 10px #aeaeae",tooltipContainerBorderRadius:3,tooltipTextFillColor:os[65],tooltipTextFontSize:12,tooltipTextLineHeight:12,tooltipTextFontWeight:"bold",labelFillColor:os[65],labelFillColorDark:"#2c3542",labelFillColorLight:"#ffffff",labelFontSize:12,labelLineHeight:12,labelFontWeight:"normal",labelBorderColor:null,labelBorder:0,innerLabelFillColor:ot[100],innerLabelFontSize:12,innerLabelLineHeight:12,innerLabelFontWeight:"normal",innerLabelBorderColor:null,innerLabelBorder:0,overflowLabelFillColor:os[65],overflowLabelFontSize:12,overflowLabelLineHeight:12,overflowLabelFontWeight:"normal",overflowLabelBorderColor:ot[100],overflowLabelBorder:1,labelLineBorder:1,labelLineBorderColor:os[25],cSliderRailHieght:16,cSliderBackgroundFillColor:"#416180",cSliderBackgroundFillOpacity:.05,cSliderForegroundFillColor:"#5B8FF9",cSliderForegroundFillOpacity:.15,cSliderHandlerHeight:24,cSliderHandlerWidth:10,cSliderHandlerFillColor:"#F7F7F7",cSliderHandlerFillOpacity:1,cSliderHandlerHighlightFillColor:"#FFF",cSliderHandlerBorderColor:"#BFBFBF",cSliderHandlerBorder:1,cSliderHandlerBorderRadius:2,cSliderTextFillColor:"#000",cSliderTextFillOpacity:.45,cSliderTextFontSize:12,cSliderTextLineHeight:12,cSliderTextFontWeight:"normal",cSliderTextBorderColor:null,cSliderTextBorder:0,scrollbarTrackFillColor:"rgba(0,0,0,0)",scrollbarThumbFillColor:"rgba(0,0,0,0.15)",scrollbarThumbHighlightFillColor:"rgba(0,0,0,0.2)",pointFillColor:a,pointFillOpacity:.95,pointSize:4,pointBorder:1,pointBorderColor:ot[100],pointBorderOpacity:1,pointActiveBorderColor:os[100],pointSelectedBorder:2,pointSelectedBorderColor:os[100],pointInactiveFillOpacity:.3,pointInactiveBorderOpacity:.3,hollowPointSize:4,hollowPointBorder:1,hollowPointBorderColor:a,hollowPointBorderOpacity:.95,hollowPointFillColor:ot[100],hollowPointActiveBorder:1,hollowPointActiveBorderColor:os[100],hollowPointActiveBorderOpacity:1,hollowPointSelectedBorder:2,hollowPointSelectedBorderColor:os[100],hollowPointSelectedBorderOpacity:1,hollowPointInactiveBorderOpacity:.3,lineBorder:2,lineBorderColor:a,lineBorderOpacity:1,lineActiveBorder:3,lineSelectedBorder:3,lineInactiveBorderOpacity:.3,areaFillColor:a,areaFillOpacity:.25,areaActiveFillColor:a,areaActiveFillOpacity:.5,areaSelectedFillColor:a,areaSelectedFillOpacity:.5,areaInactiveFillOpacity:.3,hollowAreaBorderColor:a,hollowAreaBorder:2,hollowAreaBorderOpacity:1,hollowAreaActiveBorder:3,hollowAreaActiveBorderColor:os[100],hollowAreaSelectedBorder:3,hollowAreaSelectedBorderColor:os[100],hollowAreaInactiveBorderOpacity:.3,intervalFillColor:a,intervalFillOpacity:.95,intervalActiveBorder:1,intervalActiveBorderColor:os[100],intervalActiveBorderOpacity:1,intervalSelectedBorder:2,intervalSelectedBorderColor:os[100],intervalSelectedBorderOpacity:1,intervalInactiveBorderOpacity:.3,intervalInactiveFillOpacity:.3,hollowIntervalBorder:2,hollowIntervalBorderColor:a,hollowIntervalBorderOpacity:1,hollowIntervalFillColor:ot[100],hollowIntervalActiveBorder:2,hollowIntervalActiveBorderColor:os[100],hollowIntervalSelectedBorder:3,hollowIntervalSelectedBorderColor:os[100],hollowIntervalSelectedBorderOpacity:1,hollowIntervalInactiveBorderOpacity:.3};return n(n({},g),b)};function bL(a){var b=a.styleSheet,c=fm(a,["styleSheet"]),d=da(void 0===b?{}:b);return gs({},c9(d),c)}da();var db={default:bL({})};function ox(a){return gB(db,b8(a),db.default)}function oy(b,c,a){var d=a.translate(b),e=a.translate(c);return f6(d,e)}function oz(a,d,b){var e=b.coordinate,c=b.getYScale(),h=c.field,f=e.invert(d),i=c.invert(f.y),g=fH(a,function(b){var a=b[gP];return a[h][0]<=i&&a[h][1]>=i});return g||a[a.length-1]}var oA=J(function(a){if(a.isCategory)return 1;for(var d=a.values,g=d.length,b=a.translate(d[0]),e=b,f=0;f<g;f++){var h=d[f],c=a.translate(h);c<b&&(b=c),c>e&&(e=c)}return(e-b)/(g-1)});function oB(a){var j,g,e,h,i,k=(g=ge((j=a).attributes),fw(g,function(a){return fv(gO,a.type)}));try{for(var d=fp(k),b=d.next();!b.done;b=d.next()){var f=b.value,c=f.getScale(f.type);if(c&&c.isLinear){var l=gB(a.scaleDefs,c.field),m=nI(c,l,f.type,a.type);if("cat"!==m){i=c;break}}}}catch(n){e={error:n}}finally{try{b&&!b.done&&(h=d.return)&&h.call(d)}finally{if(e)throw e.error}}var o=a.getXScale(),p=a.getYScale();return i||p||o}function oC(m,c,h){if(0===c.length)return null;var u=h.type,b=h.getXScale(),r=h.getYScale(),f=b.field,v=r.field,a=null;if("heatmap"===u||"point"===u){for(var w=h.coordinate.invert(m),J=b.invert(w.x),K=r.invert(w.y),x=1/0,e=0;e<c.length;e++){var y=c[e],i=y[gP],z=Math.pow(i[f]-J,2)+Math.pow(i[v]-K,2);z<x&&(x=z,a=y)}return a}var A,B,s,n,o,C,D,E,p,F=c[0],g=c[c.length-1],d=(A=m,s=(B=h).coordinate,n=B.getXScale(),o=n.range,C=o[o.length-1],D=o[0],E=s.invert(A),p=E.x,s.isPolar&&p>(1+C)/2&&(p=D),n.translate(n.invert(p))),G=F[gP][f],L=F[gP][v],M=g[gP][f],H=r.isLinear&&fB(L);if(fB(G)){for(var e=0;e<c.length;e++){var j=c[e],i=j[gP];if(b.translate(i[f][0])<=d&&b.translate(i[f][1])>=d){if(H)fB(a)||(a=[]),a.push(j);else{a=j;break}}}fB(a)&&(a=oz(a,m,h))}else{var l=void 0;if(b.isLinear||"timeCat"===b.type){if((d>b.translate(M)||d<b.translate(G))&&(d>b.max||d<b.min))return null;for(var t=0,q=c.length-1,k=void 0;t<=q;){var I=c[k=Math.floor((t+q)/2)][gP][f];if(oy(I,d,b))return c[k];b.translate(I)<=b.translate(d)?(t=k+1,g=c[k],l=c[k+1]):(0===q&&(g=c[0]),q=k-1)}}else{for(var e=0;e<c.length;e++){var j=c[e],i=j[gP];if(oy(i[f],d,b)){if(H)fB(a)||(a=[]),a.push(j);else{a=j;break}}else b.translate(i[f])<=d&&(g=j,l=c[e+1])}fB(a)&&(a=oz(a,m,h))}g&&l&&Math.abs(b.translate(g[gP][f])-d)>Math.abs(b.translate(l[gP][f])-d)&&(g=l)}var N=oA(h.getXScale());return!a&&Math.abs(b.translate(g[gP][f])-d)<=N/2&&(a=g),a}function dc(f,a,l,u){void 0===l&&(l=""),void 0===u&&(u=!1);var m,v,g,h,i,o,b,w,x,c,p,q,d=f[gP],E=(i=d,o=a,b=l,w=o.getAttribute("position").getFields(),x=o.scales,c=fz(b)||!b?w[0]:b,p=x[c],q=p?p.getText(i[c]):i[c]||c,fz(b)?b(q,i):q),r=a.tooltipOption,F=a.theme.defaultColor,y=[];function z(b,a){if(u|| !fA(a)&&""!==a){var c={title:E,data:d,mappingData:f,name:b,value:a,color:f.color||F,marker:!0};y.push(c)}}if(fC(r)){var A=r.fields,B=r.callback;if(B){var G=A.map(function(a){return f[gP][a]}),H=B.apply(void 0,fs([],fq(G),!1)),I=n({data:f[gP],mappingData:f,title:E,color:f.color||F,marker:!0},H);y.push(I)}else{var J=a.scales;try{for(var j=fp(A),e=j.next();!e.done;e=j.next()){var s=e.value;if(!fA(d[s])){var C=J[s];g=nJ(C),h=C.getText(d[s]),z(g,h)}}}catch(K){m={error:K}}finally{try{e&&!e.done&&(v=j.return)&&v.call(j)}finally{if(m)throw m.error}}}}else{var D,t,k,L=oB(a);h=(D=d,t=L,k=D[t.field],fB(k)?k.map(function(a){return t.getText(a)}).join("-"):t.getText(k)),g=function(d,b){var a,c=b.getGroupScales();if(c.length&&(a=c[0]),a){var e=a.field;return a.getText(d[e])}var f=oB(b);return nJ(f)}(d,a),z(g,h)}return y}function oD(a,j,k,l){var d,g,m=l.showNil,h=[],e=a.dataArray;if(!gv(e)){a.sort(e);try{for(var c=fp(e),b=c.next();!b.done;b=c.next()){var n=b.value,f=oC(j,n,a);if(f){var o=a.getElementId(f),p=a.elementsMap[o];if("heatmap"===a.type||p.visible){var i=dc(f,a,k,m);i.length&&h.push(i)}}}}catch(q){d={error:q}}finally{try{b&&!b.done&&(g=c.return)&&g.call(c)}finally{if(d)throw d.error}}}return h}function oE(b,c,f,g){var h=g.showNil,d=[],a=b.container.getShape(c.x,c.y);if(a&&a.get("visible")&&a.get("origin")){var e=dc(a.get("origin").mappingData,b,f,h);e.length&&d.push(e)}return d}function oF(l,d,a){var g,i,j=[],m=l.geometries,n=a.shared,e=a.title,o=a.reversed;try{for(var f=fp(m),c=f.next();!c.done;c=f.next()){var b=c.value;if(b.visible&& !1!==b.tooltipOption){var k=b.type,h=void 0;(h=["point","edge","polygon"].includes(k)?oE(b,d,e,a):["area","line","path","heatmap"].includes(k)?oD(b,d,e,a):!1!==n?oD(b,d,e,a):oE(b,d,e,a)).length&&(o&&h.reverse(),j.push(h))}}}catch(p){g={error:p}}finally{try{c&&!c.done&&(i=f.return)&&i.call(f)}finally{if(g)throw g.error}}return j}function oG(b){void 0===b&&(b=0);var a=fB(b)?b:[b];switch(a.length){case 0:a=[0,0,0,0];break;case 1:a=[,,,].fill(a[0]);break;case 2:a=fs(fs([],fq(a),!1),fq(a),!1);break;case 3:a=fs(fs([],fq(a),!1),[a[1]],!1);break;default:a=a.slice(0,4)}return a}var oH={};function F(a,b){oH[a]=b}function oI(a){return oH[a]}var oJ=function(){function a(a){this.option=this.wrapperOption(a)}return a.prototype.update=function(a){return this.option=this.wrapperOption(a),this},a.prototype.hasAction=function(a){return f$(this.option.actions,function(b){return b[0]===a})},a.prototype.create=function(d,e){var f,b=this.option,a=b.type,g=b.cfg,c="theta"===a,h=n({start:d,end:e},g),i=l6[(f=c?"polar":a).toLowerCase()];return this.coordinate=new i(h),this.coordinate.type=a,c&&!this.hasAction("transpose")&&this.transpose(),this.execActions(),this.coordinate},a.prototype.adjust=function(a,b){return this.coordinate.update({start:a,end:b}),this.coordinate.resetMatrix(),this.execActions(["scale","rotate","translate"]),this.coordinate},a.prototype.rotate=function(a){return this.option.actions.push(["rotate",a]),this},a.prototype.reflect=function(a){return this.option.actions.push(["reflect",a]),this},a.prototype.scale=function(a,b){return this.option.actions.push(["scale",a,b]),this},a.prototype.transpose=function(){return this.option.actions.push(["transpose"]),this},a.prototype.getOption=function(){return this.option},a.prototype.getCoordinate=function(){return this.coordinate},a.prototype.wrapperOption=function(a){return n({type:"rect",actions:[],cfg:{}},a)},a.prototype.execActions=function(a){var b=this;I(this.option.actions,function(f){var c,d=fq(f),e=d[0],g=d.slice(1);(fA(a)||a.includes(e))&&(c=b.coordinate)[e].apply(c,fs([],fq(g),!1))})},a}(),oK=function(){function a(b,a,c){this.view=b,this.gEvent=a,this.data=c,this.type=a.type}return a.fromData=function(b,c,d){return new a(b,new hr(c,{}),d)},Object.defineProperty(a.prototype,"target",{get:function(){return this.gEvent.target},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"event",{get:function(){return this.gEvent.originalEvent},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"x",{get:function(){return this.gEvent.x},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"y",{get:function(){return this.gEvent.y},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"clientX",{get:function(){return this.gEvent.clientX},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"clientY",{get:function(){return this.gEvent.clientY},enumerable:!1,configurable:!0}),a.prototype.toString=function(){return"[Event (type=".concat(this.type,")]")},a.prototype.clone=function(){return new a(this.view,this.gEvent,this.data)},a}();function oL(a){var b=a.getController("axis"),c=a.getController("legend"),d=a.getController("annotation"),e=a.getController("slider"),f=a.getController("scrollbar");[b,e,f,c,d].forEach(function(a){a&&a.layout()})}var oM=function(){function a(){this.scales=new Map,this.syncScales=new Map}return a.prototype.createScale=function(i,d,a,e){var f=a,b=this.getScaleMeta(e);if(0===d.length&&b){var c=b.scale,g={type:c.type};c.isCategory&&(g.values=c.values),f=gs(g,b.scaleDef,a)}var h=function(a,g,c){var e=g||[];if(f5(a)||fA(fJ(e,a))&&gv(c))return new(lD("identity"))({field:a.toString(),values:[a]});var d,b,f=fW(e,a),h=gB(c,"type",(d=f[0],b="linear",nH.test(d)?b="timeCat":fT(d)&&(b="cat"),b));return new(lD(h))(n({field:a,values:f},c))}(i,d,f);return this.cacheScale(h,a,e),h},a.prototype.sync=function(a,b){var c=this;this.syncScales.forEach(function(d,e){var f=Number.MAX_SAFE_INTEGER,g=Number.MIN_SAFE_INTEGER,h=[];I(d,function(b){var a=c.getScale(b);g=f5(a.max)?Math.max(g,a.max):g,f=f5(a.min)?Math.min(f,a.min):f,I(a.values,function(a){h.includes(a)||h.push(a)})}),I(d,function(e){var d=c.getScale(e);if(d.isContinuous)d.change({min:f,max:g,values:h});else if(d.isCategory){var i=d.range,j=c.getScaleMeta(e);h&&!gB(j,["scaleDef","range"])&&(i=nK(gs({},d,{values:h}),a,b)),d.change({values:h,range:i})}})})},a.prototype.cacheScale=function(e,f,b){var a=this.getScaleMeta(b);a&&a.scale.type===e.type?(function(c,a){if("identity"!==c.type&&"identity"!==a.type){var d={};for(var b in a)Object.prototype.hasOwnProperty.call(a,b)&&(d[b]=a[b]);c.change(d)}}(a.scale,e),a.scaleDef=f):(a={key:b,scale:e,scaleDef:f},this.scales.set(b,a));var c=this.getSyncKey(a);if(a.syncKey=c,this.removeFromSyncScales(b),c){var d=this.syncScales.get(c);d||(d=[],this.syncScales.set(c,d)),d.push(b)}},a.prototype.getScale=function(c){var a=this.getScaleMeta(c);if(!a){var d=fY(c.split("-")),b=this.syncScales.get(d);b&&b.length&&(a=this.getScaleMeta(b[0]))}return a&&a.scale},a.prototype.deleteScale=function(b){var c=this.getScaleMeta(b);if(c){var e=c.syncKey,a=this.syncScales.get(e);if(a&&a.length){var d=a.indexOf(b);-1!==d&&a.splice(d,1)}}this.scales.delete(b)},a.prototype.clear=function(){this.scales.clear(),this.syncScales.clear()},a.prototype.removeFromSyncScales=function(a){var b=this;this.syncScales.forEach(function(c,e){var d=c.indexOf(a);if(-1!==d)return c.splice(d,1),0===c.length&&b.syncScales.delete(e),!1})},a.prototype.getSyncKey=function(b){var c=b.scale,d=b.scaleDef,e=c.field,a=gB(d,["sync"]);return!0===a?e:!1===a?void 0:a},a.prototype.getScaleMeta=function(a){return this.scales.get(a)},a}(),oN=function(){function a(a,b,c,d){void 0===a&&(a=0),void 0===b&&(b=0),void 0===c&&(c=0),void 0===d&&(d=0),this.top=a,this.right=b,this.bottom=c,this.left=d}return a.instance=function(b,c,d,e){return void 0===b&&(b=0),void 0===c&&(c=0),void 0===d&&(d=0),void 0===e&&(e=0),new a(b,c,d,e)},a.prototype.max=function(b){var a=fq(b,4),c=a[0],d=a[1],e=a[2],f=a[3];return this.top=Math.max(this.top,c),this.right=Math.max(this.right,d),this.bottom=Math.max(this.bottom,e),this.left=Math.max(this.left,f),this},a.prototype.shrink=function(b){var a=fq(b,4),c=a[0],d=a[1],e=a[2],f=a[3];return this.top+=c,this.right+=d,this.bottom+=e,this.left+=f,this},a.prototype.inc=function(a,d){var b=a.width,c=a.height;switch(d){case ib.TOP:case ib.TOP_LEFT:case ib.TOP_RIGHT:this.top+=c;break;case ib.RIGHT:case ib.RIGHT_TOP:case ib.RIGHT_BOTTOM:this.right+=b;break;case ib.BOTTOM:case ib.BOTTOM_LEFT:case ib.BOTTOM_RIGHT:this.bottom+=c;break;case ib.LEFT:case ib.LEFT_TOP:case ib.LEFT_BOTTOM:this.left+=b}return this},a.prototype.getPadding=function(){return[this.top,this.right,this.bottom,this.left]},a.prototype.clone=function(){return new(a.bind.apply(a,fs([void 0],fq(this.getPadding()),!1)))},a}();function oO(c,a,b){var d=b.instance();a.forEach(function(a){a.autoPadding=d.max(a.autoPadding.getPadding())})}var dd=function(b){function a(c){var a=b.call(this,{visible:c.visible})||this;a.views=[],a.geometries=[],a.controllers=[],a.interactions={},a.limitInPlot=!1,a.options={data:[],animate:!0},a.usedControllers=Object.keys(oH),a.scalePool=new oM,a.layoutFunc=oL,a.isPreMouseInPlot=!1,a.isDataChanged=!1,a.isCoordinateChanged=!1,a.createdScaleKeys=new Map,a.onCanvasEvent=function(b){var c=b.name;if(!c.includes(":")){var d=a.createViewEvent(b);a.doPlotEvent(d),a.emit(c,d)}},a.onDelegateEvents=function(b){var c=b.name;if(c.includes(":")){var d=a.createViewEvent(b);a.emit(c,d)}};var e=c.id,g=void 0===e?gI("view"):e,h=c.parent,i=c.canvas,j=c.backgroundGroup,k=c.middleGroup,l=c.foregroundGroup,f=c.region,m=c.padding,o=c.appendPadding,d=c.theme,p=c.options,q=c.limitInPlot,r=c.syncViewPadding;return a.parent=h,a.canvas=i,a.backgroundGroup=j,a.middleGroup=k,a.foregroundGroup=l,a.region=void 0===f?{start:{x:0,y:0},end:{x:1,y:1}}:f,a.padding=m,a.appendPadding=o,a.options=n(n({},a.options),p),a.limitInPlot=q,a.id=g,a.syncViewPadding=r,a.themeObject=fC(d)?gs({},ox("default"),bL(d)):ox(d),a.init(),a}return fl(a,b),a.prototype.setLayout=function(a){this.layoutFunc=a},a.prototype.init=function(){this.calculateViewBBox(),this.initEvents(),this.initComponentController(),this.initOptions()},a.prototype.render=function(a,b){void 0===a&&(a=!1),this.emit(id.BEFORE_RENDER,oK.fromData(this,id.BEFORE_RENDER,b)),this.paint(a),this.emit(id.AFTER_RENDER,oK.fromData(this,id.AFTER_RENDER,b)),!1===this.visible&&this.changeVisible(!1)},a.prototype.clear=function(){var e=this;this.emit(id.BEFORE_CLEAR),this.filteredData=[],this.coordinateInstance=void 0,this.isDataChanged=!1,this.isCoordinateChanged=!1;for(var b=this.geometries,a=0;a<b.length;a++)b[a].clear(),b[a].container.remove(!0),b[a].labelsContainer.remove(!0);this.geometries=[];for(var c=this.controllers,a=0;a<c.length;a++)"annotation"===c[a].name?c[a].clear(!0):c[a].clear();this.createdScaleKeys.forEach(function(b,a){e.getRootView().scalePool.deleteScale(a)}),this.createdScaleKeys.clear();for(var d=this.views,a=0;a<d.length;a++)d[a].clear();this.emit(id.AFTER_CLEAR)},a.prototype.destroy=function(){this.emit(id.BEFORE_DESTROY),I(this.interactions,function(a){a&&a.destroy()}),this.clear();for(var c=this.controllers,a=0,d=c.length;a<d;a++)c[a].destroy();this.backgroundGroup.remove(!0),this.middleGroup.remove(!0),this.foregroundGroup.remove(!0),b.prototype.destroy.call(this)},a.prototype.changeVisible=function(c){b.prototype.changeVisible.call(this,c);for(var e=this.geometries,a=0,d=e.length;a<d;a++)e[a].changeVisible(c);for(var f=this.controllers,a=0,d=f.length;a<d;a++)f[a].changeVisible(c);return this.foregroundGroup.set("visible",c),this.middleGroup.set("visible",c),this.backgroundGroup.set("visible",c),this.getCanvas().draw(),this},a.prototype.data=function(a){return gC(this.options,"data",a),this.isDataChanged=!0,this},a.prototype.source=function(a){return console.warn("This method will be removed at G2 V4.1. Please use chart.data() instead."),this.data(a)},a.prototype.filter=function(a,b){return fz(b)?(gC(this.options,["filters",a],b),this):(!b&&gB(this.options,["filters",a])&&delete this.options.filters[a],this)},a.prototype.axis=function(a,b){return gj(a)?gC(this.options,["axes"],a):gC(this.options,["axes",a],b),this},a.prototype.legend=function(a,b){return gj(a)?gC(this.options,["legends"],a):fT(a)?(gC(this.options,["legends",a],b),fG(b)&&(null==b?void 0:b.selected)&&gC(this.options,["filters",a],function(c){var a;return null===(a=null==b?void 0:b.selected[c])|| void 0===a||a})):gC(this.options,["legends"],a),this},a.prototype.scale=function(a,b){var c=this;return fT(a)?gC(this.options,["scales",a],b):fC(a)&&I(a,function(a,b){gC(c.options,["scales",b],a)}),this},a.prototype.tooltip=function(a){return gC(this.options,"tooltip",a),this},a.prototype.annotation=function(){return this.getController("annotation")},a.prototype.guide=function(){return console.warn("This method will be removed at G2 V4.1. Please use chart.annotation() instead."),this.annotation()},a.prototype.coordinate=function(a,b){return fT(a)?gC(this.options,"coordinate",{type:a,cfg:b}):gC(this.options,"coordinate",a),this.coordinateController.update(this.options.coordinate),this.coordinateController},a.prototype.coord=function(a,b){return console.warn("This method will be removed at G2 V4.1. Please use chart.coordinate() instead."),this.coordinate(a,b)},a.prototype.facet=function(a,c){this.facetInstance&&this.facetInstance.destroy();var d,b=nU[b8(d=a)];if(!b)throw Error("facet '".concat(a,"' is not exist!"));return this.facetInstance=new b(this,n(n({},c),{type:a})),this},a.prototype.animate=function(a){return gC(this.options,"animate",a),this},a.prototype.updateOptions=function(a){return this.clear(),gA(this.options,a),this.views.forEach(function(a){return a.destroy()}),this.views=[],this.initOptions(),this.coordinateBBox=this.viewBBox,this},a.prototype.option=function(b,c){if(a.prototype[b])throw Error("Can't use built in variable name \"".concat(b,'", please change another one.'));return gC(this.options,b,c),this},a.prototype.theme=function(a){return this.themeObject=fC(a)?gs({},this.themeObject,bL(a)):ox(a),this},a.prototype.interaction=function(a,d){var c=this.interactions[a];c&&c.destroy();var b=function(d,b,c){var e,a=or[b8(e=d)];if(!a)return null;if(fG(a)){var f=gA(gp(a),c);return new oq(b,f)}return new a(b,c)}(a,this,d);return b&&(b.init(),this.interactions[a]=b),this},a.prototype.removeInteraction=function(a){var b=this.interactions[a];b&&(b.destroy(),this.interactions[a]=void 0)},a.prototype.changeData=function(b){this.isDataChanged=!0,this.emit(id.BEFORE_CHANGE_DATA,oK.fromData(this,id.BEFORE_CHANGE_DATA,null)),this.data(b),this.paint(!0);for(var c=this.views,a=0,d=c.length;a<d;a++)c[a].changeData(b);this.emit(id.AFTER_CHANGE_DATA,oK.fromData(this,id.AFTER_CHANGE_DATA,null))},a.prototype.createView=function(b){this.parent&&this.parent.parent&&console.warn("The view nesting recursive feature will be removed at G2 V4.1. Please avoid to use it.");var d={data:this.options.data,scales:gp(this.options.scales),axes:gp(this.options.axes),coordinate:gp(this.coordinateController.getOption()),tooltip:gp(this.options.tooltip),legends:gp(this.options.legends),animate:this.options.animate,visible:this.visible},c=new a(n(n({parent:this,canvas:this.canvas,backgroundGroup:this.backgroundGroup.addGroup({zIndex:gN.BG}),middleGroup:this.middleGroup.addGroup({zIndex:gN.MID}),foregroundGroup:this.foregroundGroup.addGroup({zIndex:gN.FORE}),theme:this.themeObject,padding:this.padding},b),{options:n(n({},d),gB(b,"options",{}))}));return this.views.push(c),c},a.prototype.view=function(a){return console.warn("This method will be removed at G2 V4.1. Please use chart.createView() instead."),this.createView(a)},a.prototype.removeView=function(b){var a=fS(this.views,function(a){return a===b})[0];return a&&a.destroy(),a},a.prototype.getCoordinate=function(){return this.coordinateInstance},a.prototype.getTheme=function(){return this.themeObject},a.prototype.getXScale=function(){var a=this.geometries[0];return a?a.getXScale():null},a.prototype.getYScales=function(){var b={},a=[];return this.geometries.forEach(function(e){var c=e.getYScale(),d=c.field;b[d]||(b[d]=!0,a.push(c))}),a},a.prototype.getScalesByDim=function(f){for(var d=this.geometries,b={},c=0,g=d.length;c<g;c++){var e=d[c],a="x"===f?e.getXScale():e.getYScale();a&&!b[a.field]&&(b[a.field]=a)}return b},a.prototype.getScale=function(a,b){var c=b||this.getScaleKey(a);return this.getRootView().scalePool.getScale(c)},a.prototype.getScaleByField=function(a,b){return this.getScale(a,b)},a.prototype.getOptions=function(){return this.options},a.prototype.getData=function(){return this.filteredData},a.prototype.getOriginalData=function(){return this.options.data},a.prototype.getPadding=function(){return this.autoPadding.getPadding()},a.prototype.getGeometries=function(){return this.geometries},a.prototype.getElements=function(){return fR(this.geometries,function(a,b){return a.concat(b.getElements())},[])},a.prototype.getElementsBy=function(a){return this.getElements().filter(function(b){return a(b)})},a.prototype.getLayer=function(a){return a===ia.BG?this.backgroundGroup:a===ia.MID?this.middleGroup:(ia.FORE,this.foregroundGroup)},a.prototype.isPointInPlot=function(a){return function(a,b){var c=!1;if(a){if("theta"===a.type){var d=a.start,e=a.end;c=nz(b.x,d.x,e.x)&&nz(b.y,d.y,e.y)}else{var f=a.invert(b);c=nz(f.x,0,1)&&nz(f.y,0,1)}}return c}(this.getCoordinate(),a)},a.prototype.getLegendAttributes=function(){return fK(this.geometries.map(function(a){return a.getGroupAttributes()}))},a.prototype.getGroupScales=function(){return nB(fK(this.geometries.map(function(a){return a.getGroupScales()})))},a.prototype.getCanvas=function(){return this.getRootView().canvas},a.prototype.getRootView=function(){for(var a=this;;){if(a.parent){a=a.parent;continue}break}return a},a.prototype.getXY=function(c){var a,b,d=this.getCoordinate(),e=this.getScalesByDim("x"),f=this.getScalesByDim("y");if(I(c,function(d,c){e[c]&&(a=e[c].scale(d)),f[c]&&(b=f[c].scale(d))}),!fA(a)&&!fA(b))return d.convert({x:a,y:b})},a.prototype.getController=function(a){return fH(this.controllers,function(b){return b.name===a})},a.prototype.showTooltip=function(b){var a=this.getController("tooltip");return a&&a.showTooltip(b),this},a.prototype.hideTooltip=function(){var a=this.getController("tooltip");return a&&a.hideTooltip(),this},a.prototype.lockTooltip=function(){var a=this.getController("tooltip");return a&&a.lockTooltip(),this},a.prototype.unlockTooltip=function(){var a=this.getController("tooltip");return a&&a.unlockTooltip(),this},a.prototype.isTooltipLocked=function(){var a=this.getController("tooltip");return a&&a.isTooltipLocked()},a.prototype.getTooltipItems=function(b){var a=this.getController("tooltip");return a?a.getTooltipItems(b):[]},a.prototype.getSnapRecords=function(g){for(var h=this.geometries,b=[],a=0,c=h.length;a<c;a++){var d=h[a],e=d.dataArray;d.sort(e);for(var i=void 0,f=0,k=e.length;f<k;f++)(i=oC(g,e[f],d))&&b.push(i)}for(var j=this.views,a=0,c=j.length;a<c;a++){var l=j[a].getSnapRecords(g);b=b.concat(l)}return b},a.prototype.getComponents=function(){for(var a=[],c=this.controllers,b=0,d=c.length;b<d;b++){var e=c[b];a=a.concat(e.getComponents())}return a},a.prototype.filterData=function(a){var b=this.options.filters;return 0===gK(b)?a:fw(a,function(a,c){return Object.keys(b).every(function(d){return(0,b[d])(a[d],a,c)})})},a.prototype.filterFieldData=function(b,a){var c=gB(this.options.filters,b);return gn(c)?a:a.filter(function(a,d){return c(a[b],a,d)})},a.prototype.adjustCoordinate=function(){var a=this.getCoordinate(),d=a.start,e=a.end,b=this.coordinateBBox.bl,c=this.coordinateBBox.tr;if(gw(d,b)&&gw(e,c)){this.isCoordinateChanged=!1;return}this.isCoordinateChanged=!0,this.coordinateInstance=this.coordinateController.adjust(b,c)},a.prototype.paint=function(a){this.renderDataRecursive(a),this.syncScale(),this.emit(id.BEFORE_PAINT),this.renderPaddingRecursive(a),this.renderLayoutRecursive(a),this.renderBackgroundStyleShape(),this.renderPaintRecursive(a),this.emit(id.AFTER_PAINT),this.isDataChanged=!1},a.prototype.renderBackgroundStyleShape=function(){if(!this.parent){var b=gB(this.themeObject,"background");if(b){this.backgroundStyleRectShape||(this.backgroundStyleRectShape=this.backgroundGroup.addShape("rect",{attrs:{},zIndex:-1,capture:!1}),this.backgroundStyleRectShape.toBack());var a=this.viewBBox,c=a.x,d=a.y,e=a.width,f=a.height;this.backgroundStyleRectShape.attr({fill:b,x:c,y:d,width:e,height:f})}else this.backgroundStyleRectShape&&(this.backgroundStyleRectShape.remove(!0),this.backgroundStyleRectShape=void 0)}},a.prototype.renderPaddingRecursive=function(b){this.calculateViewBBox(),this.adjustCoordinate(),this.initComponents(b),this.autoPadding=(function(a){var b,c=a.padding;if(f5(b=c)||fB(b))return new(oN.bind.apply(oN,fs([void 0],fq(oG(c)),!1)));var h=a.viewBBox,d=new oN,e=[],f=[],g=[];return I(a.getComponents(),function(a){var b=a.type;b===ic.AXIS?e.push(a):[ic.LEGEND,ic.SLIDER,ic.SCROLLBAR].includes(b)?f.push(a):b!==ic.GRID&&b!==ic.TOOLTIP&&g.push(a)}),I(e,function(b){var a=b.component.getLayoutBBox(),c=new nC(a.x,a.y,a.width,a.height).exceed(h);d.max(c)}),I(f,function(b){var c=b.component,e=b.direction,a=c.getLayoutBBox(),f=c.get("padding"),g=new nC(a.x,a.y,a.width,a.height).expand(f);d.inc(g,e)}),I(g,function(b){var c=b.component,e=b.direction,a=c.getLayoutBBox(),f=new nC(a.x,a.y,a.width,a.height);d.inc(f,e)}),d})(this).shrink(oG(this.appendPadding)),this.coordinateBBox=this.viewBBox.shrink(this.autoPadding.getPadding()),this.adjustCoordinate(),this.controllers.find(function(a){return"tooltip"===a.name}).update();for(var c=this.views,a=0,d=c.length;a<d;a++)c[a].renderPaddingRecursive(b)},a.prototype.renderLayoutRecursive=function(d){var b=!0===this.syncViewPadding?oO:fz(this.syncViewPadding)?this.syncViewPadding:void 0;b&&(b(this,this.views,oN),this.views.forEach(function(a){a.coordinateBBox=a.viewBBox.shrink(a.autoPadding.getPadding()),a.adjustCoordinate()})),this.doLayout();for(var c=this.views,a=0,e=c.length;a<e;a++)c[a].renderLayoutRecursive(d)},a.prototype.renderPaintRecursive=function(a){var c=this.middleGroup;if(this.limitInPlot){var d=nG(this.coordinateInstance),f=d.type,g=d.attrs;c.setClip({type:f,attrs:g})}else c.setClip(void 0);this.paintGeometries(a),this.renderComponents(a);for(var e=this.views,b=0,h=e.length;b<h;b++)e[b].renderPaintRecursive(a)},a.prototype.createScale=function(a,b,e,c){var f=gB(this.options.scales,[a]),d=n(n({},f),e);return this.parent?this.parent.createScale(a,b,d,c):this.scalePool.createScale(a,b,d,c)},a.prototype.renderDataRecursive=function(a){this.doFilterData(),this.createCoordinate(),this.initGeometries(a),this.renderFacet(a);for(var c=this.views,b=0,d=c.length;b<d;b++)c[b].renderDataRecursive(a)},a.prototype.calculateViewBBox=function(){if(this.parent){var d,e,b,c,f=this.parent.coordinateBBox;d=f.x,e=f.y,b=f.width,c=f.height}else d=0,e=0,b=this.canvas.get("width"),c=this.canvas.get("height");var h=this.region,a=h.start,g=h.end,i=new nC(d+b*a.x,e+c*a.y,b*(g.x-a.x),c*(g.y-a.y));this.viewBBox&&this.viewBBox.isEqual(i)||(this.viewBBox=new nC(d+b*a.x,e+c*a.y,b*(g.x-a.x),c*(g.y-a.y))),this.coordinateBBox=this.viewBBox},a.prototype.initEvents=function(){this.foregroundGroup.on("*",this.onDelegateEvents),this.middleGroup.on("*",this.onDelegateEvents),this.backgroundGroup.on("*",this.onDelegateEvents),this.canvas.on("*",this.onCanvasEvent)},a.prototype.initComponentController=function(){for(var b=this.usedControllers,a=0,d=b.length;a<d;a++){var c=oI(b[a]);c&&this.controllers.push(new c(this))}},a.prototype.createViewEvent=function(a){var b=a.shape,d=a.name,e=b?b.get("origin"):null,c=new oK(this,a,e);return c.type=d,c},a.prototype.doPlotEvent=function(c){var b=c.type,f=c.x,g=c.y;if(["mousedown","mouseup","mousemove","mouseleave","mousewheel","touchstart","touchmove","touchend","touchcancel","click","dblclick","contextmenu",].includes(b)){var d=this.isPointInPlot({x:f,y:g}),a=c.clone();if(d){var e="plot:".concat(b);a.type=e,this.emit(e,a),("mouseleave"===b||"touchend"===b)&&(this.isPreMouseInPlot=!1)}"mousemove"===b||"touchmove"===b?(this.isPreMouseInPlot&&!d?("mousemove"===b&&(a.type=ig.MOUSE_LEAVE,this.emit(ig.MOUSE_LEAVE,a)),a.type=ig.LEAVE,this.emit(ig.LEAVE,a)):!this.isPreMouseInPlot&&d&&("mousemove"===b&&(a.type=ig.MOUSE_ENTER,this.emit(ig.MOUSE_ENTER,a)),a.type=ig.ENTER,this.emit(ig.ENTER,a)),this.isPreMouseInPlot=d):("mouseleave"===b||"touchend"===b)&&this.isPreMouseInPlot&&("mouseleave"===b&&(a.type=ig.MOUSE_LEAVE,this.emit(ig.MOUSE_LEAVE,a)),a.type=ig.LEAVE,this.emit(ig.LEAVE,a),this.isPreMouseInPlot=!1)}},a.prototype.doFilterData=function(){var a=this.options.data;this.filteredData=this.filterData(a)},a.prototype.initGeometries=function(e){this.createOrUpdateScales();for(var f=this.getCoordinate(),g=gB(this.options,"scales",{}),c=this.geometries,a=0,h=c.length;a<h;a++){var b=c[a];b.scales=this.getGeometryScales();var d={coordinate:f,scaleDefs:g,data:this.filteredData,theme:this.themeObject,isDataChanged:this.isDataChanged,isCoordinateChanged:this.isCoordinateChanged};e?b.update(d):b.init(d)}this.adjustScales()},a.prototype.createOrUpdateScales=function(){for(var c=this.getScaleFields(),g=this.getGroupedFields(),d=this.getOptions(),h=d.data,e=d.scales,i=void 0===e?{}:e,j=this.filteredData,b=0,k=c.length;b<k;b++){var a=c[b],l=i[a],f=this.getScaleKey(a);this.createScale(a,g.includes(a)?h:j,l,f),this.createdScaleKeys.set(f,!0)}},a.prototype.syncScale=function(){this.getRootView().scalePool.sync(this.getCoordinate(),this.theme)},a.prototype.getGeometryScales=function(){for(var b=this.getScaleFields(),c={},a=0;a<b.length;a++){var d=b[a];c[d]=this.getScaleByField(d)}return c},a.prototype.getScaleFields=function(){for(var b=[],d=new Map,c=this.geometries,a=0;a<c.length;a++)nB(c[a].getScaleFields(),b,d);return b},a.prototype.getGroupedFields=function(){for(var b=[],d=new Map,c=this.geometries,a=0;a<c.length;a++)nB(c[a].getGroupFields(),b,d);return b},a.prototype.adjustScales=function(){this.adjustCategoryScaleRange()},a.prototype.adjustCategoryScaleRange=function(){var b=this,a=fs([this.getXScale()],fq(this.getYScales()),!1).filter(function(a){return!!a}),c=this.getCoordinate(),d=this.options.scales;I(a,function(a){var e=a.field,f=a.values,g=a.isCategory,h=a.isIdentity;(g||h)&&f&&!gB(d,[e,"range"])&&(a.range=nK(a,c,b.theme))})},a.prototype.initComponents=function(d){for(var c=this.controllers,a=0;a<c.length;a++){var b=c[a];d?b.update():(b.clear(),b.render())}},a.prototype.doLayout=function(){this.layoutFunc(this)},a.prototype.createCoordinate=function(){var a=this.coordinateBBox.bl,b=this.coordinateBBox.tr;this.coordinateInstance=this.coordinateController.create(a,b)},a.prototype.paintGeometries=function(d){for(var e=this.options.animate,f=this.getCoordinate(),g={x:this.viewBBox.x,y:this.viewBBox.y,minX:this.viewBBox.minX,minY:this.viewBBox.minY,maxX:this.viewBBox.maxX,maxY:this.viewBBox.maxY,width:this.viewBBox.width,height:this.viewBBox.height},c=this.geometries,b=0;b<c.length;b++){var a=c[b];a.coordinate=f,a.canvasRegion=g,e||a.animate(!1),a.paint(d)}},a.prototype.renderComponents=function(b){for(var a=0;a<this.getComponents().length;a++)this.getComponents()[a].component.render()},a.prototype.renderFacet=function(a){this.facetInstance&&(a?this.facetInstance.update():(this.facetInstance.clear(),this.facetInstance.init(),this.facetInstance.render()))},a.prototype.initOptions=function(){var x=this,a=this.options,g=a.geometries,h=void 0===g?[]:g,i=a.interactions,j=void 0===i?[]:i,k=a.views,l=void 0===k?[]:k,m=a.annotations,n=void 0===m?[]:m,b=a.coordinate,o=a.events,p=a.facets;this.coordinateController?b&&this.coordinateController.update(b):this.coordinateController=new oJ(b);for(var c=0;c<h.length;c++){var r=h[c];this.createGeometry(r)}for(var d=0;d<j.length;d++){var q=j[d],s=q.type,t=q.cfg;this.interaction(s,t)}for(var e=0;e<l.length;e++){var u=l[e];this.createView(u)}for(var v=this.getController("annotation"),f=0;f<n.length;f++){var w=n[f];v.annotation(w)}o&&I(o,function(a,b){x.on(b,a)}),p&&I(p,function(a){var b=a.type,c=fm(a,["type"]);x.facet(b,c)})},a.prototype.createGeometry=function(a){var b=a.type,c=a.cfg;if(this[b]){var d=this[b](void 0===c?{}:c);I(a,function(b,a){fz(d[a])&&d[a](b)})}},a.prototype.getScaleKey=function(a){return"".concat(this.id,"-").concat(a)},a}(ar);function v(a,b){dd.prototype[a.toLowerCase()]=function(a){void 0===a&&(a={});var d=n({container:this.middleGroup.addGroup(),labelsContainer:this.foregroundGroup.addGroup()},a),c=new b(d);return this.geometries.push(c),c}}var oP=function(b){function a(a){var c=this,e=a.container,s=a.width,t=a.height,i=a.autoFit,j=void 0!==i&&i,u=a.padding,v=a.appendPadding,k=a.renderer,l=void 0===k?"canvas":k,w=a.pixelRatio,m=a.localRefresh,o=void 0===m||m,p=a.visible,q=a.supportCSSTransform,r=a.defaultInteractions,x=a.options,y=a.limitInPlot,z=a.theme,A=a.syncViewPadding,f=fT(e)?document.getElementById(e):e,g=gR('<div style="position:relative;"></div>');f.appendChild(g);var h=gU(f,j,s,t),B=function(a){var b=gQ[a];if(!b)throw Error("G engine '".concat(a,"' is not exist, please register it at first."));return b}(l),d=new B.Canvas(n({container:g,pixelRatio:w,localRefresh:o,supportCSSTransform:void 0!==q&&q},h));return(c=b.call(this,{parent:null,canvas:d,backgroundGroup:d.addGroup({zIndex:gN.BG}),middleGroup:d.addGroup({zIndex:gN.MID}),foregroundGroup:d.addGroup({zIndex:gN.FORE}),padding:u,appendPadding:v,visible:void 0===p||p,options:x,limitInPlot:y,theme:z,syncViewPadding:A})||this).onResize=gq(function(){c.forceFit()},300),c.ele=f,c.canvas=d,c.width=h.width,c.height=h.height,c.autoFit=j,c.localRefresh=o,c.renderer=l,c.wrapperElement=g,c.updateCanvasStyle(),c.bindAutoFit(),c.initDefaultInteractions(void 0===r?["tooltip","legend-filter","legend-active","continuous-filter","ellipsis-text","axis-description"]:r),c}return fl(a,b),a.prototype.initDefaultInteractions=function(a){var b=this;I(a,function(a){b.interaction(a)})},a.prototype.aria=function(a){var b="aria-label";!1===a?this.ele.removeAttribute(b):this.ele.setAttribute(b,a.label)},a.prototype.changeSize=function(a,b){return this.width===a&&this.height===b||(this.emit(id.BEFORE_CHANGE_SIZE),this.width=a,this.height=b,this.canvas.changeSize(a,b),this.render(!0),this.emit(id.AFTER_CHANGE_SIZE)),this},a.prototype.clear=function(){b.prototype.clear.call(this),this.aria(!1)},a.prototype.destroy=function(){var a,c;b.prototype.destroy.call(this),this.unbindAutoFit(),this.canvas.destroy(),(c=(a=this.wrapperElement).parentNode)&&c.removeChild(a),this.wrapperElement=null},a.prototype.changeVisible=function(a){return b.prototype.changeVisible.call(this,a),this.wrapperElement.style.display=a?"":"none",this},a.prototype.forceFit=function(){if(!this.destroyed){var a=gU(this.ele,!0,this.width,this.height),b=a.width,c=a.height;this.changeSize(b,c)}},a.prototype.updateCanvasStyle=function(){gS(this.canvas.get("el"),{display:"inline-block",verticalAlign:"middle"})},a.prototype.bindAutoFit=function(){this.autoFit&&window.addEventListener("resize",this.onResize)},a.prototype.unbindAutoFit=function(){this.autoFit&&window.removeEventListener("resize",this.onResize)},a}(dd),O=function(){function a(a){this.visible=!0,this.components=[],this.view=a}return a.prototype.clear=function(a){I(this.components,function(a){a.component.destroy()}),this.components=[]},a.prototype.destroy=function(){this.clear()},a.prototype.getComponents=function(){return this.components},a.prototype.changeVisible=function(a){this.visible!==a&&(this.components.forEach(function(b){a?b.component.show():b.component.hide()}),this.visible=a)},a}(),bM=function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.isLocked=!1,a}return fl(a,b),Object.defineProperty(a.prototype,"name",{get:function(){return"tooltip"},enumerable:!1,configurable:!0}),a.prototype.init=function(){},a.prototype.isVisible=function(){return!1!==this.view.getOptions().tooltip},a.prototype.render=function(){},a.prototype.showTooltip=function(c){if(this.point=c,this.isVisible()){var e=this.view,a=this.getTooltipItems(c);if(!a.length){this.hideTooltip();return}var d=this.getTitle(a),h={x:a[0].x,y:a[0].y};e.emit("tooltip:show",oK.fromData(e,"tooltip:show",n({items:a,title:d},c)));var b=this.getTooltipCfg(),g=b.follow,i=b.showMarkers,j=b.showCrosshairs,f=b.showContent,k=b.marker,l=this.items,m=this.title;if(gw(m,d)&&gw(l,a)?(this.tooltip&&g&&(this.tooltip.update(c),this.tooltip.show()),this.tooltipMarkersGroup&&this.tooltipMarkersGroup.show()):(e.emit("tooltip:change",oK.fromData(e,"tooltip:change",n({items:a,title:d},c))),(fz(f)?f(a):f)&&(this.tooltip||this.renderTooltip(),this.tooltip.update(gA({},b,{items:this.getItemsAfterProcess(a),title:d},g?c:{})),this.tooltip.show()),i&&this.renderTooltipMarkers(a,k)),this.items=a,this.title=d,j){var o=gB(b,["crosshairs","follow"],!1);this.renderCrosshairs(o?c:h,b)}}},a.prototype.hideTooltip=function(){if(!this.getTooltipCfg().follow){this.point=null;return}var a=this.tooltipMarkersGroup;a&&a.hide();var b=this.xCrosshair,c=this.yCrosshair;b&&b.hide(),c&&c.hide();var d=this.tooltip;d&&d.hide(),this.view.emit("tooltip:hide",oK.fromData(this.view,"tooltip:hide",{})),this.point=null},a.prototype.lockTooltip=function(){this.isLocked=!0,this.tooltip&&this.tooltip.setCapture(!0)},a.prototype.unlockTooltip=function(){this.isLocked=!1;var a=this.getTooltipCfg();this.tooltip&&this.tooltip.setCapture(a.capture)},a.prototype.isTooltipLocked=function(){return this.isLocked},a.prototype.clear=function(){var a=this.tooltip,b=this.xCrosshair,c=this.yCrosshair,d=this.tooltipMarkersGroup;a&&(a.hide(),a.clear()),b&&b.clear(),c&&c.clear(),d&&d.clear(),(null==a?void 0:a.get("customContent"))&&(this.tooltip.destroy(),this.tooltip=null),this.title=null,this.items=null},a.prototype.destroy=function(){this.tooltip&&this.tooltip.destroy(),this.xCrosshair&&this.xCrosshair.destroy(),this.yCrosshair&&this.yCrosshair.destroy(),this.guideGroup&&this.guideGroup.remove(!0),this.reset()},a.prototype.reset=function(){this.items=null,this.title=null,this.tooltipMarkersGroup=null,this.tooltipCrosshairsGroup=null,this.xCrosshair=null,this.yCrosshair=null,this.tooltip=null,this.guideGroup=null,this.isLocked=!1,this.point=null},a.prototype.changeVisible=function(e){if(this.visible!==e){var a=this.tooltip,b=this.tooltipMarkersGroup,c=this.xCrosshair,d=this.yCrosshair;e?(a&&a.show(),b&&b.show(),c&&c.show(),d&&d.show()):(a&&a.hide(),b&&b.hide(),c&&c.hide(),d&&d.hide()),this.visible=e}},a.prototype.getTooltipItems=function(k){var l,p,e,q,m,r,a=this.findItemsFromView(this.view,k);if(a.length){a=fK(a);try{for(var f=fp(a),b=f.next();!b.done;b=f.next()){var w=b.value;try{for(var g=(e=void 0,fp(w)),c=g.next();!c.done;c=g.next()){var n=c.value,s=n.mappingData,h=s.x,i=s.y;n.x=fB(h)?h[h.length-1]:h,n.y=fB(i)?i[i.length-1]:i}}catch(x){e={error:x}}finally{try{c&&!c.done&&(q=g.return)&&q.call(g)}finally{if(e)throw e.error}}}}catch(y){l={error:y}}finally{try{b&&!b.done&&(p=f.return)&&p.call(f)}finally{if(l)throw l.error}}if(!1===this.getTooltipCfg().shared&&a.length>1){var o=a[0],t=Math.abs(k.y-o[0].y);try{for(var j=fp(a),d=j.next();!d.done;d=j.next()){var u=d.value,v=Math.abs(k.y-u[0].y);v<=t&&(o=u,t=v)}}catch(z){m={error:z}}finally{try{d&&!d.done&&(r=j.return)&&r.call(j)}finally{if(m)throw m.error}}a=[o]}return function(b){for(var c=[],a=0;a<b.length;a++)!function(a){var d=b[a];fH(c,function(a){return a.color===d.color&&a.name===d.name&&a.value===d.value&&a.title===d.title})||c.push(d)}(a);return c}(fK(a))}return[]},a.prototype.layout=function(){},a.prototype.update=function(){if(this.point&&this.showTooltip(this.point),this.tooltip){var a=this.view.getCanvas();this.tooltip.set("region",{start:{x:0,y:0},end:{x:a.get("width"),y:a.get("height")}})}},a.prototype.isCursorEntered=function(c){if(this.tooltip){var b=this.tooltip.getContainer(),d=this.tooltip.get("capture");if(b&&d){var a=b.getBoundingClientRect(),e=a.x,f=a.y,g=a.width,h=a.height;return new nC(e,f,g,h).isPointIn(c)}}return!1},a.prototype.getTooltipCfg=function(){var a=this.view,d=a.getOptions().tooltip,b=this.processCustomContent(d),c=gB(a.getTheme(),["components","tooltip"],{}),e=gB(b,"enterable",c.enterable);return gs({},c,b,{capture:!!e||!!this.isLocked})},a.prototype.processCustomContent=function(a){if(gj(a)||!gB(a,"customContent"))return a;var b=a.customContent;return n(n({},a),{customContent:function(c,d){var a=b(c,d)||"";return fT(a)?'<div class="g2-tooltip">'+a+"</div>":a}})},a.prototype.getTitle=function(a){var b=a[0].title||a[0].name;return this.title=b,b},a.prototype.renderTooltip=function(){var a=this.view.getCanvas(),c={start:{x:0,y:0},end:{x:a.get("width"),y:a.get("height")}},d=this.getTooltipCfg(),b=new nu(n(n({parent:a.get("el").parentNode,region:c},d),{visible:!1,crosshairs:null}));b.init(),this.tooltip=b},a.prototype.renderTooltipMarkers=function(i,j){var e,f,a=this.getTooltipMarkersGroup(),g=this.view.getRootView(),k=g.limitInPlot;try{for(var c=fp(i),b=c.next();!b.done;b=c.next()){var d=b.value,l=d.x,m=d.y;if(k||(null==a?void 0:a.getClip())){var h=nG(g.getCoordinate()),o=h.type,p=h.attrs;null==a||a.setClip({type:o,attrs:p})}else null==a||a.setClip(void 0);var q=n(n({fill:d.color,symbol:"circle",shadowColor:d.color},j),{x:l,y:m});a.addShape("marker",{attrs:q})}}catch(r){e={error:r}}finally{try{b&&!b.done&&(f=c.return)&&f.call(c)}finally{if(e)throw e.error}}},a.prototype.renderCrosshairs=function(b,a){var c=gB(a,["crosshairs","type"],"x");"x"===c?(this.yCrosshair&&this.yCrosshair.hide(),this.renderXCrosshairs(b,a)):"y"===c?(this.xCrosshair&&this.xCrosshair.hide(),this.renderYCrosshairs(b,a)):"xy"===c&&(this.renderXCrosshairs(b,a),this.renderYCrosshairs(b,a))},a.prototype.renderXCrosshairs=function(b,h){var d,e,a=this.getViewWithGeometry(this.view).getCoordinate();if(a.isRect)a.isTransposed?(d={x:a.start.x,y:b.y},e={x:a.end.x,y:b.y}):(d={x:b.x,y:a.end.y},e={x:b.x,y:a.start.y});else{var i=nF(a,b),f=a.getCenter(),j=a.getRadius();e=c4(f.x,f.y,j,i),d=f}var g=gs({start:d,end:e,container:this.getTooltipCrosshairsGroup()},gB(h,"crosshairs",{}),this.getCrosshairsText("x",b,h));delete g.type;var c=this.xCrosshair;c?c.update(g):(c=new m$(g)).init(),c.render(),c.show(),this.xCrosshair=c},a.prototype.renderYCrosshairs=function(d,h){var c,e,a=this.getViewWithGeometry(this.view).getCoordinate();if(a.isRect){var f=void 0,g=void 0;a.isTransposed?(f={x:d.x,y:a.end.y},g={x:d.x,y:a.start.y}):(f={x:a.start.x,y:d.y},g={x:a.end.x,y:d.y}),c={start:f,end:g},e="Line"}else c={center:a.getCenter(),radius:nE(a,d),startAngle:a.startAngle,endAngle:a.endAngle},e="Circle";delete(c=gs({container:this.getTooltipCrosshairsGroup()},c,gB(h,"crosshairs",{}),this.getCrosshairsText("y",d,h))).type;var b=this.yCrosshair;b?a.isRect&&"circle"===b.get("type")|| !a.isRect&&"line"===b.get("type")?(b=new a3[e](c)).init():b.update(c):(b=new a3[e](c)).init(),b.render(),b.show(),this.yCrosshair=b},a.prototype.getCrosshairsText=function(d,e,f){var a=gB(f,["crosshairs","text"]),n=gB(f,["crosshairs","follow"]),g=this.items;if(a){var h=this.getViewWithGeometry(this.view),i=g[0],j=h.getXScale(),k=h.getYScales()[0],b=void 0,c=void 0;if(n){var l=this.view.getCoordinate().invert(e);b=j.invert(l.x),c=k.invert(l.y)}else b=i.data[j.field],c=i.data[k.field];var m="x"===d?b:c;return fz(a)?a=a(d,m,g,e):a.content=m,{text:a}}},a.prototype.getGuideGroup=function(){if(!this.guideGroup){var a=this.view.foregroundGroup;this.guideGroup=a.addGroup({name:"tooltipGuide",capture:!1})}return this.guideGroup},a.prototype.getTooltipMarkersGroup=function(){var a=this.tooltipMarkersGroup;return a&&!a.destroyed?(a.clear(),a.show()):((a=this.getGuideGroup().addGroup({name:"tooltipMarkersGroup"})).toFront(),this.tooltipMarkersGroup=a),a},a.prototype.getTooltipCrosshairsGroup=function(){var a=this.tooltipCrosshairsGroup;return a||((a=this.getGuideGroup().addGroup({name:"tooltipCrosshairsGroup",capture:!1})).toBack(),this.tooltipCrosshairsGroup=a),a},a.prototype.findItemsFromView=function(c,f){if(!1===c.getOptions().tooltip)return[];var d,g,e=oF(c,f,this.getTooltipCfg());try{for(var b=fp(c.views),a=b.next();!a.done;a=b.next()){var h=a.value;e=e.concat(this.findItemsFromView(h,f))}}catch(i){d={error:i}}finally{try{a&&!a.done&&(g=b.return)&&g.call(b)}finally{if(d)throw d.error}}return e},a.prototype.getViewWithGeometry=function(a){var b=this;return a.geometries.length?a:fH(a.views,function(a){return b.getViewWithGeometry(a)})},a.prototype.getItemsAfterProcess=function(a){var b;return(this.getTooltipCfg().customItems||function(a){return a})(a)},a}(O),oQ={};function oR(a){return oQ[a.toLowerCase()]}function m(a,b){oQ[a.toLowerCase()]=b}var de={appear:{duration:450,easing:"easeQuadOut"},update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},oS={interval:function(a){return{enter:{animation:a.isRect?a.isTransposed?"scale-in-x":"scale-in-y":"fade-in"},update:{animation:a.isPolar&&a.isTransposed?"sector-path-update":null},leave:{animation:"fade-out"}}},line:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},path:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},point:{appear:{animation:"zoom-in"},enter:{animation:"zoom-in"},leave:{animation:"zoom-out"}},area:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},polygon:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},schema:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},edge:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},label:{appear:{animation:"fade-in",delay:450},enter:{animation:"fade-in"},update:{animation:"position-update"},leave:{animation:"fade-out"}}},oT={line:function(){return{animation:"wave-in"}},area:function(){return{animation:"wave-in"}},path:function(){return{animation:"fade-in"}},interval:function(a){var b;return a.isRect?b=a.isTransposed?"grow-in-x":"grow-in-y":(b="grow-in-xy",a.isPolar&&a.isTransposed&&(b="wave-in")),{animation:b}},schema:function(a){var b;return{animation:a.isRect?a.isTransposed?"grow-in-x":"grow-in-y":"grow-in-xy"}},polygon:function(){return{animation:"fade-in",duration:500}},edge:function(){return{animation:"fade-in"}}};function oU(c,d,b){var a=oS[c];return a&&(fz(a)&&(a=a(d)),a=gs({},de,a),b)?a[b]:a}function oV(c,d,e){var a,b,i=gB(c.get("origin"),"data",gP),f=d.animation,g=(a=d,b=i,{delay:fz(a.delay)?a.delay(b):a.delay,easing:fz(a.easing)?a.easing(b):a.easing,duration:fz(a.duration)?a.duration(b):a.duration,callback:a.callback,repeat:a.repeat});if(f){var h=oR(f);h&&h(c,g,e)}else c.animate(e.toAttrs,g)}var oW="element-background",oX=function(b){function a(c){var a=b.call(this,c)||this;a.labelShape=[],a.states=[];var e=c.shapeFactory,f=c.container,g=c.offscreenGroup,h=c.elementIndex,d=c.visible;return a.shapeFactory=e,a.container=f,a.offscreenGroup=g,a.visible=void 0===d||d,a.elementIndex=h,a}return fl(a,b),a.prototype.draw=function(a,b){void 0===b&&(b=!1),this.model=a,this.data=a.data,this.shapeType=this.getShapeType(a),this.drawShape(a,b),!1===this.visible&&this.changeVisible(!1)},a.prototype.update=function(a){var d=this.shapeFactory,c=this.shape;if(c){this.model=a,this.data=a.data,this.shapeType=this.getShapeType(a),this.setShapeInfo(c,a);var e=this.getOffscreenGroup(),b=d.drawShape(this.shapeType,a,e);b.cfg.data=this.data,b.cfg.origin=a,b.cfg.element=this,this.syncShapeStyle(c,b,this.getStates(),this.getAnimateCfg("update"))}},a.prototype.destroy=function(){var d=this.shapeFactory,a=this.shape;if(a){var c=this.getAnimateCfg("leave");c?oV(a,c,{coordinate:d.coordinate,toAttrs:n({},a.attr())}):a.remove(!0)}this.states=[],this.shapeFactory=void 0,this.container=void 0,this.shape=void 0,this.animate=void 0,this.geometry=void 0,this.labelShape=[],this.model=void 0,this.data=void 0,this.offscreenGroup=void 0,this.statesStyle=void 0,b.prototype.destroy.call(this)},a.prototype.changeVisible=function(a){b.prototype.changeVisible.call(this,a),a?(this.shape&&this.shape.show(),this.labelShape&&this.labelShape.forEach(function(a){a.show()})):(this.shape&&this.shape.hide(),this.labelShape&&this.labelShape.forEach(function(a){a.hide()}))},a.prototype.setState=function(a,f){var c=this.states,j=this.shapeFactory,k=this.model,b=this.shape,l=this.shapeType,d=c.indexOf(a);if(f){if(d> -1)return;c.push(a),("active"===a||"selected"===a)&&(null==b||b.toFront())}else{if(-1===d)return;if(c.splice(d,1),"active"===a||"selected"===a){var g=this.geometry,m=g.sortZIndex,n=g.zIndexReversed,h=n?this.geometry.elements.length-this.elementIndex:this.elementIndex;m?b.setZIndex(h):b.set("zIndex",h)}}var e=j.drawShape(l,k,this.getOffscreenGroup());c.length?this.syncShapeStyle(b,e,c,null):this.syncShapeStyle(b,e,["reset"],null),e.remove(!0);var i={state:a,stateStatus:f,element:this,target:this.container};this.container.emit("statechange",i),l7(this.shape,"statechange",i)},a.prototype.clearStates=function(){var a=this;I(this.states,function(b){a.setState(b,!1)}),this.states=[]},a.prototype.hasState=function(a){return this.states.includes(a)},a.prototype.getStates=function(){return this.states},a.prototype.getData=function(){return this.data},a.prototype.getModel=function(){return this.model},a.prototype.getBBox=function(){var b=this.shape,c=this.labelShape,a={x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0};return b&&(a=b.getCanvasBBox()),c&&c.forEach(function(c){var b=c.getCanvasBBox();a.x=Math.min(b.x,a.x),a.y=Math.min(b.y,a.y),a.minX=Math.min(b.minX,a.minX),a.minY=Math.min(b.minY,a.minY),a.maxX=Math.max(b.maxX,a.maxX),a.maxY=Math.max(b.maxY,a.maxY)}),a.width=a.maxX-a.minX,a.height=a.maxY-a.minY,a},a.prototype.getStatesStyle=function(){if(!this.statesStyle){var a=this,c=a.shapeType,d=a.geometry,b=a.shapeFactory,e=d.stateOption,f=b.defaultShapeType,g=b.theme[c]||b.theme[f];this.statesStyle=gs({},g,e)}return this.statesStyle},a.prototype.getStateStyle=function(c,d){var b=gB(this.getStatesStyle(),[c,"style"],{}),a=b[d]||b;return fz(a)?a(this):a},a.prototype.getAnimateCfg=function(c){var d=this,b=this.animate;if(b){var a=b[c];return a?n(n({},a),{callback:function(){var b;fz(a.callback)&&a.callback(),null===(b=d.geometry)|| void 0===b||b.emit(ie.AFTER_DRAW_ANIMATE)}}):a}return null},a.prototype.drawShape=function(d,a){void 0===a&&(a=!1);var b,e=this.shapeFactory,g=this.container,h=this.shapeType;if(this.shape=e.drawShape(h,d,g),this.shape){this.setShapeInfo(this.shape,d);var c=this.shape.cfg.name;c?fT(c)&&(this.shape.cfg.name=["element",c]):this.shape.cfg.name=["element",this.shapeFactory.geometryType];var i=a?"enter":"appear",f=this.getAnimateCfg(i);f&&(null===(b=this.geometry)|| void 0===b||b.emit(ie.BEFORE_DRAW_ANIMATE),oV(this.shape,f,{coordinate:e.coordinate,toAttrs:n({},this.shape.attr())}))}},a.prototype.getOffscreenGroup=function(){if(!this.offscreenGroup){var a=this.container.getGroupBase();this.offscreenGroup=new a({})}return this.offscreenGroup},a.prototype.setShapeInfo=function(a,b){var c=this;a.cfg.origin=b,a.cfg.element=this,a.isGroup()&&a.get("children").forEach(function(a){c.setShapeInfo(a,b)})},a.prototype.syncShapeStyle=function(a,d,b,e,g){var h,n=this;if(void 0===b&&(b=[]),void 0===g&&(g=0),a&&d){var k=a.get("clipShape"),l=d.get("clipShape");if(this.syncShapeStyle(k,l,b,e),a.isGroup())for(var j=a.get("children"),m=d.get("children"),c=0;c<j.length;c++)this.syncShapeStyle(j[c],m[c],b,e,g+c);else{if(!gv(b)&&!gw(b,["reset"])){var i=a.get("name");fB(i)&&(i=i[1]),I(b,function(a){if(d.get("name")!==oW){var b=n.getStateStyle(a,i||g);d.attr(b)}})}var f=ny(a,d);this.animate?e?(null===(h=this.geometry)|| void 0===h||h.emit(ie.BEFORE_DRAW_ANIMATE),oV(a,e,{coordinate:this.shapeFactory.coordinate,toAttrs:f,shapeModel:this.model})):gv(b)?a.attr(f):(a.stopAnimate(),a.animate(f,{duration:300})):a.attr(f)}}},a.prototype.getShapeType=function(b){var a=gB(b,"shape");return fB(a)?a[0]:a},a}(ar),oY={},oZ={};function Y(a,b){oY[a.toLowerCase()]=b}function l(a,b){oZ[a.toLowerCase()]=b}var o$={coordinate:null,defaultShapeType:null,theme:null,getShapePoints:function(c,a){var b=this.getShape(c);return b.getPoints?b.getPoints(a):this.getDefaultPoints(a)},getShape:function(b){var a=this[b]||this[this.defaultShapeType];return a.coordinate=this.coordinate,a},getDefaultPoints:function(){return[]},getDefaultStyle:function(a){return gB(a,[this.defaultShapeType,"default","style"],{})},getMarker:function(b,c){var a=this.getShape(b);if(!a.getMarker){var d=this.defaultShapeType;a=this.getShape(d)}var e=gB(this.theme,[b,"default"],{}),f=a.getMarker(c);return gs({},e,f)},drawShape:function(a,b,c){return this.getShape(a).draw(b,c)}},o_={coordinate:null,parsePath:function(e){var f,g,k,l,m,n,a,h,i,j,d,b=this.coordinate,c=ku(e);return c=b.isPolar?(f=b,a=[],I(g=c,function(b,c){var d=b[0];switch(d.toLowerCase()){case"m":case"c":case"q":a.push(nX(b,f));break;case"l":k=g[c-1],l=b,(n=(m=f.isTransposed)?k[k.length-2]===l[1]:k[k.length-1]===l[2])?a=a.concat(function(c,k,b){var n=b.isTransposed,o=b.startAngle,p=b.endAngle,f="a"===c[0].toLowerCase()?{x:c[6],y:c[7]}:{x:c[1],y:c[2]},d={x:k[1],y:k[2]},g=[],h=n?"y":"x",l=Math.abs(d[h]-f[h])*(p-o),i=d[h]>=f[h]?1:0,j=l>Math.PI?1:0,e=b.convert(d),a=nE(b,e);if(a>=.5){if(l===2*Math.PI){var q={x:(d.x+f.x)/2,y:(d.y+f.y)/2},m=b.convert(q);g.push(["A",a,a,0,j,i,m.x,m.y]),g.push(["A",a,a,0,j,i,e.x,e.y])}else g.push(["A",a,a,0,j,i,e.x,e.y])}return g}(k,l,f)):a.push(nX(b,f));break;case"a":a.push(nY(b,f));break;default:a.push(b)}}),I(h=a,function(d,c){if("a"===d[0].toLowerCase()){var a=h[c-1],b=h[c+1];b&&"a"===b[0].toLowerCase()?a&&"l"===a[0].toLowerCase()&&(a[0]="M"):a&&"a"===a[0].toLowerCase()&&b&&"l"===b[0].toLowerCase()&&(b[0]="M")}}),a):(i=b,d=[],I(j=c,function(a){var b=a[0];switch(b.toLowerCase()){case"m":case"l":case"c":d.push(nX(a,i));break;case"a":d.push(nY(a,i));break;default:d.push(a)}}),d)},parsePoint:function(a){return this.coordinate.convert(a)},parsePoints:function(a){var b=this.coordinate;return a.map(function(a){return b.convert(a)})},draw:function(a,b){}},o0={};function B(a,c){var d=gh(a),b=n(n(n({},o$),c),{geometryType:a});return o0[d]=b,b}function f(b,c,d){var e=o0[gh(b)],a=n(n({},o_),d);return e[c]=a,a}function o1(a){return o0[gh(a)]}function o2(a,b){return f$(["color","shape","size","x","y","isInCircle","data","style","defaultStyle","points","mappingData"],function(c){return!gw(a[c],b[c])})}function o3(a){return fB(a)?a:a.split("*")}function o4(c,d){for(var e=[],f=[],g=[],h=new Map,b=0;b<d.length;b++){var a=d[b];c[a]?f.push(a):e.push(a),h.set(a,!0)}return Object.keys(c).forEach(function(a){h.has(a)||g.push(a)}),{added:e,updated:f,removed:g}}var C=function(b){function a(c){var a=b.call(this,c)||this;a.type="base",a.attributes={},a.elements=[],a.elementsMap={},a.animateOption=!0,a.attributeOption={},a.lastElementsMap={},a.generatePoints=!1,a.beforeMappingData=null,a.adjusts={},a.idFields=[],a.hasSorted=!1,a.isCoordinateChanged=!1;var i=c.container,j=c.labelsContainer,k=c.coordinate,l=c.data,e=c.sortable,f=c.visible,m=c.theme,g=c.scales,h=c.scaleDefs,n=c.intervalPadding,o=c.dodgePadding,p=c.maxColumnWidth,q=c.minColumnWidth,r=c.columnWidthRatio,s=c.roseWidthRatio,t=c.multiplePieWidthRatio,u=c.zIndexReversed,v=c.sortZIndex,d=c.useDeferredLabel;return a.container=i,a.labelsContainer=j,a.coordinate=k,a.data=l,a.sortable=void 0!==e&&e,a.visible=void 0===f||f,a.userTheme=m,a.scales=void 0===g?{}:g,a.scaleDefs=void 0===h?{}:h,a.intervalPadding=n,a.dodgePadding=o,a.maxColumnWidth=p,a.minColumnWidth=q,a.columnWidthRatio=r,a.roseWidthRatio=s,a.multiplePieWidthRatio=t,a.zIndexReversed=u,a.sortZIndex=v,a.useDeferredLabel=d?"number"==typeof d?d:1/0:null,a}return fl(a,b),a.prototype.position=function(b){var a=b;fG(b)||(a={fields:o3(b)});var c=gB(a,"fields");return 1===c.length&&(c.unshift("1"),gC(a,"fields",c)),gC(this.attributeOption,"position",a),this},a.prototype.color=function(a,b){return this.createAttrOption("color",a,b),this},a.prototype.shape=function(a,b){return this.createAttrOption("shape",a,b),this},a.prototype.size=function(a,b){return this.createAttrOption("size",a,b),this},a.prototype.adjust=function(a){var b=a;return(fT(a)||fG(a))&&(b=[a]),I(b,function(a,c){fC(a)||(b[c]={type:a})}),this.adjustOption=b,this},a.prototype.style=function(a,d){if(fT(a)){var b=o3(a);this.styleOption={fields:b,callback:d}}else{var c=a,b=c.fields,e=c.callback,f=c.cfg;b||e||f?this.styleOption=a:this.styleOption={cfg:a}}return this},a.prototype.tooltip=function(a,b){if(fT(a)){var c=o3(a);this.tooltipOption={fields:c,callback:b}}else this.tooltipOption=a;return this},a.prototype.animate=function(a){return this.animateOption=a,this},a.prototype.label=function(c,b,d){if(fT(c)){var a={},e=o3(c);a.fields=e,fz(b)?a.callback=b:fG(b)&&(a.cfg=b),d&&(a.cfg=d),this.labelOption=a}else this.labelOption=c;return this},a.prototype.state=function(a){return this.stateOption=a,this},a.prototype.customInfo=function(a){return this.customOption=a,this},a.prototype.init=function(a){void 0===a&&(a={}),this.setCfg(a),this.initAttributes(),this.processData(this.data),this.adjustScale()},a.prototype.update=function(a){void 0===a&&(a={});var b=a.data,c=a.isDataChanged,d=a.isCoordinateChanged,e=this.attributeOption,f=this.lastAttributeOption;gw(e,f)?b&&(c||!gw(b,this.data))?(this.setCfg(a),this.initAttributes(),this.processData(b)):this.setCfg(a):this.init(a),this.adjustScale(),this.isCoordinateChanged=d},a.prototype.paint=function(a){var q=this;void 0===a&&(a=!1),this.animateOption&&(this.animateOption=gs({},oU(this.type,this.coordinate),this.animateOption)),this.defaultSize=void 0,this.elementsMap={},this.elements=[],this.getOffscreenGroup().clear();var h=this.beforeMappingData,e=this.beforeMapping(h);this.dataArray=Array(e.length);for(var b=0;b<e.length;b++){var i=e[b];this.dataArray[b]=this.mapping(i)}if(this.updateElements(this.dataArray,a),this.lastElementsMap=this.elementsMap,this.canDoGroupAnimation(a)){var j=this.container,k=this.type,g=this.coordinate,l=gB(this.animateOption,"appear"),m=this.getYScale(),o=g.convert({x:0,y:m.scale(this.getYMinValue())});!function(a,f,b,c,g){if(oT[b]){var d=oT[b](c),e=oR(gB(d,"animation",""));if(e){var h=n(n(n({},de.appear),d),f);a.stopAnimate(),e(a,h,{coordinate:c,minYPoint:g,toAttrs:null})}}}(j,l,k,g,o)}if(this.labelOption){var c=this.useDeferredLabel,f=(function(){return q.renderLabels(fK(q.dataArray),a)}).bind(this);if("number"==typeof c){var d="number"==typeof c&&c!==1/0?c:0;if(window.requestIdleCallback){var p=d&&d!==1/0?{timeout:d}:void 0;window.requestIdleCallback(f,p)}else setTimeout(f,d)}else f()}this.lastAttributeOption=n({},this.attributeOption),!1===this.visible&&this.changeVisible(!1)},a.prototype.clear=function(){var a=this.container,b=this.geometryLabel,c=this.offscreenGroup;a&&a.clear(),b&&b.clear(),c&&c.clear(),this.scaleDefs=void 0,this.attributes={},this.scales={},this.elementsMap={},this.lastElementsMap={},this.elements=[],this.adjusts={},this.dataArray=null,this.beforeMappingData=null,this.lastAttributeOption=void 0,this.defaultSize=void 0,this.idFields=[],this.groupScales=void 0,this.hasSorted=!1,this.isCoordinateChanged=!1},a.prototype.destroy=function(){this.clear(),this.container.remove(!0),this.offscreenGroup&&(this.offscreenGroup.remove(!0),this.offscreenGroup=null),this.geometryLabel&&(this.geometryLabel.destroy(),this.geometryLabel=null),this.theme=void 0,this.shapeFactory=void 0,b.prototype.destroy.call(this)},a.prototype.getGroupScales=function(){return this.groupScales},a.prototype.getAttribute=function(a){return this.attributes[a]},a.prototype.getXScale=function(){return this.getAttribute("position").scales[0]},a.prototype.getYScale=function(){return this.getAttribute("position").scales[1]},a.prototype.getGroupAttributes=function(){var a=[];return I(this.attributes,function(b){gO.includes(b.type)&&a.push(b)}),a},a.prototype.getDefaultValue=function(c){var b,a=this.getAttribute(c);return a&&gv(a.scales)&&(b=a.values[0]),b},a.prototype.getAttributeValues=function(a,f){for(var b=[],e=a.scales,c=0,g=e.length;c<g;c++){var d=e[c],h=d.field;d.isIdentity?b.push(d.values):b.push(f[h])}return a.mapping.apply(a,fs([],fq(b),!1))},a.prototype.getAdjust=function(a){return this.adjusts[a]},a.prototype.getCoordinate=function(){return this.coordinate},a.prototype.getData=function(){return this.data},a.prototype.getShapeMarker=function(a,b){return this.getShapeFactory().getMarker(a,b)},a.prototype.getElementsBy=function(a){return this.elements.filter(function(b){return a(b)})},a.prototype.getElements=function(){return this.elements},a.prototype.getElementId=function(c){var f,a,d=(c=fB(c)?c[0]:c)[gP];if(this.idFields.length){for(var h=d[this.idFields[0]],b=1;b<this.idFields.length;b++)h+="-"+d[this.idFields[b]];return h}var e=this.type,g=this.getXScale(),l=this.getYScale(),m=g.field||"x",n=d[l.field||"y"];f="identity"===g.type?g.values[0]:d[m],a="interval"===e||"schema"===e?"".concat(f):"line"===e||"area"===e||"path"===e?e:"".concat(f,"-").concat(n);for(var i=this.groupScales,b=0,o=i.length;b<o;b++){var p=i[b].field;a="".concat(a,"-").concat(d[p])}var j=this.getAdjust("dodge");if(j){var k=j.dodgeBy;k&&(a="".concat(a,"-").concat(d[k]))}return this.getAdjust("jitter")&&(a="".concat(a,"-").concat(c.x,"-").concat(c.y)),a},a.prototype.getScaleFields=function(){var a=[],b=new Map,d=this.attributeOption,e=this.labelOption,f=this.tooltipOption;for(var g in d)if(d.hasOwnProperty(g)){var c=d[g];c.fields?nB(c.fields,a,b):c.values&&nB(c.values,a,b)}return e&&e.fields&&nB(e.fields,a,b),fC(f)&&f.fields&&nB(f.fields,a,b),a},a.prototype.changeVisible=function(a){b.prototype.changeVisible.call(this,a);for(var d=this.elements,c=0,e=d.length;c<e;c++)d[c].changeVisible(a);a?(this.container&&this.container.show(),this.labelsContainer&&this.labelsContainer.show()):(this.container&&this.container.hide(),this.labelsContainer&&this.labelsContainer.hide())},a.prototype.getFields=function(){var b=new Map,a=[];return Object.values(this.attributeOption).forEach(function(c){((null==c?void 0:c.fields)||[]).forEach(function(c){b.has(c)||a.push(c),b.set(c,!0)})},[]),a},a.prototype.getGroupFields=function(){for(var c=[],d=new Map,a=0,e=gO.length;a<e;a++){var f=gO[a],b=this.attributeOption[f];b&&b.fields&&nB(b.fields,c,d)}return c},a.prototype.getXYFields=function(){var a=fq(this.attributeOption.position.fields,2),b=a[0],c=a[1];return[b,c]},a.prototype.getXField=function(){return gB(this.getXYFields(),[0])},a.prototype.getYField=function(){return gB(this.getXYFields(),[1])},a.prototype.getShapes=function(){return this.elements.map(function(a){return a.shape})},a.prototype.getOffscreenGroup=function(){if(!this.offscreenGroup){var a=this.container.getGroupBase();this.offscreenGroup=new a({})}return this.offscreenGroup},a.prototype.sort=function(b){if(!this.hasSorted)for(var c=this.getXScale(),d=c.field,a=0;a<b.length;a++)b[a].sort(function(a,b){return c.translate(a[gP][d])-c.translate(b[gP][d])});this.hasSorted=!0},a.prototype.adjustScale=function(){var a=this.getYScale();a&&this.getAdjust("stack")&&this.updateStackRange(a,this.beforeMappingData)},a.prototype.getShapeFactory=function(){var a=this.shapeType;if(o1(a))return this.shapeFactory||(this.shapeFactory=gp(o1(a))),this.shapeFactory.coordinate=this.coordinate,this.shapeFactory.theme=this.theme.geometries[a]||{},this.shapeFactory},a.prototype.createShapePointsCfg=function(b){var d,e,c=this.getXScale(),a=this.getYScale();return{x:this.normalizeValues(b[c.field],c),y:a?this.normalizeValues(b[a.field],a):b.y?b.y:.1,y0:a?a.scale(this.getYMinValue()):void 0}},a.prototype.createElement=function(c,d,b){void 0===b&&(b=!1);var e=this.container,f=this.getDrawCfg(c),g=this.getShapeFactory(),a=new oX({shapeFactory:g,container:e,offscreenGroup:this.getOffscreenGroup(),elementIndex:d});return a.animate=this.animateOption,a.geometry=this,a.draw(f,b),a},a.prototype.getDrawCfg=function(a){var d=a[gP],b={mappingData:a,data:d,x:a.x,y:a.y,color:a.color,size:a.size,isInCircle:this.coordinate.isPolar,customInfo:this.customOption},c=a.shape;!c&&this.getShapeFactory()&&(c=this.getShapeFactory().defaultShapeType),b.shape=c;var e=this.theme.geometries[this.shapeType];b.defaultStyle=gB(e,[c,"default"],{}).style,!b.defaultStyle&&this.getShapeFactory()&&(b.defaultStyle=this.getShapeFactory().getDefaultStyle(e));var f=this.styleOption;return f&&(b.style=this.getStyleCfg(f,d)),this.generatePoints&&(b.points=a.points,b.nextPoints=a.nextPoints),b},a.prototype.updateElements=function(u,m){void 0===m&&(m=!1);for(var n,v,o,w,p,x,h=new Map,y=[],q=new Map,r=0,c=0;c<u.length;c++)for(var z=u[c],i=0;i<z.length;i++){var d=z[i],b=this.getElementId(d),s=h.has(b)?"".concat(b,"-").concat(c,"-").concat(i):b;y.push(s),h.set(s,d),q.set(s,r),r++}this.elements=Array(r);var t=o4(this.lastElementsMap,y),B=t.added,C=t.updated,D=t.removed;try{for(var j=fp(B),e=j.next();!e.done;e=j.next()){var b=e.value,d=h.get(b),c=q.get(b),a=this.createElement(d,c,m);this.elements[c]=a,this.elementsMap[b]=a,a.shape&&a.shape.set("zIndex",this.zIndexReversed?this.elements.length-c:c)}}catch(E){n={error:E}}finally{try{e&&!e.done&&(v=j.return)&&v.call(j)}finally{if(n)throw n.error}}try{for(var k=fp(C),f=k.next();!f.done;f=k.next()){var b=f.value,a=this.lastElementsMap[b],d=h.get(b),A=this.getDrawCfg(d),F=a.getModel(),c=q.get(b);(this.isCoordinateChanged||o2(A,F))&&(a.animate=this.animateOption,a.update(A)),this.elements[c]=a,this.elementsMap[b]=a,a.shape&&a.shape.set("zIndex",this.zIndexReversed?this.elements.length-c:c)}}catch(G){o={error:G}}finally{try{f&&!f.done&&(w=k.return)&&w.call(k)}finally{if(o)throw o.error}}this.container&&this.container.sort();try{for(var l=fp(D),g=l.next();!g.done;g=l.next()){var b=g.value,a=this.lastElementsMap[b];a.animate=this.animateOption,a.destroy()}}catch(H){p={error:H}}finally{try{g&&!g.done&&(x=l.return)&&x.call(l)}finally{if(p)throw p.error}}},a.prototype.getLabelType=function(){var e=this.labelOption,b=this.coordinate,c=this.type,d=b.type,f=b.isTransposed,a=gB(e,["cfg","type"]);return a||(a="polar"===d?f?"pie":"polar":"theta"===d?"pie":"interval"===c||"polygon"===c?"interval":"base"),a},a.prototype.getYMinValue=function(){var d,a=this.getYScale(),b=a.min,c=a.max;return b>=0?b:c<=0?c:0},a.prototype.createAttrOption=function(d,a,c){if(fA(a)||fC(a))fC(a)&&gw(Object.keys(a),["values"])?gC(this.attributeOption,d,{fields:a.values}):gC(this.attributeOption,d,a);else{var b={};f5(a)?b.values=[a]:b.fields=o3(a),c&&(fz(c)?b.callback=c:b.values=c),gC(this.attributeOption,d,b)}},a.prototype.initAttributes=function(){var e=this,f=this.attributes,b=this.attributeOption,g=this.theme,h=this.shapeType;this.groupScales=[];var i={},c=function(c){if(b.hasOwnProperty(c)){var j=b[c];if(!j)return{value:void 0};var a=n({},j),l=a.callback,m=a.values,k=a.fields,o=void 0===k?[]:k,d=o.map(function(a){var b=e.scales[a];return!i[a]&&gO.includes(c)&&"cat"===nI(b,gB(e.scaleDefs,a),c,e.type)&&(e.groupScales.push(b),i[a]=!0),b});a.scales=d,"position"!==c&&1===d.length&&"identity"===d[0].type?a.values=d[0].values:l||m||("size"===c?a.values=g.sizes:"shape"===c?a.values=g.shapes[h]||[]:"color"===c&&(d.length?a.values=d[0].values.length<=10?g.colors10:g.colors20:a.values=g.colors10));var p=l2(c);f[c]=new p(a)}};for(var d in b){var a=c(d);if("object"==typeof a)return a.value}},a.prototype.processData=function(q){this.hasSorted=!1;for(var c,h,r=this.getAttribute("position").scales.filter(function(a){return a.isCategory}),i=this.groupData(q),j=[],e=0,s=i.length;e<s;e++){for(var k=i[e],l=[],f=0,t=k.length;f<t;f++){var g=k[f],a={};for(var m in g)a[m]=g[m];a[gP]=g;try{for(var d=(c=void 0,fp(r)),b=d.next();!b.done;b=d.next()){var n=b.value,o=n.field;a[o]=n.translate(a[o])}}catch(u){c={error:u}}finally{try{b&&!b.done&&(h=d.return)&&h.call(d)}finally{if(c)throw c.error}}l.push(a)}j.push(l)}var p=this.adjustData(j);return this.beforeMappingData=p,p},a.prototype.adjustData=function(q){var e=this.adjustOption,r=this.intervalPadding,s=this.dodgePadding,f=this.theme,t=this.maxColumnWidth||f.maxColumnWidth,u=this.minColumnWidth||f.minColumnWidth,j=this.columnWidthRatio||f.columnWidthRatio,g=q;if(e){var b=this.getXScale(),c=this.getYScale(),v=b.field,w=c?c.field:null,x=nD(this.coordinate),y=b.values.length,k=this.getAttribute("size"),l=void 0;k&&(l=k.values[0]);for(var h=0,z=e.length;h<z;h++){var m=e[h],a=n({xField:v,yField:w,intervalPadding:r,dodgePadding:s,xDimensionLength:x,groupNum:y,defaultSize:l,maxColumnWidth:t,minColumnWidth:u,columnWidthRatio:j},m),d=m.type;if("dodge"===d){var i=[];if(b.isCategory||"identity"===b.type)i.push("x");else if(c)throw Error("dodge is not support linear attribute, please use category attribute!");else i.push("y");a.adjustNames=i,a.dodgeRatio=j}else if("stack"===d){var o=this.coordinate;if(!c){a.height=o.getHeight();var A=this.getDefaultValue("size")||3;a.size=A}!o.isTransposed&&fA(a.reverseOrder)&&(a.reverseOrder=!0)}var B=k_(d);a.dimValuesMap={},b&&b.values&&(a.dimValuesMap[b.field]=b.values.map(function(a){return b.translate(a)}));var p=new B(a);g=p.process(g),this.adjusts[d]=p}}return g},a.prototype.groupData=function(g){for(var c=this.getGroupScales(),d=this.scaleDefs,e={},f=[],b=0;b<c.length;b++){var a=c[b].field;f.push(a),gB(d,[a,"values"])&&(e[a]=d[a].values)}return function(h,a,c){if(void 0===c&&(c={}),!a)return[h];var f,i,d=f1(h,a),g=[];if(1===a.length&&c[a[0]]){var l=c[a[0]];try{for(var e=fp(l),b=e.next();!b.done;b=e.next()){var m=b.value,j=d["_".concat(m)];j&&g.push(j)}}catch(n){f={error:n}}finally{try{b&&!b.done&&(i=e.return)&&i.call(e)}finally{if(f)throw f.error}}}else for(var k in d)if(d.hasOwnProperty(k)){var o=d[k];g.push(o)}return g}(g,f,e)},a.prototype.updateStackRange=function(a,l){for(var g=fK(l),b=a.field,c=a.min,d=a.max,e=0;e<g.length;e++){var h=g[e],i=Math.min.apply(null,h[b]),j=Math.max.apply(null,h[b]);i<c&&(c=i),j>d&&(d=j)}var k=this.scaleDefs,f={};c<a.min&&!gB(k,[b,"min"])&&(f.min=c),d>a.max&&!gB(k,[b,"max"])&&(f.max=d),a.change(f)},a.prototype.beforeMapping=function(e){var a=e;if(this.sortable&&this.sort(a),this.generatePoints)for(var b=0,f=a.length;b<f;b++){var d=a[b];this.generateShapePoints(d);var c=a[b+1];c&&(this.generateShapePoints(c),d[0].nextPoints=c[0].points)}return a},a.prototype.generateShapePoints=function(c){for(var e=this.getShapeFactory(),d=this.getAttribute("shape"),a=0;a<c.length;a++){var b=c[a],f=this.createShapePointsCfg(b),g=d?this.getAttributeValues(d,b):null,h=e.getShapePoints(g,f);b.points=h}},a.prototype.normalizeValues=function(a,d){var b=[];if(fB(a))for(var c=0;c<a.length;c++){var e=a[c];b.push(d.scale(e))}else b=d.scale(a);return b},a.prototype.mapping=function(i){for(var f=this.attributes,j=[],g=0;g<i.length;g++){var b=i[g],c={_origin:b[gP],points:b.points,nextPoints:b.nextPoints};for(var k in f)if(f.hasOwnProperty(k)){var l=f[k],h=l.names,a=this.getAttributeValues(l,b);if(h.length>1)for(var d=0;d<a.length;d+=1){var e=a[d];c[h[d]]=fB(e)&&1===e.length?e[0]:e}else c[h[0]]=1===a.length?a[0]:a}this.convertPoint(c),j.push(c)}return j},a.prototype.convertPoint=function(g){var a,b,c,d=g.x,e=g.y,h=this.coordinate;if(fB(d)&&fB(e)){a=[],b=[];for(var i=0,j=0,l=d.length,m=e.length;i<l&&j<m;i+=1,j+=1)c=h.convert({x:d[i],y:e[j]}),a.push(c.x),b.push(c.y)}else if(fB(e)){b=[];for(var f=0;f<e.length;f++){var n=e[f];c=h.convert({x:d,y:n}),a&&a!==c.x?(fB(a)||(a=[a]),a.push(c.x)):a=c.x,b.push(c.y)}}else if(fB(d)){a=[];for(var f=0;f<d.length;f++){var o=d[f];c=h.convert({x:o,y:e}),b&&b!==c.y?(fB(b)||(b=[b]),b.push(c.y)):b=c.y,a.push(c.x)}}else{var k=h.convert({x:d,y:e});a=k.x,b=k.y}g.x=a,g.y=b},a.prototype.getStyleCfg=function(a,f){var b=a.fields,d=a.callback,c=a.cfg;if(c)return c;var e=(void 0===b?[]:b).map(function(a){return f[a]});return d.apply(void 0,fs([],fq(e),!1))},a.prototype.setCfg=function(a){var f=this,d=a.coordinate,e=a.data,b=a.theme,c=a.scaleDefs;d&&(this.coordinate=d),e&&(this.data=e),c&&(this.scaleDefs=c,this.idFields=[],I(c,function(a,b){a&&a.key&&f.idFields.push(b)})),b&&(this.theme=this.userTheme?gs({},b,this.userTheme):b)},a.prototype.renderLabels=function(b,a){return void 0===a&&(a=!1),fn(this,void 0,void 0,function(){var c,d,e,f,g,h,i,j,k,l,m,n,o=this;return fo(this,function(p){switch(p.label){case 0:if(c=this.geometryLabel,this.emit(ie.BEFORE_RENDER_LABEL),!c){var q;c=new(e=oY[(q=d=this.getLabelType()).toLowerCase()])(this),this.geometryLabel=c}return[4,c.render(b,a)];case 1:p.sent(),f=c.labelsRenderer.shapesMap,g=new Map,I(f,function(d,h){for(var e=d.getChildren()||[],b=0;b<e.length;b++){var c=e[b],a=o.elementsMap[c.get("elementId")||h.split(" ")[0]];if(a){c.cfg.name=["element","label"],c.cfg.element=a;var f=g.get(a)||new Set;f.add(d),g.set(a,f)}}});try{for(i=(h=fp(g.entries())).next();!i.done;i=h.next())k=(j=fq(i.value,2))[0],l=j[1],k.labelShape=fs([],fq(l),!1)}catch(r){m={error:r}}finally{try{i&&!i.done&&(n=h.return)&&n.call(h)}finally{if(m)throw m.error}}return this.emit(ie.AFTER_RENDER_LABEL),[2]}})})},a.prototype.canDoGroupAnimation=function(a){return!a&&this.animateOption&&(void 0===gB(this.animateOption,"appear")||gB(this.animateOption,"appear")&& void 0===gB(this.animateOption,["appear","animation"]))},a}(ar),df=at;function dg(a,b,c){var d=df(a.getMatrix(),[["t",b,c]]);a.setMatrix(d)}function dh(d,g){var a,e,f,b,c,h=(a=d,e=g,b=(f=a.attr()).x,c=f.y,df(a.getMatrix(),[["t",-b,-c],["r",e],["t",b,c],]));d.setMatrix(h)}function o5(a){return a.find(function(a){return"text"===a.get("type")})}function o6(f,b,d){void 0===d&&(d=[0,0,0,0]);var g=f&&f.getChildren()[0];if(g){var e=g.clone();(null==b?void 0:b.rotate)&&dh(e,-b.rotate);var c=e.getCanvasBBox(),h=c.x,i=c.y,j=c.width,k=c.height;e.destroy();var a=d;return fA(a)?a=[2,2,2,2]:f5(a)&&(a=[,,,].fill(a)),{x:h-a[3],y:i-a[0],width:j+a[1]+a[3],height:k+a[0]+a[2],rotation:(null==b?void 0:b.rotate)||0}}return{x:0,y:0,width:0,height:0,rotation:0}}function o7(a,b){var c=a.getBBox();return f$(b,function(g){var b,d,a,e,f,h=g.getBBox();return b=c,d=h,a=2,e=Math.max(0,Math.min(b.x+b.width+a,d.x+d.width+a)-Math.max(b.x-a,d.x-a)),f=Math.max(0,Math.min(b.y+b.height+a,d.y+d.height+a)-Math.max(b.y-a,d.y-a)),e*f>0})}function o8(a,c,b){var e=b.data,f=b.origin,d=b.animateCfg,g=b.coordinate,h=gB(d,"update");a.set("data",e),a.set("origin",f),a.set("animateCfg",d),a.set("coordinate",g),a.set("visible",c.get("visible")),(a.getChildren()||[]).forEach(function(i,l){var j=c.getChildByIndex(l);if(j){i.set("data",e),i.set("origin",f),i.set("animateCfg",d),i.set("coordinate",g);var k=ny(i,j);h?oV(i,h,{toAttrs:k,coordinate:g}):i.attr(k),j.isGroup()&&o8(i,j,b)}else a.removeChild(i),i.remove(!0)}),I(c.getChildren(),function(b,c){c>=a.getCount()&&!b.destroyed&&a.add(b)})}var o9=function(){function a(a){this.shapesMap={};var b=a.layout,c=a.container;this.layout=b,this.container=c}return a.prototype.render=function(b,c,a){return void 0===a&&(a=!1),fn(this,void 0,void 0,function(){var d,e,f,g,h,i,j,k,l=this;return fo(this,function(m){switch(m.label){case 0:if(d={},e=this.createOffscreenGroup(),!b.length)return[3,2];try{for(g=(f=fp(b)).next();!g.done;g=f.next())(h=g.value)&&(d[h.id]=this.renderLabel(h,e))}catch(o){j={error:o}}finally{try{g&&!g.done&&(k=f.return)&&k.call(f)}finally{if(j)throw j.error}}return[4,this.doLayout(b,c,d)];case 1:m.sent(),this.renderLabelLine(b,d),this.renderLabelBackground(b,d),this.adjustLabel(b,d),m.label=2;case 2:return i=this.shapesMap,I(d,function(b,c){if(b.destroyed)delete d[c];else{if(i[c]){var g=b.get("data"),h=b.get("origin"),j=b.get("coordinate"),k=b.get("animateCfg"),e=i[c];o8(e,d[c],{data:g,origin:h,animateCfg:k,coordinate:j}),d[c]=e}else{if(l.container.destroyed)return;l.container.add(b);var f=gB(b.get("animateCfg"),a?"enter":"appear");f&&oV(b,f,{toAttrs:n({},b.attr()),coordinate:b.get("coordinate")})}delete i[c]}}),I(i,function(a){var b=gB(a.get("animateCfg"),"leave");b?oV(a,b,{toAttrs:null,coordinate:a.get("coordinate")}):a.remove(!0)}),this.shapesMap=d,e.destroy(),[2]}})})},a.prototype.clear=function(){this.container.clear(),this.shapesMap={}},a.prototype.destroy=function(){this.container.destroy(),this.shapesMap=null},a.prototype.renderLabel=function(a,m){var c,o=a.id,p=a.elementId,q=a.data,h=a.mappingData,r=a.coordinate,d=a.animate,b=a.content,i={id:o,elementId:p,data:q,origin:n(n({},h),{data:h[gP]}),coordinate:r},e=m.addGroup(n({name:"label",animateCfg:!1!==this.animate&&null!==d&& !1!==d&&gs({},this.animate,d)},i));if(b.isGroup&&b.isGroup()||b.isShape&&b.isShape()){var j=b.getCanvasBBox(),k=j.width,s=j.height,f=gB(a,"textAlign","left"),g=a.x,t=a.y-s/2;"center"===f?g-=k/2:("right"===f||"end"===f)&&(g-=k),dg(b,g,t),c=b,e.add(b)}else{var u,l=gB(a,["style","fill"]);c=e.addShape("text",n({attrs:n(n({x:a.x,y:a.y,textAlign:a.textAlign,textBaseline:gB(a,"textBaseline","middle"),text:a.content},a.style),{fill:null===(u=l)?a.color:l})},i))}return a.rotate&&dh(c,a.rotate),e},a.prototype.doLayout=function(a,b,c){return fn(this,void 0,void 0,function(){var d,e=this;return fo(this,function(f){switch(f.label){case 0:if(!this.layout)return[3,2];return[4,Promise.all((d=fB(this.layout)?this.layout:[this.layout]).map(function(d){var g,f=oZ[(g=gB(d,"type","")).toLowerCase()];if(f){var h=[],i=[];return I(c,function(a,c){h.push(a),i.push(b[a.get("elementId")])}),f(a,h,i,e.region,d.cfg)}}))];case 1:f.sent(),f.label=2;case 2:return[2]}})})},a.prototype.renderLabelLine=function(a,b){I(a,function(a){var c=gB(a,"coordinate");if(a&&c){var e=c.getCenter(),j=c.getRadius();if(a.labelLine){var f=gB(a,"labelLine",{}),g=a.id,d=f.path;if(!d){var h=c4(e.x,e.y,j,a.angle);d=[["M",h.x,h.y],["L",a.x,a.y],]}var i=b[g];i.destroyed||i.addShape("path",{capture:!1,attrs:n({path:d,stroke:a.color?a.color:gB(a,["style","fill"],"#000"),fill:null},f.style),id:g,origin:a.mappingData,data:a.data,coordinate:a.coordinate})}}})},a.prototype.renderLabelBackground=function(a,b){I(a,function(a){var i=gB(a,"coordinate"),d=gB(a,"background");if(d&&i){var e=a.id,c=b[e];if(!c.destroyed){var f=c.getChildren()[0];if(f){var g=o6(c,a,d.padding),j=g.rotation,k=fm(g,["rotation"]),h=c.addShape("rect",{attrs:n(n({},k),d.style||{}),id:e,origin:a.mappingData,data:a.data,coordinate:a.coordinate});if(h.setZIndex(-1),j){var l=f.getMatrix();h.setMatrix(l)}}}}})},a.prototype.createOffscreenGroup=function(){return new(this.container.getGroupBase())({})},a.prototype.adjustLabel=function(a,b){I(a,function(a){if(a){var c=b[a.id];!c.destroyed&&I(c.findAll(function(a){return"path"!==a.get("type")}),function(b){b&&(a.offsetX&&b.attr("x",b.attr("x")+a.offsetX),a.offsetY&&b.attr("y",b.attr("y")+a.offsetY))})}})},a}();function pa(a){var b=0;return I(a,function(a){b+=a}),b/a.length}var ah=function(){function a(a){this.geometry=a}return a.prototype.getLabelItems=function(a){var c=this,b=[],d=this.getLabelCfgs(a);return I(a,function(f,g){var a=d[g];if(!a||fA(f.x)||fA(f.y)){b.push(null);return}var e=fB(a.content)?a.content:[a.content];a.content=e;var h=e.length;I(e,function(e,g){if(fA(e)||""===e){b.push(null);return}var d=n(n({},a),c.getLabelPoint(a,f,g));d.textAlign||(d.textAlign=c.getLabelAlign(d,g,h)),d.offset<=0&&(d.labelLine=null),b.push(d)})}),b},a.prototype.render=function(b,a){return void 0===a&&(a=!1),fn(this,void 0,void 0,function(){var c,d,e;return fo(this,function(f){switch(f.label){case 0:return c=this.getLabelItems(b),d=this.getLabelsRenderer(),e=this.getGeometryShapes(),[4,d.render(c,e,a)];case 1:return f.sent(),[2]}})})},a.prototype.clear=function(){var a=this.labelsRenderer;a&&a.clear()},a.prototype.destroy=function(){var a=this.labelsRenderer;a&&a.destroy(),this.labelsRenderer=null},a.prototype.getCoordinate=function(){return this.geometry.coordinate},a.prototype.getDefaultLabelCfg=function(d,e){var b=this.geometry,a=b.type,c=b.theme;return"polygon"===a||"interval"===a&&"middle"===e||d<0&&!["line","point","path"].includes(a)?gB(c,"innerLabels",{}):gB(c,"labels",{})},a.prototype.getThemedLabelCfg=function(a){var f,b=this.geometry,c=this.getDefaultLabelCfg(),d=b.type,e=b.theme;return"polygon"===d||a.offset<0&&!["line","point","path"].includes(d)?gs({},c,e.innerLabels,a):gs({},c,e.labels,a)},a.prototype.setLabelPosition=function(a,b,c,d){},a.prototype.getLabelOffset=function(b){var c=this.getCoordinate(),a=this.getOffsetVector(b);return c.isTransposed?a[0]:a[1]},a.prototype.getLabelOffsetPoint=function(f,g,h){var b=f.offset,c=this.getCoordinate().isTransposed,d=c?"x":"y",e=c?1:-1,a={x:0,y:0};return g>0||1===h?a[d]=b*e:a[d]=-(b*e*1),a},a.prototype.getLabelPoint=function(d,b,c){var g=this.getCoordinate(),o=d.content.length;function h(c,e,b){void 0===b&&(b=!1);var a=c;return fB(a)&&(a=1===d.content.length?b?pa(a):a.length<=2?a[c.length-1]:pa(a):a[e]),a}var a={content:d.content[c],x:0,y:0,start:{x:0,y:0},color:"#fff"},i=fB(b.shape)?b.shape[0]:b.shape,k="funnel"===i||"pyramid"===i;if("polygon"===this.geometry.type){var l=function(a,b){if(f5(a)&&f5(b))return[a,b];if(nv(a)||nv(b))return[nw(a),nw(b)];for(var d,e,g=-1,h=0,i=0,c=a.length-1,f=0;++g<a.length;)d=c,c=g,f+=e=a[d]*b[c]-a[c]*b[d],h+=(a[d]+a[c])*e,i+=(b[d]+b[c])*e;return[h/(f*=3),i/f]}(b.x,b.y);a.x=l[0],a.y=l[1]}else"interval"!==this.geometry.type||k?(a.x=h(b.x,c),a.y=h(b.y,c)):(a.x=h(b.x,c,!0),a.y=h(b.y,c));if(k){var m=gB(b,"nextPoints"),j=gB(b,"points");if(m){var e=g.convert(j[1]),f=g.convert(m[1]);a.x=(e.x+f.x)/2,a.y=(e.y+f.y)/2}else if("pyramid"===i){var e=g.convert(j[1]),f=g.convert(j[2]);a.x=(e.x+f.x)/2,a.y=(e.y+f.y)/2}}d.position&&this.setLabelPosition(a,b,c,d.position);var n=this.getLabelOffsetPoint(d,c,o);return a.start={x:a.x,y:a.y},a.x+=n.x,a.y+=n.y,a.color=b.color,a},a.prototype.getLabelAlign=function(c,d,e){var a="center";if(this.getCoordinate().isTransposed){var b=c.offset;a=b<0?"right":0===b?"center":"left",e>1&&0===d&&("right"===a?a="left":"left"===a&&(a="right"))}return a},a.prototype.getLabelId=function(e){var a=this.geometry,b=a.type,f=a.getXScale(),g=a.getYScale(),c=e[gP],d=a.getElementId(e);return"line"===b||"area"===b?d+=" ".concat(c[f.field]):"path"===b&&(d+=" ".concat(c[f.field],"-").concat(c[g.field])),d},a.prototype.getLabelsRenderer=function(){var b=this.geometry,c=b.labelsContainer,d=b.labelOption,e=b.canvasRegion,f=b.animateOption,g=this.geometry.coordinate,a=this.labelsRenderer;return a||(a=new o9({container:c,layout:gB(d,["cfg","layout"],{type:this.defaultLayout})}),this.labelsRenderer=a),a.region=e,a.animate=!!f&&oU("label",g),a},a.prototype.getLabelCfgs=function(c){var g=this,a=this.geometry,d=a.labelOption,h=a.scales,i=a.coordinate,b=d,e=b.fields,j=b.callback,k=b.cfg,l=e.map(function(a){return h[a]}),f=[];return I(c,function(b,m){var d,c=b[gP],o=g.getLabelText(c,l);if(j){var p=e.map(function(a){return c[a]});if(d=j.apply(void 0,fs([],fq(p),!1)),fA(d)){f.push(null);return}}var a=n(n({id:g.getLabelId(b),elementId:g.geometry.getElementId(b),data:c,mappingData:b,coordinate:i},k),d);fz(a.position)&&(a.position=a.position(c,b,m));var q=g.getLabelOffset(a.offset||0),r=g.getDefaultLabelCfg(q,a.position);(a=gs({},r,a)).offset=g.getLabelOffset(a.offset||0);var h=a.content;fz(h)?a.content=h(c,b,m):gn(h)&&(a.content=o[0]),f.push(a)}),f},a.prototype.getLabelText=function(c,a){var b=[];return I(a,function(d){var a=c[d.field];a=fB(a)?a.map(function(a){return d.getText(a)}):d.getText(a),fA(a)||""===a?b.push(null):b.push(a)}),b},a.prototype.getOffsetVector=function(a){void 0===a&&(a=0);var b=this.getCoordinate(),c=0;return f5(a)&&(c=a),b.isTransposed?b.applyMatrix(c,0):b.applyMatrix(0,c)},a.prototype.getGeometryShapes=function(){var a=this.geometry,b={};return I(a.elementsMap,function(a,c){b[c]=a.shape}),I(a.getOffscreenGroup().getChildren(),function(c){b[a.getElementId(c.get("origin").mappingData)]=c}),b},a}();function di(a,c,d){if(!a)return d;if(a.callback&&a.callback.length>1){var b,e=Array(a.callback.length-1).fill("");b=a.mapping.apply(a,fs([c],fq(e),!1)).join("")}else b=a.mapping(c).join("");return b||d}var pb={hexagon:function(b,c,a){var d=a/2*Math.sqrt(3);return[["M",b,c-a],["L",b+d,c-a/2],["L",b+d,c+a/2],["L",b,c+a],["L",b-d,c+a/2],["L",b-d,c-a/2],["Z"],]},bowtie:function(b,c,a){var d=a-1.5;return[["M",b-a,c-d],["L",b+a,c+d],["L",b+a,c-d],["L",b-a,c+d],["Z"]]},cross:function(b,c,a){return[["M",b-a,c-a],["L",b+a,c+a],["M",b+a,c-a],["L",b-a,c+a],]},tick:function(b,c,a){return[["M",b-a/2,c-a],["L",b+a/2,c-a],["M",b,c-a],["L",b,c+a],["M",b-a/2,c+a],["L",b+a/2,c+a],]},plus:function(a,b,c){return[["M",a-c,b],["L",a+c,b],["M",a,b-c],["L",a,b+c],]},hyphen:function(a,b,c){return[["M",a-c,b],["L",a+c,b],]},line:function(a,b,c){return[["M",a,b-c],["L",a,b+c],]}},pc=["line","cross","tick","plus","hyphen"];function pd(b){var a=b.symbol;fT(a)&&pb[a]&&(b.symbol=pb[a])}function pe(a){return a.startsWith(ib.LEFT)||a.startsWith(ib.RIGHT)?"vertical":"horizontal"}function dj(d,a,c,e,f){var b=c.getScale(c.type);if(b.isCategory){var g=b.field,h=a.getAttribute("color"),i=a.getAttribute("shape"),j=d.getTheme().defaultColor,k=a.coordinate.isPolar;return b.getTicks().map(function(r,u){var o,p,s,v=r.text,w=r.value,q=v,m=b.invert(w),x=0===d.filterFieldData(g,[((s={})[g]=m,s)]).length;I(d.views,function(b){var a;b.filterFieldData(g,[((a={})[g]=m,a)]).length||(x=!0)});var t=di(h,m,j),y=di(i,m,"point"),c=a.getShapeMarker(y,{color:t,isInPolar:k}),l=f;return fz(l)&&(l=l(q,u,n({name:q,value:m},gs({},e,c)))),!function(a,d){var c=a.symbol;if(fT(c)&& -1!==pc.indexOf(c)){var b=gB(a,"style",{}),e=gB(b,"lineWidth",1),f=b.stroke||b.fill||d;a.style=gs({},a.style,{lineWidth:e,stroke:f,fill:null})}}(c=gs({},e,c,nA(n({},l),["style"])),t),l&&l.style&&(c.style=(o=c.style,fz(p=l.style)?p(o):gs({},o,p))),pd(c),{id:m,name:q,value:m,marker:c,unchecked:x}})}return[]}function pf(b,c){var a=gB(b,["components","legend"],{});return gs({},gB(a,["common"],{}),gs({},gB(a,[c],{})))}function pg(a){return!a&&(null==a||isNaN(a))}function ph(a){if(fB(a))return pg(a[1].y);var b=a.y;return fB(b)?pg(b[0]):pg(b)}function dk(c,f,e){if(void 0===f&&(f=!1),void 0===e&&(e=!0),!c.length||1===c.length&&!e)return[];if(f){for(var i=[],a=0,g=c.length;a<g;a++){var d=c[a];ph(d)||i.push(d)}return[i]}for(var h=[],b=[],a=0,g=c.length;a<g;a++){var d=c[a];ph(d)?b.length&&((1!==b.length||e)&&h.push(b),b=[]):b.push(d)}return b.length&&h.push(b),h}function pi(c){for(var a=[],b=0;b<c.length;b++){var d=c[b];if(d){var f=0===b?"M":"L";a.push([f,d.x,d.y])}}var e=c[0];return e&&(a.push(["L",e.x,e.y]),a.push(["z"])),a}function pj(d){for(var h=d.length/2,a=[],b=[],c=0;c<d.length;c++)c<h?a.push(d[c]):b.push(d[c]);var f=n0(a,!1),g=n0(b,!1);b.length&&f.push(["L",b[0].x,b[0].y]),g.shift();var e=f.concat(g);return a.length&&e.push(["L",a[0].x,a[0].y]),e.push(["z"]),e}function pk(b,h,i,a){void 0===a&&(a="");var f=b.style,c=void 0===f?{}:f,j=b.defaultStyle,e=b.color,g=b.size,d=n(n({},j),c);return e&&(h&&!c.stroke&&(d.stroke=e),i&&!c.fill&&(d.fill=e)),a&&fA(c[a])&&!fA(g)&&(d[a]=g),d}function pl(a){return gs({},{fill:"#CCD6EC",fillOpacity:.3},gB(a,["background","style"]))}function pm(a){var b=a.x;return(fB(a.y)?a.y:[a.y]).map(function(a,c){return{x:fB(b)?b[c]:b,y:a}})}var pn={line:function(a,b,c){return[["M",a-c,b],["L",a+c,b],]},dot:function(a,b,c){return[["M",a-c,b],["L",a+c,b],]},dash:function(a,b,c){return[["M",a-c,b],["L",a+c,b],]},smooth:function(b,c,a){return[["M",b-a,c],["A",a/2,a/2,0,1,1,b,c],["A",a/2,a/2,0,1,0,b+a,c],]},hv:function(a,b,c){return[["M",a-c-1,b-2.5],["L",a,b-2.5],["L",a,b+2.5],["L",a+c+1,b+2.5],]},vh:function(a,b,c){return[["M",a-c-1,b+2.5],["L",a,b+2.5],["L",a,b-2.5],["L",a+c+1,b-2.5],]},hvh:function(a,b,c){return[["M",a-(c+1),b+2.5],["L",a-c/2,b+2.5],["L",a-c/2,b-2.5],["L",a+c/2,b-2.5],["L",a+c/2,b+2.5],["L",a+c+1,b+2.5],]},vhv:function(a,b){return[["M",a-5,b+2.5],["L",a-5,b],["L",a,b],["L",a,b-3],["L",a,b+3],["L",a+6.5,b+3],]}};function po(a,b){var c=a.color;return{symbol:pn[b],style:{lineWidth:2,r:6,stroke:c}}}function pp(a,c,e,f,d){var b;return 1===a.length?[["M",a[0].x,a[0].y-d.lineWidth/2],["L",a[0].x,a[0].y],["L",a[0].x,a[0].y+d.lineWidth/2],]:(e?(c&&a.length&&a.push({x:a[0].x,y:a[0].y}),b=n0(a,!1,f)):(b=n_(a,!1),c&&b.push(["Z"])),b)}function dl(a,g,p,h,i,j){if(a.length){var k,b,l,c,d,e,m,n,f,o;return fB(a[0].y)?(k=a,b=g,l=p,c=h,d=i,e=j,m=[],n=[],I(k,function(b){var a=pm(b);m.push(a[1]),n.push(a[0])}),f=pp(m,b,c,d,e),o=pp(n,b,c,d,e),l?f:f.concat(o)):pp(a,g,h,i,j)}return[]}B("line",{defaultShapeType:"line"}),I(["line","dot","dash","smooth"],function(a){f("line",a,{draw:function(g,h){var c,b="smooth"===a;if(b){var d=this.coordinate,e=d.start,f=d.end;c=[[e.x,f.y],[f.x,e.y],]}var i=function(a,f,g){for(var h=a.isStack,i=a.connectNulls,j=a.isInCircle,k=a.showSinglePoint,b=pk(a,!0,!1,"lineWidth"),e=dk(a.points,i,k),c=[],d=0,l=e.length;d<l;d++){var m=e[d];c=c.concat(dl(m,j,h,f,g,b))}return b.path=c,b}(g,b,c);return h.addShape({type:"path",attrs:i,name:"line",capture:!b})},getMarker:function(b){return po(b,a)}})});var P,bN,aC,aD,aE,bO,pq={getLegendItems:dj,translate:dg,rotate:dh,zoom:function(a,e){var b=a.getBBox(),c=(b.minX+b.maxX)/2,d=(b.minY+b.maxY)/2;a.applyToMatrix([c,d,1]);var f=df(a.getMatrix(),[["t",-c,-d],["s",e,e],["t",c,d],]);a.setMatrix(f)},transform:df,getAngle:c6,getSectorPath:c5,polarToCartesian:c4,getDelegationObject:c7,getTooltipItems:dc,getMappingValue:di,getPath:dl,getPathPoints:dk},D={100:"#000",95:"#0D0D0D",85:"#262626",65:"#595959",45:"#8C8C8C",25:"#BFBFBF",15:"#D9D9D9",6:"#F0F0F0"},e={100:"#FFFFFF",95:"#F2F2F2",85:"#D9D9D9",65:"#A6A6A6",45:"#737373",25:"#404040",15:"#262626",6:"#0F0F0F"},p=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E86452","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3",],dm=(void 0===P&&(P={}),aC=void 0===(bN=P.paletteQualitative10)?p:bN,aD=P.paletteQualitative20,aE=P.brandColor,bO={backgroundColor:"#141414",brandColor:void 0===aE?aC[0]:aE,subColor:"rgba(255,255,255,0.05)",paletteQualitative10:aC,paletteQualitative20:void 0===aD?["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#E86452","#F8D0CB","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED",]:aD,paletteSemanticRed:"#F4664A",paletteSemanticGreen:"#30BF78",paletteSemanticYellow:"#FAAD14",paletteSequence:["#B8E1FF","#9AC5FF","#7DAAFF","#5B8FF9","#3D76DD","#085EC0","#0047A5","#00318A","#001D70",],fontFamily:'"Segoe UI", Roboto, "Helvetica Neue", Arial,\n    "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",\n    "Noto Color Emoji"',axisLineBorderColor:e[25],axisLineBorder:1,axisLineDash:null,axisTitleTextFillColor:e[65],axisTitleTextFontSize:12,axisTitleTextLineHeight:12,axisTitleTextFontWeight:"normal",axisTitleSpacing:12,axisDescriptionIconFillColor:D[85],axisTickLineBorderColor:e[25],axisTickLineLength:4,axisTickLineBorder:1,axisSubTickLineBorderColor:e[15],axisSubTickLineLength:2,axisSubTickLineBorder:1,axisLabelFillColor:e[45],axisLabelFontSize:12,axisLabelLineHeight:12,axisLabelFontWeight:"normal",axisLabelOffset:8,axisGridBorderColor:e[15],axisGridBorder:1,axisGridLineDash:null,legendTitleTextFillColor:e[45],legendTitleTextFontSize:12,legendTitleTextLineHeight:21,legendTitleTextFontWeight:"normal",legendMarkerColor:p[0],legendMarkerSpacing:8,legendMarkerSize:4,legendCircleMarkerSize:4,legendSquareMarkerSize:4,legendLineMarkerSize:5,legendItemNameFillColor:e[65],legendItemNameFontSize:12,legendItemNameLineHeight:12,legendItemNameFontWeight:"normal",legendItemSpacing:24,legendItemMarginBottom:12,legendSpacing:16,legendPadding:[8,8,8,8],legendHorizontalPadding:[8,0,8,0],legendVerticalPadding:[0,8,0,8],legendPageNavigatorMarkerSize:12,legendPageNavigatorMarkerInactiveFillColor:e[45],legendPageNavigatorMarkerInactiveFillOpacity:.45,legendPageNavigatorMarkerFillColor:e[45],legendPageNavigatorMarkerFillOpacity:1,legendPageNavigatorTextFillColor:e[65],legendPageNavigatorTextFontSize:12,sliderRailFillColor:e[15],sliderRailBorder:0,sliderRailBorderColor:null,sliderRailWidth:100,sliderRailHeight:12,sliderLabelTextFillColor:e[45],sliderLabelTextFontSize:12,sliderLabelTextLineHeight:12,sliderLabelTextFontWeight:"normal",sliderHandlerFillColor:D[6],sliderHandlerWidth:10,sliderHandlerHeight:14,sliderHandlerBorder:1,sliderHandlerBorderColor:D[25],annotationArcBorderColor:e[15],annotationArcBorder:1,annotationLineBorderColor:e[25],annotationLineBorder:1,annotationLineDash:null,annotationTextFillColor:e[65],annotationTextFontSize:12,annotationTextLineHeight:12,annotationTextFontWeight:"normal",annotationTextBorderColor:null,annotationTextBorder:0,annotationRegionFillColor:e[100],annotationRegionFillOpacity:.06,annotationRegionBorder:0,annotationRegionBorderColor:null,annotationDataMarkerLineLength:16,tooltipCrosshairsBorderColor:e[25],tooltipCrosshairsBorder:1,tooltipCrosshairsLineDash:null,tooltipContainerFillColor:"#1f1f1f",tooltipContainerFillOpacity:.95,tooltipContainerShadow:"0px 2px 4px rgba(0,0,0,.5)",tooltipContainerBorderRadius:3,tooltipTextFillColor:e[65],tooltipTextFontSize:12,tooltipTextLineHeight:12,tooltipTextFontWeight:"bold",labelFillColor:e[65],labelFillColorDark:"#2c3542",labelFillColorLight:"#ffffff",labelFontSize:12,labelLineHeight:12,labelFontWeight:"normal",labelBorderColor:null,labelBorder:0,innerLabelFillColor:D[100],innerLabelFontSize:12,innerLabelLineHeight:12,innerLabelFontWeight:"normal",innerLabelBorderColor:null,innerLabelBorder:0,overflowLabelFillColor:e[65],overflowLabelFillColorDark:"#2c3542",overflowLabelFillColorLight:"#ffffff",overflowLabelFontSize:12,overflowLabelLineHeight:12,overflowLabelFontWeight:"normal",overflowLabelBorderColor:D[100],overflowLabelBorder:1,labelLineBorder:1,labelLineBorderColor:e[25],cSliderRailHieght:16,cSliderBackgroundFillColor:"#416180",cSliderBackgroundFillOpacity:.05,cSliderForegroundFillColor:"#5B8FF9",cSliderForegroundFillOpacity:.15,cSliderHandlerHeight:24,cSliderHandlerWidth:10,cSliderHandlerFillColor:"#F7F7F7",cSliderHandlerFillOpacity:1,cSliderHandlerHighlightFillColor:"#FFF",cSliderHandlerBorderColor:"#BFBFBF",cSliderHandlerBorder:1,cSliderHandlerBorderRadius:2,cSliderTextFillColor:"#fff",cSliderTextFillOpacity:.45,cSliderTextFontSize:12,cSliderTextLineHeight:12,cSliderTextFontWeight:"normal",cSliderTextBorderColor:null,cSliderTextBorder:0,scrollbarTrackFillColor:"rgba(255,255,255,0.65)",scrollbarThumbFillColor:"rgba(0,0,0,0.35)",scrollbarThumbHighlightFillColor:"rgba(0,0,0,0.45)",pointFillColor:p[0],pointFillOpacity:.95,pointSize:4,pointBorder:1,pointBorderColor:D[100],pointBorderOpacity:1,pointActiveBorderColor:e[100],pointSelectedBorder:2,pointSelectedBorderColor:e[100],pointInactiveFillOpacity:.3,pointInactiveBorderOpacity:.3,hollowPointSize:4,hollowPointBorder:1,hollowPointBorderColor:p[0],hollowPointBorderOpacity:.95,hollowPointFillColor:D[100],hollowPointActiveBorder:1,hollowPointActiveBorderColor:e[100],hollowPointActiveBorderOpacity:1,hollowPointSelectedBorder:2,hollowPointSelectedBorderColor:e[100],hollowPointSelectedBorderOpacity:1,hollowPointInactiveBorderOpacity:.3,lineBorder:2,lineBorderColor:p[0],lineBorderOpacity:1,lineActiveBorder:3,lineSelectedBorder:3,lineInactiveBorderOpacity:.3,areaFillColor:p[0],areaFillOpacity:.25,areaActiveFillColor:p[0],areaActiveFillOpacity:.5,areaSelectedFillColor:p[0],areaSelectedFillOpacity:.5,areaInactiveFillOpacity:.3,hollowAreaBorderColor:p[0],hollowAreaBorder:2,hollowAreaBorderOpacity:1,hollowAreaActiveBorder:3,hollowAreaActiveBorderColor:e[100],hollowAreaSelectedBorder:3,hollowAreaSelectedBorderColor:e[100],hollowAreaInactiveBorderOpacity:.3,intervalFillColor:p[0],intervalFillOpacity:.95,intervalActiveBorder:1,intervalActiveBorderColor:e[100],intervalActiveBorderOpacity:1,intervalSelectedBorder:2,intervalSelectedBorderColor:e[100],intervalSelectedBorderOpacity:1,intervalInactiveBorderOpacity:.3,intervalInactiveFillOpacity:.3,hollowIntervalBorder:2,hollowIntervalBorderColor:p[0],hollowIntervalBorderOpacity:1,hollowIntervalFillColor:D[100],hollowIntervalActiveBorder:2,hollowIntervalActiveBorderColor:e[100],hollowIntervalSelectedBorder:3,hollowIntervalSelectedBorderColor:e[100],hollowIntervalSelectedBorderOpacity:1,hollowIntervalInactiveBorderOpacity:.3},n(n({},bO),P));function pr(c,d,e,f){var a=c-e,b=d-f;return Math.sqrt(a*a+b*b)}function ps(a,b,e,f,c,d){return c>=a&&c<=a+e&&d>=b&&d<=b+f}function pt(a,b){return!(b.minX>a.maxX||b.maxX<a.minX||b.minY>a.maxY||b.maxY<a.minY)}function pu(a,b){return a[0]===b[0]&&a[1]===b[1]}var pv=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,pw=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,px=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,py=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function pz(a,c){var b=a.match(py);I(b,function(b){var a=b.split(":");c.addColorStop(a[0],a[1])})}function pA(i,g,b){var l,m,n,c,d,o,e,p,a,f,j,q,r,k,h=g.getBBox();if(isNaN(h.x)||isNaN(h.y)||isNaN(h.width)||isNaN(h.height))return b;if(fT(b)){if("("===b[1]||"("===b[2]){if("l"===b[0])return l=i,m=g,n=b,e=parseFloat((o=pv.exec(n))[1])%360*(Math.PI/180),p=o[2],a=m.getBBox(),e>=0&&e<.5*Math.PI?(c={x:a.minX,y:a.minY},d={x:a.maxX,y:a.maxY}):.5*Math.PI<=e&&e<Math.PI?(c={x:a.maxX,y:a.minY},d={x:a.minX,y:a.maxY}):Math.PI<=e&&e<1.5*Math.PI?(c={x:a.maxX,y:a.maxY},d={x:a.minX,y:a.minY}):(c={x:a.minX,y:a.maxY},d={x:a.maxX,y:a.minY}),f=Math.tan(e),j=f*f,q=(d.x-c.x+f*(d.y-c.y))/(j+1)+c.x,r=f*(d.x-c.x+f*(d.y-c.y))/(j+1)+c.y,k=l.createLinearGradient(c.x,c.y,q,r),pz(p,k),k;if("r"===b[0])return function(i,j,k){var b=pw.exec(k),l=parseFloat(b[1]),m=parseFloat(b[2]),e=parseFloat(b[3]),f=b[4];if(0===e){var g=f.match(py);return g[g.length-1].split(":")[1]}var a=j.getBBox(),c=a.maxX-a.minX,d=a.maxY-a.minY,h=i.createRadialGradient(a.minX+c*l,a.minY+d*m,0,a.minX+c/2,a.minY+d/2,e*(Math.sqrt(c*c+d*d)/2));return pz(f,h),h}(i,g,b);if("p"===b[0])return function(i,c,d){if(c.get("patternSource")&&c.get("patternSource")===d)return c.get("pattern");var h,a,e=px.exec(d),b=e[1],f=e[2];function g(){h=i.createPattern(a,b),c.set("pattern",h),c.set("patternSource",d)}switch(b){case"a":b="repeat";break;case"x":b="repeat-x";break;case"y":b="repeat-y";break;default:b="no-repeat"}return a=new Image,f.match(/^data:/i)||(a.crossOrigin="Anonymous"),a.src=f,a.complete?g():(a.onload=g,a.src=a.src),h}(i,g,b)}return b}if(b instanceof CanvasPattern)return b}function pB(a){return Math.sqrt(a[0]*a[0]+a[1]*a[1])}function pC(a,b){return pB(a)*pB(b)?(a[0]*b[0]+a[1]*b[1])/(pB(a)*pB(b)):1}function pD(a,b){return(a[0]*b[1]<a[1]*b[0]?-1:1)*Math.acos(pC(a,b))}function pE(k,d){var a=d[1],b=d[2],c=f9(gb(d[3]),2*Math.PI),u=d[4],l=d[5],p=k[0],q=k[1],h=d[6],i=d[7],e=Math.cos(c)*(p-h)/2+Math.sin(c)*(q-i)/2,f=-1*Math.sin(c)*(p-h)/2+Math.cos(c)*(q-i)/2,r=e*e/(a*a)+f*f/(b*b);r>1&&(a*=Math.sqrt(r),b*=Math.sqrt(r));var s=a*a*(f*f)+b*b*(e*e),j=s?Math.sqrt((a*a*(b*b)-s)/s):1;u===l&&(j*=-1),isNaN(j)&&(j=0);var m=b?j*a*f/b:0,n=a?-(j*b)*e/a:0,o=[(e-m)/a,(f-n)/b],t=[(-1*e-m)/a,(-1*f-n)/b],v=pD([1,0],o),g=pD(o,t);return -1>=pC(o,t)&&(g=Math.PI),pC(o,t)>=1&&(g=0),0===l&&g>0&&(g-=2*Math.PI),1===l&&g<0&&(g+=2*Math.PI),{cx:(p+h)/2+Math.cos(c)*m-Math.sin(c)*n,cy:(q+i)/2+Math.sin(c)*m+Math.cos(c)*n,rx:pu(k,[h,i])?0:a,ry:pu(k,[h,i])?0:b,startAngle:v,endAngle:v+g,xRotation:c,arcFlag:u,sweepFlag:l}}var pF=Math.sin,pG=Math.cos,pH=Math.atan2,pI=Math.PI;function pJ(d,e,f,g,a,b,h){var i=e.stroke,j=e.lineWidth,k=pH(g-b,f-a),c=new qd({type:"path",canvas:d.get("canvas"),isArrowShape:!0,attrs:{path:"M"+10*pG(pI/6)+","+10*pF(pI/6)+" L0,0 L"+10*pG(pI/6)+",-"+10*pF(pI/6),stroke:i,lineWidth:j}});c.translate(a,b),c.rotateAtPoint(a,b,k),d.set(h?"startArrowShape":"endArrowShape",c)}function pK(h,b,j,k,c,d,i){var l=b.startArrow,m=b.endArrow,o=b.stroke,p=b.lineWidth,a=i?l:m,e=a.d,q=a.fill,r=a.stroke,s=a.lineWidth,t=fm(a,["d","fill","stroke","lineWidth"]),u=j-c,v=k-d,f=pH(v,u);e&&(c-=pG(f)*e,d-=pF(f)*e);var g=new qd({type:"path",canvas:h.get("canvas"),isArrowShape:!0,attrs:n(n({},t),{stroke:r||o,lineWidth:s||p,fill:q})});g.translate(c,d),g.rotateAtPoint(c,d,f),h.set(i?"startArrowShape":"endArrowShape",g)}function pL(c,d,e,f,a){var b=pH(f-d,e-c);return{dx:pG(b)*a,dy:pF(b)*a}}function pM(b,a,c,d,e,f){"object"==typeof a.startArrow?pK(b,a,c,d,e,f,!0):a.startArrow?pJ(b,a,c,d,e,f,!0):b.set("startArrowShape",null)}function pN(b,a,c,d,e,f){"object"==typeof a.endArrow?pK(b,a,c,d,e,f,!1):a.endArrow?pJ(b,a,c,d,e,f,!1):b.set("startArrowShape",null)}var pO={fill:"fillStyle",stroke:"strokeStyle",opacity:"globalAlpha"};function pP(b,e){var f=e.attr();for(var d in f){var a=f[d],c=pO[d]?pO[d]:d;"matrix"===c&&a?b.transform(a[0],a[1],a[3],a[4],a[6],a[7]):"lineDash"===c&&b.setLineDash?fB(a)&&b.setLineDash(a):("strokeStyle"===c||"fillStyle"===c?a=pA(b,e,a):"globalAlpha"===c&&(a*=b.globalAlpha),b[c]=a)}}function pQ(d,c,e){for(var a=0;a<c.length;a++){var b=c[a];b.cfg.visible?b.draw(d,e):b.skipDraw()}}function pR(d,b){for(var c=0;c<d.length;c++){var a=d[c];if(a.cfg.visible){if(a.cfg.hasChanged)a.cfg.refresh=!0,a.isGroup()&&pT(a.cfg.children,b);else if(a.cfg.refresh)a.isGroup()&&pR(a.cfg.children,b);else{var e=pU(a,b);a.cfg.refresh=e,e&&a.isGroup()&&pR(a.cfg.children,b)}}}}function pS(c){for(var b=0;b<c.length;b++){var a=c[b];a.cfg.hasChanged=!1,a.isGroup()&&!a.destroyed&&pS(a.cfg.children)}}function pT(c,d){for(var a=0;a<c.length;a++){var b=c[a];b.cfg.refresh=!0,b.isGroup()&&pT(b.get("children"),d)}}function pU(a,c){var b=a.cfg.cacheCanvasBBox;return a.cfg.isInView&&b&&pt(b,c)}function pV(n,b,o,p){var f=o.path,q=o.startArrow,i=o.endArrow;if(f){var k=[0,0],u=[0,0],j={dx:0,dy:0};b.beginPath();for(var e=0;e<f.length;e++){var a=f[e],v=a[0];if(0===e&&q&&q.d){var c=n.getStartTangent();j=pL(c[0][0],c[0][1],c[1][0],c[1][1],q.d)}else if(e===f.length-2&&"Z"===f[e+1][0]&&i&&i.d){if("Z"===f[e+1][0]){var c=n.getEndTangent();j=pL(c[0][0],c[0][1],c[1][0],c[1][1],i.d)}}else if(e===f.length-1&&i&&i.d&&"Z"!==f[0]){var c=n.getEndTangent();j=pL(c[0][0],c[0][1],c[1][0],c[1][1],i.d)}var l=j.dx,m=j.dy;switch(v){case"M":b.moveTo(a[1]-l,a[2]-m),u=[a[1],a[2]];break;case"L":b.lineTo(a[1]-l,a[2]-m);break;case"Q":b.quadraticCurveTo(a[1],a[2],a[3]-l,a[4]-m);break;case"C":b.bezierCurveTo(a[1],a[2],a[3],a[4],a[5]-l,a[6]-m);break;case"A":var d=void 0;p?(d=p[e])||(d=pE(k,a),p[e]=d):d=pE(k,a);var r=d.cx,s=d.cy,g=d.rx,h=d.ry,w=d.startAngle,x=d.endAngle,t=d.xRotation,y=d.sweepFlag;if(b.ellipse)b.ellipse(r,s,g,h,t,w,x,1-y);else{var C=g>h?g:h,z=g>h?1:g/h,A=g>h?h/g:1;b.translate(r,s),b.rotate(t),b.scale(z,A),b.arc(0,0,C,w,x,1-y),b.scale(1/z,1/A),b.rotate(-t),b.translate(-r,-s)}break;case"Z":b.closePath()}if("Z"===v)k=u;else{var B=a.length;k=[a[B-2],a[B-1]]}}}}function pW(a,c){var b=a.get("canvas");b&&("remove"===c&&(a._cacheCanvasBBox=a.get("cacheCanvasBBox")),a.get("hasChanged")||(a.set("hasChanged",!0),!(a.cfg.parent&&a.cfg.parent.get("hasChanged"))&&(b.refreshElement(a,c,b),b.get("autoDraw")&&b.draw())))}var pX=function(b){function a(){return null!==b&&b.apply(this,arguments)||this}return fl(a,b),a.prototype.onCanvasChange=function(a){pW(this,a)},a.prototype.getShapeBase=function(){return a5},a.prototype.getGroupBase=function(){return a},a.prototype._applyClip=function(a,b){b&&(a.save(),pP(a,b),b.createPath(a),a.restore(),a.clip(),b._afterDraw())},a.prototype.cacheCanvasBBox=function(){var i=this.cfg.children,a=[],e=[];I(i,function(c){var b=c.cfg.cacheCanvasBBox;b&&c.cfg.isInView&&(a.push(b.minX,b.maxX),e.push(b.minY,b.maxY))});var b=null;if(a.length){var c=fN(a),f=fM(a),d=fN(e),g=fM(e);b={minX:c,minY:d,x:c,y:d,maxX:f,maxY:g,width:f-c,height:g-d};var h=this.cfg.canvas;if(h){var j=h.getViewRange();this.set("isInView",pt(b,j))}}else this.set("isInView",!1);this.set("cacheCanvasBBox",b)},a.prototype.draw=function(a,b){var c=this.cfg.children,d=!b||this.cfg.refresh;c.length&&d&&(a.save(),pP(a,this),this._applyClip(a,this.getClip()),pQ(a,c,b),a.restore(),this.cacheCanvasBBox()),this.cfg.refresh=null,this.set("hasChanged",!1)},a.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("hasChanged",!1)},a}(bp),w=function(b){function a(){return null!==b&&b.apply(this,arguments)||this}return fl(a,b),a.prototype.getDefaultAttrs=function(){return n(n({},b.prototype.getDefaultAttrs.call(this)),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},a.prototype.getShapeBase=function(){return a5},a.prototype.getGroupBase=function(){return pX},a.prototype.onCanvasChange=function(a){pW(this,a)},a.prototype.calculateBBox=function(){var f=this.get("type"),c=this.getHitLineWidth(),a=jP(f)(this),b=c/2,d=a.x-b,e=a.y-b,g=a.x+a.width+b,h=a.y+a.height+b;return{x:d,minX:d,y:e,minY:e,width:a.width+c,height:a.height+c,maxX:g,maxY:h}},a.prototype.isFill=function(){return!!this.attrs.fill||this.isClipShape()},a.prototype.isStroke=function(){return!!this.attrs.stroke},a.prototype._applyClip=function(a,b){b&&(a.save(),pP(a,b),b.createPath(a),a.restore(),a.clip(),b._afterDraw())},a.prototype.draw=function(a,b){var c=this.cfg.clipShape;if(b){if(!1===this.cfg.refresh){this.set("hasChanged",!1);return}if(!pt(b,this.getCanvasBBox())){this.set("hasChanged",!1),this.cfg.isInView&&this._afterDraw();return}}a.save(),pP(a,this),this._applyClip(a,c),this.drawPath(a),a.restore(),this._afterDraw()},a.prototype.getCanvasViewBox=function(){var a=this.cfg.canvas;return a?a.getViewRange():null},a.prototype.cacheCanvasBBox=function(){var a=this.getCanvasViewBox();if(a){var b=this.getCanvasBBox(),c=pt(b,a);this.set("isInView",c),c?this.set("cacheCanvasBBox",b):this.set("cacheCanvasBBox",null)}},a.prototype._afterDraw=function(){this.cacheCanvasBBox(),this.set("hasChanged",!1),this.set("refresh",null)},a.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("isInView",null),this.set("hasChanged",!1)},a.prototype.drawPath=function(a){this.createPath(a),this.strokeAndFill(a),this.afterDrawPath(a)},a.prototype.fill=function(a){a.fill()},a.prototype.stroke=function(a){a.stroke()},a.prototype.strokeAndFill=function(a){var b=this.attrs,e=b.lineWidth,f=b.opacity,c=b.strokeOpacity,d=b.fillOpacity;this.isFill()&&(fA(d)||1===d?this.fill(a):(a.globalAlpha=d,this.fill(a),a.globalAlpha=f)),this.isStroke()&&e>0&&(fA(c)||1===c||(a.globalAlpha=c),this.stroke(a)),this.afterDrawPath(a)},a.prototype.createPath=function(a){},a.prototype.afterDrawPath=function(a){},a.prototype.isInShape=function(a,b){var c=this.isStroke(),d=this.isFill(),e=this.getHitLineWidth();return this.isInStrokeOrPath(a,b,c,d,e)},a.prototype.isInStrokeOrPath=function(a,b,c,d,e){return!1},a.prototype.getHitLineWidth=function(){if(!this.isStroke())return 0;var a=this.attrs;return a.lineWidth+a.lineAppendWidth},a}(bq),pY=function(b){function a(){return null!==b&&b.apply(this,arguments)||this}return fl(a,b),a.prototype.getDefaultAttrs=function(){return n(n({},b.prototype.getDefaultAttrs.call(this)),{x:0,y:0,r:0})},a.prototype.isInStrokeOrPath=function(g,h,e,f,i){var c=this.attr(),j=c.x,k=c.y,a=c.r,d=i/2,b=pr(j,k,g,h);return f&&e?b<=a+d:f?b<=a:!!e&&b>=a-d&&b<=a+d},a.prototype.createPath=function(a){var b=this.attr(),c=b.x,d=b.y,e=b.r;a.beginPath(),a.arc(c,d,e,0,2*Math.PI,!1),a.closePath()},a}(w);function pZ(c,d,a,b){return c/(a*a)+d/(b*b)}var p$=function(b){function a(){return null!==b&&b.apply(this,arguments)||this}return fl(a,b),a.prototype.getDefaultAttrs=function(){return n(n({},b.prototype.getDefaultAttrs.call(this)),{x:0,y:0,rx:0,ry:0})},a.prototype.isInStrokeOrPath=function(g,h,i,j,m){var b=this.attr(),a=m/2,k=b.x,l=b.y,c=b.rx,d=b.ry,e=(g-k)*(g-k),f=(h-l)*(h-l);return j&&i?1>=pZ(e,f,c+a,d+a):j?1>=pZ(e,f,c,d):!!i&&pZ(e,f,c-a,d-a)>=1&&1>=pZ(e,f,c+a,d+a)},a.prototype.createPath=function(a){var d=this.attr(),e=d.x,f=d.y,b=d.rx,c=d.ry;if(a.beginPath(),a.ellipse)a.ellipse(e,f,b,c,0,0,2*Math.PI,!1);else{var g=b>c?b:c,h=b>c?1:b/c,i=b>c?c/b:1;a.save(),a.translate(e,f),a.scale(h,i),a.arc(0,0,g,0,2*Math.PI),a.restore(),a.closePath()}},a}(w);function p_(a){return a instanceof HTMLElement&&fT(a.nodeName)&&"CANVAS"===a.nodeName.toUpperCase()}var p0=function(b){function a(){return null!==b&&b.apply(this,arguments)||this}return fl(a,b),a.prototype.getDefaultAttrs=function(){return n(n({},b.prototype.getDefaultAttrs.call(this)),{x:0,y:0,width:0,height:0})},a.prototype.initAttrs=function(a){this._setImage(a.img)},a.prototype.isStroke=function(){return!1},a.prototype.isOnlyHitBox=function(){return!0},a.prototype._afterLoading=function(){if(!0===this.get("toDraw")){var a=this.get("canvas");a?a.draw():this.createPath(this.get("context"))}},a.prototype._setImage=function(a){var d=this,b=this.attrs;if(fT(a)){var c=new Image;c.onload=function(){if(d.destroyed)return!1;d.attr("img",c),d.set("loading",!1),d._afterLoading();var a=d.get("callback");a&&a.call(d)},c.crossOrigin="Anonymous",c.src=a,this.set("loading",!0)}else a instanceof Image?(b.width||(b.width=a.width),b.height||(b.height=a.height)):p_(a)&&(b.width||(b.width=Number(a.getAttribute("width"))),b.height||(b.height,a.getAttribute("height")))},a.prototype.onAttrChange=function(a,c,d){b.prototype.onAttrChange.call(this,a,c,d),"img"===a&&this._setImage(c)},a.prototype.createPath=function(c){if(this.get("loading")){this.set("toDraw",!0),this.set("context",c);return}var a=this.attr(),d=a.x,e=a.y,f=a.width,g=a.height,h=a.sx,i=a.sy,j=a.swidth,k=a.sheight,b=a.img;(b instanceof Image||p_(b))&&(fA(h)||fA(i)||fA(j)||fA(k)?c.drawImage(b,d,e,f,g):c.drawImage(b,h,i,j,k,d,e,f,g))},a}(w);function p1(b,c,d,e,h,f,g){var a=h/2;return!!(f>=Math.min(b,d)-a&&f<=Math.max(b,d)+a&&g>=Math.min(c,e)-a&&g<=Math.max(c,e)+a)&&jW.pointToLine(b,c,d,e,f,g)<=h/2}var p2=function(b){function a(){return null!==b&&b.apply(this,arguments)||this}return fl(a,b),a.prototype.getDefaultAttrs=function(){return n(n({},b.prototype.getDefaultAttrs.call(this)),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},a.prototype.initAttrs=function(a){this.setArrow()},a.prototype.onAttrChange=function(a,c,d){b.prototype.onAttrChange.call(this,a,c,d),this.setArrow()},a.prototype.setArrow=function(){var a=this.attr(),b=a.x1,c=a.y1,d=a.x2,e=a.y2,f=a.startArrow,g=a.endArrow;f&&pM(this,a,d,e,b,c),g&&pN(this,a,b,c,d,e)},a.prototype.isInStrokeOrPath=function(c,d,e,j,b){if(!e||!b)return!1;var a=this.attr(),f=a.x1,g=a.y1,h=a.x2,i=a.y2;return p1(f,g,h,i,b,c,d)},a.prototype.createPath=function(b){var a=this.attr(),c=a.x1,d=a.y1,e=a.x2,f=a.y2,i=a.startArrow,j=a.endArrow,g={dx:0,dy:0},h={dx:0,dy:0};i&&i.d&&(g=pL(c,d,e,f,a.startArrow.d)),j&&j.d&&(h=pL(c,d,e,f,a.endArrow.d)),b.beginPath(),b.moveTo(c+g.dx,d+g.dy),b.lineTo(e-h.dx,f-h.dy)},a.prototype.afterDrawPath=function(a){var b=this.get("startArrowShape"),c=this.get("endArrowShape");b&&b.draw(a),c&&c.draw(a)},a.prototype.getTotalLength=function(){var a=this.attr(),b=a.x1,c=a.y1,d=a.x2,e=a.y2;return jW.length(b,c,d,e)},a.prototype.getPoint=function(b){var a=this.attr(),c=a.x1,d=a.y1,e=a.x2,f=a.y2;return jW.pointAt(c,d,e,f,b)},a}(w),p3={circle:function(b,c,a){return[["M",b-a,c],["A",a,a,0,1,0,b+a,c],["A",a,a,0,1,0,b-a,c],]},square:function(b,c,a){return[["M",b-a,c-a],["L",b+a,c-a],["L",b+a,c+a],["L",b-a,c+a],["Z"]]},diamond:function(a,b,c){return[["M",a-c,b],["L",a,b-c],["L",a+c,b],["L",a,b+c],["Z"]]},triangle:function(a,b,c){var d=c*Math.sin(1/3*Math.PI);return[["M",a-c,b+d],["L",a,b-d],["L",a+c,b+d],["Z"]]},"triangle-down":function(a,b,c){var d=c*Math.sin(1/3*Math.PI);return[["M",a-c,b-d],["L",a+c,b-d],["L",a,b+d],["Z"]]}},p4=function(b){function a(){return null!==b&&b.apply(this,arguments)||this}return fl(a,b),a.prototype.initAttrs=function(a){this._resetParamsCache()},a.prototype._resetParamsCache=function(){this.set("paramsCache",{})},a.prototype.onAttrChange=function(a,c,d){b.prototype.onAttrChange.call(this,a,c,d),-1!==["symbol","x","y","r","radius"].indexOf(a)&&this._resetParamsCache()},a.prototype.isOnlyHitBox=function(){return!0},a.prototype._getR=function(a){return fA(a.r)?a.radius:a.r},a.prototype._getPath=function(){var e,b,c=this.attr(),f=c.x,g=c.y,d=c.symbol||"circle",h=this._getR(c);if(fz(d))b=kx(b=(e=d)(f,g,h));else{if(!(e=a.Symbols[d]))return console.warn(d+" marker is not supported."),null;b=e(f,g,h)}return b},a.prototype.createPath=function(a){var b;pV(this,a,{path:this._getPath()},this.get("paramsCache"))},a.Symbols=p3,a}(w);function p5(b,c,d){var a=kj();return b.createPath(a),a.isPointInPath(c,d)}function p6(a){return 1e-6>Math.abs(a)?0:a<0?-1:1}function p7(a,b,c){return!!((c[0]-a[0])*(b[1]-a[1])==(b[0]-a[0])*(c[1]-a[1])&&Math.min(a[0],b[0])<=c[0]&&c[0]<=Math.max(a[0],b[0])&&Math.min(a[1],b[1])<=c[1]&&c[1]<=Math.max(a[1],b[1]))}function p8(e,h,b){var f=!1,g=e.length;if(g<=2)return!1;for(var c=0;c<g;c++){var a=e[c],d=e[(c+1)%g];if(p7(a,d,[h,b]))return!0;p6(a[1]-b)>0!=p6(d[1]-b)>0&&0>p6(h-(b-a[1])*(a[0]-d[0])/(a[1]-d[1])-a[0])&&(f=!f)}return f}function p9(b,c,d,h,i,j,e,f){var a=(Math.atan2(f-c,e-b)+2*Math.PI)%(2*Math.PI);if(a<h||a>i)return!1;var g={x:b+d*Math.cos(a),y:c+d*Math.sin(a)};return pr(g.x,g.y,e,f)<=j/2}var qa=at,qb=n({hasArc:function(c){for(var d=!1,e=c.length,a=0;a<e;a++){var b=c[a][0];if("C"===b||"A"===b||"Q"===b){d=!0;break}}return d},extractPolygons:function(e){for(var h=e.length,f=[],c=[],a=[],d=0;d<h;d++){var b=e[d],g=b[0];"M"===g?(a.length&&(c.push(a),a=[]),a.push([b[1],b[2]])):"Z"===g?a.length&&(f.push(a),a=[]):a.push([b[1],b[2]])}return a.length>0&&c.push(a),{polygons:f,polylines:c}},isPointInStroke:function(n,b,i,j,q){for(var d=!1,o=b/2,m=0;m<n.length;m++){var e=n[m],p=e.currentPoint,a=e.params,f=e.prePoint,k=e.box;if(!k||ps(k.x-o,k.y-o,k.width+b,k.height+b,i,j)){switch(e.command){case"L":case"Z":d=p1(f[0],f[1],p[0],p[1],b,i,j);break;case"Q":d=j0.pointDistance(f[0],f[1],a[1],a[2],a[3],a[4],i,j)<=b/2;break;case"C":d=j4.pointDistance(f[0],f[1],a[1],a[2],a[3],a[4],a[5],a[6],i,j,q)<=b/2;break;case"A":var c=e.arcParams,r=c.cx,s=c.cy,g=c.rx,h=c.ry,t=c.startAngle,u=c.endAngle,v=c.xRotation,l=[i,j,1],w=g>h?g:h,x=g>h?1:g/h,y=g>h?h/g:1,z=qa(null,[["t",-r,-s],["r",-v],["s",1/x,1/y],]);l3(l,l,z),d=p9(0,0,w,t,u,b,l[0],l[1])}if(d)break}}return d}},am);function qc(b,d,e){for(var c=!1,a=0;a<b.length&&!(c=p8(b[a],d,e));a++);return c}var qd=function(b){function a(){return null!==b&&b.apply(this,arguments)||this}return fl(a,b),a.prototype.getDefaultAttrs=function(){return n(n({},b.prototype.getDefaultAttrs.call(this)),{startArrow:!1,endArrow:!1})},a.prototype.initAttrs=function(a){this._setPathArr(a.path),this.setArrow()},a.prototype.onAttrChange=function(a,c,d){b.prototype.onAttrChange.call(this,a,c,d),"path"===a&&this._setPathArr(c),this.setArrow()},a.prototype._setPathArr=function(a){this.attrs.path=kx(a);var b=qb.hasArc(a);this.set("hasArc",b),this.set("paramsCache",{}),this.set("segments",null),this.set("curve",null),this.set("tCache",null),this.set("totalLength",null)},a.prototype.getSegments=function(){var a=this.get("segements");return a||(a=kS(this.attr("path")),this.set("segments",a)),a},a.prototype.setArrow=function(){var b=this.attr(),c=b.startArrow,d=b.endArrow;if(c){var a=this.getStartTangent();pM(this,b,a[0][0],a[0][1],a[1][0],a[1][1])}if(d){var a=this.getEndTangent();pN(this,b,a[0][0],a[0][1],a[1][0],a[1][1])}},a.prototype.isInStrokeOrPath=function(b,c,e,f,g){var h=this.getSegments(),i=this.get("hasArc"),a=!1;if(e){var j=this.getTotalLength();a=qb.isPointInStroke(h,g,b,c,j)}if(!a&&f){if(i)a=p5(this,b,c);else{var k=this.attr("path"),d=qb.extractPolygons(k);a=qc(d.polygons,b,c)||qc(d.polylines,b,c)}}return a},a.prototype.createPath=function(a){var b;pV(this,a,this.attr(),this.get("paramsCache"))},a.prototype.afterDrawPath=function(a){var b=this.get("startArrowShape"),c=this.get("endArrowShape");b&&b.draw(a),c&&c.draw(a)},a.prototype.getTotalLength=function(){var a=this.get("totalLength");return fA(a)?(this._calculateCurve(),this._setTcache(),this.get("totalLength")):a},a.prototype.getPoint=function(h){var g,e,b=this.get("tCache");b||(this._calculateCurve(),this._setTcache(),b=this.get("tCache"));var c=this.get("curve");if(!b||0===b.length)return c?{x:c[0][1],y:c[0][2]}:null;I(b,function(a,b){h>=a[0]&&h<=a[1]&&(g=(h-a[0])/(a[1]-a[0]),e=b)});var d=c[e];if(fA(d)||fA(e))return null;var f=d.length,a=c[e+1];return j4.pointAt(d[f-2],d[f-1],a[1],a[2],a[3],a[4],a[5],a[6],g)},a.prototype._calculateCurve=function(){var a=this.attr().path;this.set("curve",qb.pathToCurve(a))},a.prototype._setTcache=function(){var d,e,f,g,b=0,h=0,c=[],a=this.get("curve");if(a){if(I(a,function(c,d){f=a[d+1],g=c.length,f&&(b+=j4.length(c[g-2],c[g-1],f[1],f[2],f[3],f[4],f[5],f[6])||0)}),this.set("totalLength",b),0===b){this.set("tCache",[]);return}I(a,function(i,j){f=a[j+1],g=i.length,f&&((d=[])[0]=h/b,h+=(e=j4.length(i[g-2],i[g-1],f[1],f[2],f[3],f[4],f[5],f[6]))||0,d[1]=h/b,c.push(d))}),this.set("tCache",c)}},a.prototype.getStartTangent=function(){var a,c=this.getSegments();if(c.length>1){var b=c[0].currentPoint,e=c[1].currentPoint,d=c[1].startTangent;a=[],d?(a.push([b[0]-d[0],b[1]-d[1]]),a.push([b[0],b[1]])):(a.push([e[0],e[1]]),a.push([b[0],b[1]]))}return a},a.prototype.getEndTangent=function(){var a,c=this.getSegments(),d=c.length;if(d>1){var f=c[d-2].currentPoint,b=c[d-1].currentPoint,e=c[d-1].endTangent;a=[],e?(a.push([b[0]-e[0],b[1]-e[1]]),a.push([b[0],b[1]])):(a.push([f[0],f[1]]),a.push([b[0],b[1]]))}return a},a}(w);function qe(a,d,e,f,i){var c=a.length;if(c<2)return!1;for(var b=0;b<c-1;b++){var j=a[b][0],k=a[b][1],l=a[b+1][0],m=a[b+1][1];if(p1(j,k,l,m,d,e,f))return!0}if(i){var g=a[0],h=a[c-1];if(p1(g[0],g[1],h[0],h[1],d,e,f))return!0}return!1}var qf=function(b){function a(){return null!==b&&b.apply(this,arguments)||this}return fl(a,b),a.prototype.isInStrokeOrPath=function(b,c,e,f,g){var d=this.attr().points,a=!1;return e&&(a=qe(d,g,b,c,!0)),!a&&f&&(a=p8(d,b,c)),a},a.prototype.createPath=function(a){var d=this.attr().points;if(!(d.length<2)){a.beginPath();for(var b=0;b<d.length;b++){var c=d[b];0===b?a.moveTo(c[0],c[1]):a.lineTo(c[0],c[1])}a.closePath()}},a}(w),qg=function(b){function a(){return null!==b&&b.apply(this,arguments)||this}return fl(a,b),a.prototype.getDefaultAttrs=function(){return n(n({},b.prototype.getDefaultAttrs.call(this)),{startArrow:!1,endArrow:!1})},a.prototype.initAttrs=function(a){this.setArrow()},a.prototype.onAttrChange=function(a,c,d){b.prototype.onAttrChange.call(this,a,c,d),this.setArrow(),-1!==["points"].indexOf(a)&&this._resetCache()},a.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},a.prototype.setArrow=function(){var d=this.attr(),c=this.attrs,a=c.points,e=c.startArrow,f=c.endArrow,b=a.length,g=a[0][0],h=a[0][1],i=a[b-1][0],j=a[b-1][1];e&&pM(this,d,a[1][0],a[1][1],g,h),f&&pN(this,d,a[b-2][0],a[b-2][1],i,j)},a.prototype.isFill=function(){return!1},a.prototype.isInStrokeOrPath=function(b,c,d,e,a){return!!d&&!!a&&qe(this.attr().points,a,b,c,!1)},a.prototype.isStroke=function(){return!0},a.prototype.createPath=function(d){var e=this.attr(),a=e.points,f=e.startArrow,g=e.endArrow,b=a.length;if(!(a.length<2)){var h=a[0][0],i=a[0][1],j=a[b-1][0],k=a[b-1][1];if(f&&f.d){var c=pL(h,i,a[1][0],a[1][1],f.d);h+=c.dx,i+=c.dy}if(g&&g.d){var c=pL(a[b-2][0],a[b-2][1],j,k,g.d);j-=c.dx,k-=c.dy}d.beginPath(),d.moveTo(h,i);for(var l=0;l<b-1;l++){var m=a[l];d.lineTo(m[0],m[1])}d.lineTo(j,k)}},a.prototype.afterDrawPath=function(a){var b=this.get("startArrowShape"),c=this.get("endArrowShape");b&&b.draw(a),c&&c.draw(a)},a.prototype.getTotalLength=function(){var b=this.attr().points,a=this.get("totalLength");return fA(a)?(this.set("totalLength",kf.length(b)),this.get("totalLength")):a},a.prototype.getPoint=function(e){var d,a,b=this.attr().points,c=this.get("tCache");return c||(this._setTcache(),c=this.get("tCache")),I(c,function(b,c){e>=b[0]&&e<=b[1]&&(d=(e-b[0])/(b[1]-b[0]),a=c)}),jW.pointAt(b[a][0],b[a][1],b[a+1][0],b[a+1][1],d)},a.prototype._setTcache=function(){var d,e,a=this.attr().points;if(a&&0!==a.length){var b=this.getTotalLength();if(!(b<=0)){var f=0,c=[];I(a,function(h,g){a[g+1]&&((d=[])[0]=f/b,f+=e=jW.length(h[0],h[1],a[g+1][0],a[g+1][1]),d[1]=f/b,c.push(d))}),this.set("tCache",c)}}},a.prototype.getStartTangent=function(){var a=this.attr().points,b=[];return b.push([a[1][0],a[1][1]]),b.push([a[0][0],a[0][1]]),b},a.prototype.getEndTangent=function(){var a=this.attr().points,b=a.length-1,c=[];return c.push([a[b-1][0],a[b-1][1]]),c.push([a[b][0],a[b][1]]),c},a}(w),qh=function(b){function a(){return null!==b&&b.apply(this,arguments)||this}return fl(a,b),a.prototype.getDefaultAttrs=function(){return n(n({},b.prototype.getDefaultAttrs.call(this)),{x:0,y:0,width:0,height:0,radius:0})},a.prototype.isInStrokeOrPath=function(k,l,z,A,B){var m,n,r,s,j,o,p,f,q=this.attr(),t=q.x,u=q.y,v=q.width,w=q.height,C=q.radius;if(C){var b,c,h,i,a,d,e,g,x=!1;return z&&(x=(b=t,c=u,h=v,i=w,a=C,d=B,e=k,p1(b+a,c,b+h-a,c,d,e,g=l)||p1(b+h,c+a,b+h,c+i-a,d,e,g)||p1(b+h-a,c+i,b+a,c+i,d,e,g)||p1(b,c+i-a,b,c+a,d,e,g)||p9(b+h-a,c+a,a,1.5*Math.PI,2*Math.PI,d,e,g)||p9(b+h-a,c+i-a,a,0,.5*Math.PI,d,e,g)||p9(b+a,c+i-a,a,.5*Math.PI,Math.PI,d,e,g)||p9(b+a,c+a,a,Math.PI,1.5*Math.PI,d,e,g))),!x&&A&&(x=p5(this,k,l)),x}var y=B/2;return A&&z?ps(t-y,u-y,v+y,w+y,k,l):A?ps(t,u,v,w,k,l):z?(m=t,n=u,r=v,s=w,j=B,o=k,p=l,ps(m-(f=j/2),n-f,r,j,o,p)||ps(m+r-f,n-f,j,s,o,p)||ps(m+f,n+s-f,r,j,o,p)||ps(m-f,n+f,j,s,o,p)):void 0},a.prototype.createPath=function(b){var j=this.attr(),c=j.x,d=j.y,k=j.width,l=j.height,q=j.radius;if(b.beginPath(),0===q)b.rect(c,d,k,l);else{var a,e,f,g,h,p=(e=0,f=0,g=0,h=0,fB(a=q)?1===a.length?e=f=g=h=a[0]:2===a.length?(e=g=a[0],f=h=a[1]):3===a.length?(e=a[0],f=h=a[1],g=a[2]):(e=a[0],f=a[1],g=a[2],h=a[3]):e=f=g=h=a,[e,f,g,h]),i=p[0],m=p[1],n=p[2],o=p[3];b.moveTo(c+i,d),b.lineTo(c+k-m,d),0!==m&&b.arc(c+k-m,d+m,m,-Math.PI/2,0),b.lineTo(c+k,d+l-n),0!==n&&b.arc(c+k-n,d+l-n,n,0,Math.PI/2),b.lineTo(c+o,d+l),0!==o&&b.arc(c+o,d+l-o,o,Math.PI/2,Math.PI),b.lineTo(c,d+i),0!==i&&b.arc(c+i,d+i,i,Math.PI,1.5*Math.PI),b.closePath()}},a}(w),qi=function(b){function a(){return null!==b&&b.apply(this,arguments)||this}return fl(a,b),a.prototype.getDefaultAttrs=function(){return n(n({},b.prototype.getDefaultAttrs.call(this)),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},a.prototype.isOnlyHitBox=function(){return!0},a.prototype.initAttrs=function(a){this._assembleFont(),a.text&&this._setText(a.text)},a.prototype._assembleFont=function(){var a=this.attrs;a.font=km(a)},a.prototype._setText=function(a){var b=null;fT(a)&& -1!==a.indexOf("\n")&&(b=a.split("\n")),this.set("textArr",b)},a.prototype.onAttrChange=function(a,c,d){b.prototype.onAttrChange.call(this,a,c,d),a.startsWith("font")&&this._assembleFont(),"text"===a&&this._setText(c)},a.prototype._getSpaceingY=function(){var a=this.attrs,b=a.lineHeight,c=1*a.fontSize;return b?b-c:.14*c},a.prototype._drawTextArr=function(c,b,d){var e,a=this.attrs,f=a.textBaseline,g=a.x,h=a.y,i=1*a.fontSize,j=this._getSpaceingY(),k=kk(a.text,a.fontSize,a.lineHeight);I(b,function(a,b){e=h+b*(j+i)-k+i,"middle"===f&&(e+=k-i-(k-i)/2),"top"===f&&(e+=k-i),fA(a)||(d?c.fillText(a,g,e):c.strokeText(a,g,e))})},a.prototype._drawText=function(a,d){var b=this.attr(),e=b.x,f=b.y,g=this.get("textArr");if(g)this._drawTextArr(a,g,d);else{var c=b.text;fA(c)||(d?a.fillText(c,e,f):a.strokeText(c,e,f))}},a.prototype.strokeAndFill=function(a){var b=this.attrs,f=b.lineWidth,d=b.opacity,e=b.strokeOpacity,c=b.fillOpacity;this.isStroke()&&f>0&&(fA(e)||1===e||(a.globalAlpha=d),this.stroke(a)),this.isFill()&&(fA(c)||1===c?this.fill(a):(a.globalAlpha=c,this.fill(a),a.globalAlpha=d)),this.afterDrawPath(a)},a.prototype.fill=function(a){this._drawText(a,!0)},a.prototype.stroke=function(a){this._drawText(a,!1)},a}(w);function qj(e,a,b){var c=e.getTotalMatrix();if(c){var d=function(a,b){if(b){var c=h0(b);return h_(c,a)}return a}([a,b,1],c),f=d[0],g=d[1];return[f,g]}return[a,b]}function qk(a,c,d){if(a.isCanvas&&a.isCanvas())return!0;if(!hv(a)|| !1===a.cfg.isInView)return!1;if(a.cfg.clipShape){var e=qj(a,c,d),f=e[0],g=e[1];if(a.isClipped(f,g))return!1}var b=a.cfg.cacheCanvasBBox||a.getCanvasBBox();return!!(c>=b.minX)&&!!(c<=b.maxX)&&!!(d>=b.minY)&&!!(d<=b.maxY)}function ql(f,b,c){if(!qk(f,b,c))return null;for(var d=null,g=f.getChildren(),i=g.length,e=i-1;e>=0;e--){var a=g[e];if(a.isGroup())d=ql(a,b,c);else if(qk(a,b,c)){var j=a,h=qj(a,b,c),k=h[0],l=h[1];j.isInShape(k,l)&&(d=a)}if(d)break}return d}var qm=function(b){function a(){return null!==b&&b.apply(this,arguments)||this}return fl(a,b),a.prototype.getDefaultCfg=function(){var a=b.prototype.getDefaultCfg.call(this);return a.renderer="canvas",a.autoDraw=!0,a.localRefresh=!0,a.refreshElements=[],a.clipView=!0,a.quickHit=!1,a},a.prototype.onCanvasChange=function(a){("attr"===a||"sort"===a||"changeSize"===a)&&(this.set("refreshElements",[this]),this.draw())},a.prototype.getShapeBase=function(){return a5},a.prototype.getGroupBase=function(){return pX},a.prototype.getPixelRatio=function(){var a=this.get("pixelRatio")||(window?window.devicePixelRatio:1);return a>=1?Math.ceil(a):1},a.prototype.getViewRange=function(){return{minX:0,minY:0,maxX:this.cfg.width,maxY:this.cfg.height}},a.prototype.createDom=function(){var a=document.createElement("canvas"),b=a.getContext("2d");return this.set("context",b),a},a.prototype.setDOMSize=function(c,d){b.prototype.setDOMSize.call(this,c,d);var f=this.get("context"),e=this.get("el"),a=this.getPixelRatio();e.width=a*c,e.height=a*d,a>1&&f.scale(a,a)},a.prototype.clear=function(){b.prototype.clear.call(this),this._clearFrame();var c=this.get("context"),a=this.get("el");c.clearRect(0,0,a.width,a.height)},a.prototype.getShape=function(a,c){var d;return this.get("quickHit")?ql(this,a,c):b.prototype.getShape.call(this,a,c,null)},a.prototype._getRefreshRegion=function(){var b,c,a,d=this.get("refreshElements"),e=this.getViewRange();return d.length&&d[0]===this?a=e:(a=function(a){if(!a.length)return null;var b=[],c=[],d=[],e=[];return I(a,function(f){var a=function(f){var c;if(f.destroyed)c=f["_cacheCanvasBBox"];else{var a,b,d=f.get("cacheCanvasBBox"),g=d&&!!(d.width&&d.height),e=f.getCanvasBBox(),h=e&&!!(e.width&&e.height);g&&h?c=(a=d,b=e,a&&b?{minX:Math.min(a.minX,b.minX),minY:Math.min(a.minY,b.minY),maxX:Math.max(a.maxX,b.maxX),maxY:Math.max(a.maxY,b.maxY)}:a||b):g?c=d:h&&(c=e)}return c}(f);a&&(b.push(a.minX),c.push(a.minY),d.push(a.maxX),e.push(a.maxY))}),{minX:fN(b),minY:fN(c),maxX:fM(d),maxY:fM(e)}}(d))&&(a.minX=Math.floor(a.minX),a.minY=Math.floor(a.minY),a.maxX=Math.ceil(a.maxX),a.maxY=Math.ceil(a.maxY),a.maxY+=1,this.get("clipView")&&(a=(b=a,c=e,b&&c&&pt(b,c)?{minX:Math.max(b.minX,c.minX),minY:Math.max(b.minY,c.minY),maxX:Math.min(b.maxX,c.maxX),maxY:Math.min(b.maxY,c.maxY)}:null))),a},a.prototype.refreshElement=function(a){this.get("refreshElements").push(a)},a.prototype._clearFrame=function(){var a,b=this.get("drawFrame");b&&(a=b,(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout)(a),this.set("drawFrame",null),this.set("refreshElements",[]))},a.prototype.draw=function(){var a=this.get("drawFrame");(!this.get("autoDraw")||!a)&&this._startDraw()},a.prototype._drawAll=function(){var a=this.get("context"),b=this.get("el"),c=this.getChildren();a.clearRect(0,0,b.width,b.height),pP(a,this),pQ(a,c),this.set("refreshElements",[])},a.prototype._drawRegion=function(){var c,d,e,g,b=this.get("context"),f=this.get("refreshElements"),h=this.getChildren(),a=this._getRefreshRegion();a?(b.clearRect(a.minX,a.minY,a.maxX-a.minX,a.maxY-a.minY),b.save(),b.beginPath(),b.rect(a.minX,a.minY,a.maxX-a.minX,a.maxY-a.minY),b.clip(),pP(b,this),c=this,d=h,e=a,I(g=c.get("refreshElements"),function(b){if(b!==c)for(var a=b.cfg.parent;a&&a!==c&&!a.cfg.refresh;)a.cfg.refresh=!0,a=a.cfg.parent}),g[0]===c?pT(d,e):pR(d,e),pQ(b,h,a),b.restore()):f.length&&pS(f),I(f,function(a){a.get("hasChanged")&&a.set("hasChanged",!1)}),this.set("refreshElements",[])},a.prototype._startDraw=function(){var b=this,a=this.get("drawFrame");a||(a=function(a){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(a){return setTimeout(a,16)})(a)}(function(){b.get("localRefresh")?b._drawRegion():b._drawAll(),b.set("drawFrame",null)}),this.set("drawFrame",a))},a.prototype.skipDraw=function(){},a.prototype.removeDom=function(){var a=this.get("el");a.width=0,a.height=0,a.parentNode.removeChild(a)},a}(bo),qn="0.5.12",qo={rect:"path",circle:"circle",line:"line",path:"path",marker:"path",text:"text",polyline:"polyline",polygon:"polygon",image:"image",ellipse:"ellipse",dom:"foreignObject"},qp={opacity:"opacity",fillStyle:"fill",fill:"fill",fillOpacity:"fill-opacity",strokeStyle:"stroke",strokeOpacity:"stroke-opacity",stroke:"stroke",x:"x",y:"y",r:"r",rx:"rx",ry:"ry",width:"width",height:"height",x1:"x1",x2:"x2",y1:"y1",y2:"y2",lineCap:"stroke-linecap",lineJoin:"stroke-linejoin",lineWidth:"stroke-width",lineDash:"stroke-dasharray",lineDashOffset:"stroke-dashoffset",miterLimit:"stroke-miterlimit",font:"font",fontSize:"font-size",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",fontFamily:"font-family",startArrow:"marker-start",endArrow:"marker-end",path:"d",class:"class",id:"id",style:"style",preserveAspectRatio:"preserveAspectRatio"};function qq(a){return document.createElementNS("http://www.w3.org/2000/svg",a)}function qr(a){var e=qo[a.type],b=a.getParent();if(!e)throw Error("the type "+a.type+" is not supported by svg");var c=qq(e);if(a.get("id")&&(c.id=a.get("id")),a.set("el",c),a.set("attrs",{}),b){var d=b.get("el");d||(d=b.createDom(),b.set("el",d)),d.appendChild(c)}return c}function qs(c,d){var a,b=c.get("el"),e=(fu(a=b.children)?Array.prototype.slice.call(a):[]).sort(d),f=document.createDocumentFragment();e.forEach(function(a){f.appendChild(a)}),b.appendChild(f)}function qt(d){var a=d.attr().matrix;if(a){for(var e=d.cfg.el,b=[],c=0;c<9;c+=3)b.push(a[c]+","+a[c+1]);-1===(b=b.join(",")).indexOf("NaN")?e.setAttribute("transform","matrix("+b+")"):console.warn("invalid matrix:",a)}}function qu(c,d){var a=c.getClip(),b=c.get("el");if(a){if(a&&!b.hasAttribute("clip-path")){qr(a),a.createPath(d);var e=d.addClip(a);b.setAttribute("clip-path","url(#"+e+")")}}else b.removeAttribute("clip-path")}function qv(b,a){a.forEach(function(a){a.draw(b)})}function qw(b,c){var d=b.get("canvas");if(d&&d.get("autoDraw")){var f=d.get("context"),g=b.getParent(),j=g?g.getChildren():[d],a=b.get("el");if("remove"===c){if(b.get("isClipShape")){var e=a&&a.parentNode,h=e&&e.parentNode;e&&h&&h.removeChild(e)}else a&&a.parentNode&&a.parentNode.removeChild(a)}else if("show"===c)a.setAttribute("visibility","visible");else if("hide"===c)a.setAttribute("visibility","hidden");else if("zIndex"===c)!function(a,c){var b=a.parentNode,d=Array.from(b.childNodes).filter(function(a){return 1===a.nodeType&&"defs"!==a.nodeName.toLowerCase()}),e=d[c],f=d.indexOf(a);if(e){if(f>c)b.insertBefore(a,e);else if(f<c){var g=d[c+1];g?b.insertBefore(a,g):b.appendChild(a)}}else b.appendChild(a)}(a,j.indexOf(b));else if("sort"===c){var i=b.get("children");i&&i.length&&qs(b,function(a,b){return i.indexOf(a)-i.indexOf(b)?1:0})}else"clear"===c?a&&(a.innerHTML=""):"matrix"===c?qt(b):"clip"===c?qu(b,f):"attr"===c||"add"===c&&b.draw(f)}}var qx=function(b){function a(){return null!==b&&b.apply(this,arguments)||this}return fl(a,b),a.prototype.isEntityGroup=function(){return!0},a.prototype.createDom=function(){var c=qq("g");this.set("el",c);var a=this.getParent();if(a){var b=a.get("el");b||(b=a.createDom(),a.set("el",b)),b.appendChild(c)}return c},a.prototype.afterAttrsChange=function(c){b.prototype.afterAttrsChange.call(this,c);var a=this.get("canvas");if(a&&a.get("autoDraw")){var d=a.get("context");this.createPath(d,c)}},a.prototype.onCanvasChange=function(a){qw(this,a)},a.prototype.getShapeBase=function(){return a6},a.prototype.getGroupBase=function(){return a},a.prototype.draw=function(b){var c=this.getChildren(),a=this.get("el");this.get("destroyed")?a&&a.parentNode.removeChild(a):(a||this.createDom(),qu(this,b),this.createPath(b),c.length&&qv(b,c))},a.prototype.createPath=function(c,a){var b=this.attr(),d=this.get("el");I(a||b,function(b,a){qp[a]&&d.setAttribute(qp[a],b)}),qt(this)},a}(bp),q=function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.type="svg",a.canFill=!1,a.canStroke=!1,a}return fl(a,b),a.prototype.getDefaultAttrs=function(){return n(n({},b.prototype.getDefaultAttrs.call(this)),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},a.prototype.afterAttrsChange=function(c){b.prototype.afterAttrsChange.call(this,c);var a=this.get("canvas");if(a&&a.get("autoDraw")){var d=a.get("context");this.draw(d,c)}},a.prototype.getShapeBase=function(){return a6},a.prototype.getGroupBase=function(){return qx},a.prototype.onCanvasChange=function(a){qw(this,a)},a.prototype.calculateBBox=function(){var d=this.get("el"),a=null;if(d)a=d.getBBox();else{var e=jP(this.get("type"));e&&(a=e(this))}if(a){var f=a.x,g=a.y,h=a.width,i=a.height,c=this.getHitLineWidth(),b=c/2,j=f-b,k=g-b,l=f+h+b,m=g+i+b;return{x:j,y:k,minX:j,minY:k,maxX:l,maxY:m,width:h+c,height:i+c}}return{x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0}},a.prototype.isFill=function(){var a=this.attr(),b=a.fill,c=a.fillStyle;return(b||c||this.isClipShape())&&this.canFill},a.prototype.isStroke=function(){var a=this.attr(),b=a.stroke,c=a.strokeStyle;return(b||c)&&this.canStroke},a.prototype.draw=function(a,b){var c=this.get("el");this.get("destroyed")?c&&c.parentNode.removeChild(c):(c||qr(this),qu(this,a),this.createPath(a,b),this.shadow(a,b),this.strokeAndFill(a,b),this.transform(b))},a.prototype.createPath=function(a,b){},a.prototype.strokeAndFill=function(b,c){var a=c||this.attr(),f=a.fill,g=a.fillStyle,h=a.stroke,i=a.strokeStyle,j=a.fillOpacity,k=a.strokeOpacity,d=a.lineWidth,e=this.get("el");this.canFill&&(c?"fill"in a?this._setColor(b,"fill",f):"fillStyle"in a&&this._setColor(b,"fill",g):this._setColor(b,"fill",f||g),j&&e.setAttribute(qp.fillOpacity,j)),this.canStroke&&d>0&&(c?"stroke"in a?this._setColor(b,"stroke",h):"strokeStyle"in a&&this._setColor(b,"stroke",i):this._setColor(b,"stroke",h||i),k&&e.setAttribute(qp.strokeOpacity,k),d&&e.setAttribute(qp.lineWidth,d))},a.prototype._setColor=function(c,d,a){var e=this.get("el");if(!a){e.setAttribute(qp[d],"none");return}if(a=a.trim(),/^[r,R,L,l]{1}[\s]*\(/.test(a)){var b=c.find("gradient",a);b||(b=c.addGradient(a)),e.setAttribute(qp[d],"url(#"+b+")")}else if(/^[p,P]{1}[\s]*\(/.test(a)){var b=c.find("pattern",a);b||(b=c.addPattern(a)),e.setAttribute(qp[d],"url(#"+b+")")}else e.setAttribute(qp[d],a)},a.prototype.shadow=function(b,c){var d=this.attr(),a=c||d,e=a.shadowOffsetX,f=a.shadowOffsetY,g=a.shadowBlur,h=a.shadowColor;(e||f||g||h)&&function(d,e){var f=d.cfg.el,b=d.attr(),a={dx:b.shadowOffsetX,dy:b.shadowOffsetY,blur:b.shadowBlur,color:b.shadowColor};if(a.dx||a.dy||a.blur||a.color){var c=e.find("filter",a);c||(c=e.addShadow(a)),f.setAttribute("filter","url(#"+c+")")}else f.removeAttribute("filter")}(this,b)},a.prototype.transform=function(a){var b=this.attr();(a||b).matrix&&qt(this)},a.prototype.isInShape=function(a,b){return this.isPointInPath(a,b)},a.prototype.isPointInPath=function(c,d){var e=this.get("el"),a=this.get("canvas").get("el").getBoundingClientRect(),f=c+a.left,g=d+a.top,b=document.elementFromPoint(f,g);return!!(b&&b.isEqualNode(e))},a.prototype.getHitLineWidth=function(){var a=this.attrs,b=a.lineWidth,c=a.lineAppendWidth;return this.isStroke()?b+c:0},a}(bq),qy=function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.type="circle",a.canFill=!0,a.canStroke=!0,a}return fl(a,b),a.prototype.getDefaultAttrs=function(){return n(n({},b.prototype.getDefaultAttrs.call(this)),{x:0,y:0,r:0})},a.prototype.createPath=function(c,a){var b=this.attr(),d=this.get("el");I(a||b,function(b,a){"x"===a||"y"===a?d.setAttribute("c"+a,b):qp[a]&&d.setAttribute(qp[a],b)})},a}(q),qz=function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.type="dom",a.canFill=!1,a.canStroke=!1,a}return fl(a,b),a.prototype.createPath=function(g,f){var a=this.attr(),b=this.get("el");if(I(f||a,function(c,a){qp[a]&&b.setAttribute(qp[a],c)}),"function"==typeof a.html){var c=a.html.call(this,a);if(c instanceof Element||c instanceof HTMLDocument){for(var e=b.childNodes,d=e.length-1;d>=0;d--)b.removeChild(e[d]);b.appendChild(c)}else b.innerHTML=c}else b.innerHTML=a.html},a}(q),qA=function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.type="ellipse",a.canFill=!0,a.canStroke=!0,a}return fl(a,b),a.prototype.getDefaultAttrs=function(){return n(n({},b.prototype.getDefaultAttrs.call(this)),{x:0,y:0,rx:0,ry:0})},a.prototype.createPath=function(c,a){var b=this.attr(),d=this.get("el");I(a||b,function(b,a){"x"===a||"y"===a?d.setAttribute("c"+a,b):qp[a]&&d.setAttribute(qp[a],b)})},a}(q),qB=function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.type="image",a.canFill=!1,a.canStroke=!1,a}return fl(a,b),a.prototype.getDefaultAttrs=function(){return n(n({},b.prototype.getDefaultAttrs.call(this)),{x:0,y:0,width:0,height:0})},a.prototype.createPath=function(c,a){var d=this,b=this.attr(),e=this.get("el");I(a||b,function(c,a){"img"===a?d._setImage(b.img):qp[a]&&e.setAttribute(qp[a],c)})},a.prototype.setAttr=function(a,b){this.attrs[a]=b,"img"===a&&this._setImage(b)},a.prototype._setImage=function(a){var c=this.attr(),b=this.get("el");if(fT(a))b.setAttribute("href",a);else if(a instanceof window.Image)c.width||(b.setAttribute("width",a.width),this.attr("width",a.width)),c.height||(b.setAttribute("height",a.height),this.attr("height",a.height)),b.setAttribute("href",a.src);else if(a instanceof HTMLElement&&fT(a.nodeName)&&"CANVAS"===a.nodeName.toUpperCase())b.setAttribute("href",a.toDataURL());else if(a instanceof ImageData){var d=document.createElement("canvas");d.setAttribute("width",""+a.width),d.setAttribute("height",""+a.height),d.getContext("2d").putImageData(a,0,0),c.width||(b.setAttribute("width",""+a.width),this.attr("width",a.width)),c.height||(b.setAttribute("height",""+a.height),this.attr("height",a.height)),b.setAttribute("href",d.toDataURL())}},a}(q),qC=function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.type="line",a.canFill=!1,a.canStroke=!0,a}return fl(a,b),a.prototype.getDefaultAttrs=function(){return n(n({},b.prototype.getDefaultAttrs.call(this)),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},a.prototype.createPath=function(c,a){var b=this.attr(),d=this.get("el");I(a||b,function(e,a){if("startArrow"===a||"endArrow"===a){if(e){var f=fC(e)?c.addArrow(b,qp[a]):c.getDefaultArrow(b,qp[a]);d.setAttribute(qp[a],"url(#"+f+")")}else d.removeAttribute(qp[a])}else qp[a]&&d.setAttribute(qp[a],e)})},a.prototype.getTotalLength=function(){var a=this.attr(),b=a.x1,c=a.y1,d=a.x2,e=a.y2;return jW.length(b,c,d,e)},a.prototype.getPoint=function(b){var a=this.attr(),c=a.x1,d=a.y1,e=a.x2,f=a.y2;return jW.pointAt(c,d,e,f,b)},a}(q),qD={circle:function(b,c,a){return[["M",b,c],["m",-a,0],["a",a,a,0,1,0,2*a,0],["a",a,a,0,1,0,-(2*a),0],]},square:function(b,c,a){return[["M",b-a,c-a],["L",b+a,c-a],["L",b+a,c+a],["L",b-a,c+a],["Z"]]},diamond:function(a,b,c){return[["M",a-c,b],["L",a,b-c],["L",a+c,b],["L",a,b+c],["Z"]]},triangle:function(a,b,c){var d=c*Math.sin(1/3*Math.PI);return[["M",a-c,b+d],["L",a,b-d],["L",a+c,b+d],["z"]]},triangleDown:function(a,b,c){var d=c*Math.sin(1/3*Math.PI);return[["M",a-c,b-d],["L",a+c,b-d],["L",a,b+d],["Z"]]}},qE={get:function(a){return qD[a]},register:function(a,b){qD[a]=b},remove:function(a){delete qD[a]},getAll:function(){return qD}},qF=function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.type="marker",a.canFill=!0,a.canStroke=!0,a}return fl(a,b),a.prototype.createPath=function(a){this.get("el").setAttribute("d",this._assembleMarker())},a.prototype._assembleMarker=function(){var a=this._getPath();return fB(a)?a.map(function(a){return a.join(" ")}).join(""):a},a.prototype._getPath=function(){var b,a=this.attr(),d=a.x,e=a.y,f=a.r||a.radius,c=a.symbol||"circle";return(b=fz(c)?c:qE.get(c))?b(d,e,f):(console.warn(b+" symbol is not exist."),null)},a.symbolsFactory=qE,a}(q),qG=function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.type="path",a.canFill=!0,a.canStroke=!0,a}return fl(a,b),a.prototype.getDefaultAttrs=function(){return n(n({},b.prototype.getDefaultAttrs.call(this)),{startArrow:!1,endArrow:!1})},a.prototype.createPath=function(c,a){var d=this,b=this.attr(),e=this.get("el");I(a||b,function(f,a){if("path"===a&&fB(f))e.setAttribute("d",d._formatPath(f));else if("startArrow"===a||"endArrow"===a){if(f){var g=fC(f)?c.addArrow(b,qp[a]):c.getDefaultArrow(b,qp[a]);e.setAttribute(qp[a],"url(#"+g+")")}else e.removeAttribute(qp[a])}else qp[a]&&e.setAttribute(qp[a],f)})},a.prototype._formatPath=function(b){var a=b.map(function(a){return a.join(" ")}).join("");return~a.indexOf("NaN")?"":a},a.prototype.getTotalLength=function(){var a=this.get("el");return a?a.getTotalLength():null},a.prototype.getPoint=function(d){var b=this.get("el"),c=this.getTotalLength();if(0===c)return null;var a=b?b.getPointAtLength(d*c):null;return a?{x:a.x,y:a.y}:null},a}(q),qH=function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.type="polygon",a.canFill=!0,a.canStroke=!0,a}return fl(a,b),a.prototype.createPath=function(c,a){var b=this.attr(),d=this.get("el");I(a||b,function(a,b){"points"===b&&fB(a)&&a.length>=2?d.setAttribute("points",a.map(function(a){return a[0]+","+a[1]}).join(" ")):qp[b]&&d.setAttribute(qp[b],a)})},a}(q),qI=function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.type="polyline",a.canFill=!0,a.canStroke=!0,a}return fl(a,b),a.prototype.getDefaultAttrs=function(){return n(n({},b.prototype.getDefaultAttrs.call(this)),{startArrow:!1,endArrow:!1})},a.prototype.onAttrChange=function(a,c,d){b.prototype.onAttrChange.call(this,a,c,d),-1!==["points"].indexOf(a)&&this._resetCache()},a.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},a.prototype.createPath=function(c,a){var b=this.attr(),d=this.get("el");I(a||b,function(a,b){"points"===b&&fB(a)&&a.length>=2?d.setAttribute("points",a.map(function(a){return a[0]+","+a[1]}).join(" ")):qp[b]&&d.setAttribute(qp[b],a)})},a.prototype.getTotalLength=function(){var b=this.attr().points,a=this.get("totalLength");return fA(a)?(this.set("totalLength",kf.length(b)),this.get("totalLength")):a},a.prototype.getPoint=function(e){var d,a,b=this.attr().points,c=this.get("tCache");return c||(this._setTcache(),c=this.get("tCache")),I(c,function(b,c){e>=b[0]&&e<=b[1]&&(d=(e-b[0])/(b[1]-b[0]),a=c)}),jW.pointAt(b[a][0],b[a][1],b[a+1][0],b[a+1][1],d)},a.prototype._setTcache=function(){var d,e,a=this.attr().points;if(a&&0!==a.length){var b=this.getTotalLength();if(!(b<=0)){var f=0,c=[];I(a,function(h,g){a[g+1]&&((d=[])[0]=f/b,f+=e=jW.length(h[0],h[1],a[g+1][0],a[g+1][1]),d[1]=f/b,c.push(d))}),this.set("tCache",c)}}},a.prototype.getStartTangent=function(){var a=this.attr().points,b=[];return b.push([a[1][0],a[1][1]]),b.push([a[0][0],a[0][1]]),b},a.prototype.getEndTangent=function(){var a=this.attr().points,b=a.length-1,c=[];return c.push([a[b-1][0],a[b-1][1]]),c.push([a[b][0],a[b][1]]),c},a}(q),qJ=function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.type="rect",a.canFill=!0,a.canStroke=!0,a}return fl(a,b),a.prototype.getDefaultAttrs=function(){return n(n({},b.prototype.getDefaultAttrs.call(this)),{x:0,y:0,width:0,height:0,radius:0})},a.prototype.createPath=function(c,a){var d=this,b=this.attr(),e=this.get("el"),f=!1,g=["x","y","width","height","radius"];I(a||b,function(c,a){-1===g.indexOf(a)||f?-1===g.indexOf(a)&&qp[a]&&e.setAttribute(qp[a],c):(e.setAttribute("d",d._assembleRect(b)),f=!0)})},a.prototype._assembleRect=function(h){var k=h.x,l=h.y,i=h.width,j=h.height,b=h.radius;if(!b)return"M "+k+","+l+" l "+i+",0 l 0,"+j+" l"+ -i+" 0 z";var c,d,e,f,g,a=(d=0,e=0,f=0,g=0,fB(c=b)?1===c.length?d=e=f=g=c[0]:2===c.length?(d=f=c[0],e=g=c[1]):3===c.length?(d=c[0],e=g=c[1],f=c[2]):(d=c[0],e=c[1],f=c[2],g=c[3]):d=e=f=g=c,{r1:d,r2:e,r3:f,r4:g});return fB(b)?1===b.length?a.r1=a.r2=a.r3=a.r4=b[0]:2===b.length?(a.r1=a.r3=b[0],a.r2=a.r4=b[1]):3===b.length?(a.r1=b[0],a.r2=a.r4=b[1],a.r3=b[2]):(a.r1=b[0],a.r2=b[1],a.r3=b[2],a.r4=b[3]):a.r1=a.r2=a.r3=a.r4=b,[["M "+(k+a.r1)+","+l],["l "+(i-a.r1-a.r2)+",0"],["a "+a.r2+","+a.r2+",0,0,1,"+a.r2+","+a.r2],["l 0,"+(j-a.r2-a.r3)],["a "+a.r3+","+a.r3+",0,0,1,"+ -a.r3+","+a.r3],["l "+(a.r3+a.r4-i)+",0"],["a "+a.r4+","+a.r4+",0,0,1,"+ -a.r4+","+ -a.r4],["l 0,"+(a.r4+a.r1-j)],["a "+a.r1+","+a.r1+",0,0,1,"+a.r1+","+ -a.r1],["z"],].join(" ")},a}(q),qK={top:"before-edge",middle:"central",bottom:"after-edge",alphabetic:"baseline",hanging:"hanging"},qL={top:"text-before-edge",middle:"central",bottom:"text-after-edge",alphabetic:"alphabetic",hanging:"hanging"},qM={left:"left",start:"left",center:"middle",right:"end",end:"end"},qN=function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.type="text",a.canFill=!0,a.canStroke=!0,a}return fl(a,b),a.prototype.getDefaultAttrs=function(){return n(n({},b.prototype.getDefaultAttrs.call(this)),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},a.prototype.createPath=function(d,b){var e=this,c=this.attr(),a=this.get("el");this._setFont(),I(b||c,function(c,b){"text"===b?e._setText(""+c):"matrix"===b&&c?qt(e):qp[b]&&a.setAttribute(qp[b],c)}),a.setAttribute("paint-order","stroke"),a.setAttribute("style","stroke-linecap:butt; stroke-linejoin:miter;")},a.prototype._setFont=function(){var a=this.get("el"),b=this.attr(),c=b.textBaseline,e=b.textAlign,d=cc();d&&"firefox"===d.name?a.setAttribute("dominant-baseline",qL[c]||"alphabetic"):a.setAttribute("alignment-baseline",qK[c]||"baseline"),a.setAttribute("text-anchor",qM[e]||"left")},a.prototype._setText=function(a){var b=this.get("el"),c=this.attr(),g=c.x,d=c.textBaseline,h=void 0===d?"bottom":d;if(a){if(~a.indexOf("\n")){var e=a.split("\n"),i=e.length-1,f="";I(e,function(a,b){0===b?"alphabetic"===h?f+='<tspan x="'+g+'" dy="'+ -i+'em">'+a+"</tspan>":"top"===h?f+='<tspan x="'+g+'" dy="0.9em">'+a+"</tspan>":"middle"===h?f+='<tspan x="'+g+'" dy="'+ -(i-1)/2+'em">'+a+"</tspan>":"bottom"===h?f+='<tspan x="'+g+'" dy="-'+(i+.3)+'em">'+a+"</tspan>":"hanging"===h&&(f+='<tspan x="'+g+'" dy="'+(-(i-1)-.3)+'em">'+a+"</tspan>"):f+='<tspan x="'+g+'" dy="1em">'+a+"</tspan>"}),b.innerHTML=f}else b.innerHTML=a}else b.innerHTML=""},a}(q),qO=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,qP=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,qQ=/[\d.]+:(#[^\s]+|[^)]+\))/gi;function qR(b){var a=b.match(qQ);if(!a)return"";var c="";return a.sort(function(a,b){return a=a.split(":"),b=b.split(":"),Number(a[0])-Number(b[0])}),I(a,function(a){c+='<stop offset="'+(a=a.split(":"))[0]+'" stop-color="'+a[1]+'"></stop>'}),c}var qS=function(){function a(h){this.cfg={};var k,d,a,b,l,c,m,e,j,n,o,p,g,i,q,r,s,t,f=null,u=gI("gradient_");return"l"===h.toLowerCase()[0]?(f=qq("linearGradient"),k=h,d=f,c=f9(gb(parseFloat((l=qO.exec(k))[1])),2*Math.PI),m=l[2],c>=0&&c<.5*Math.PI?(a={x:0,y:0},b={x:1,y:1}):.5*Math.PI<=c&&c<Math.PI?(a={x:1,y:0},b={x:0,y:1}):Math.PI<=c&&c<1.5*Math.PI?(a={x:1,y:1},b={x:0,y:0}):(a={x:0,y:1},b={x:1,y:0}),e=Math.tan(c),j=e*e,n=(b.x-a.x+e*(b.y-a.y))/(j+1)+a.x,o=e*(b.x-a.x+e*(b.y-a.y))/(j+1)+a.y,d.setAttribute("x1",a.x),d.setAttribute("y1",a.y),d.setAttribute("x2",n),d.setAttribute("y2",o),d.innerHTML=qR(m)):(f=qq("radialGradient"),p=h,g=f,q=parseFloat((i=qP.exec(p))[1]),r=parseFloat(i[2]),s=parseFloat(i[3]),t=i[4],g.setAttribute("cx",q),g.setAttribute("cy",r),g.setAttribute("r",s),g.innerHTML=qR(t)),f.setAttribute("id",u),this.el=f,this.id=u,this.cfg=h,this}return a.prototype.match=function(b,a){return this.cfg===a},a}(),qT={shadowColor:"color",shadowOpacity:"opacity",shadowBlur:"blur",shadowOffsetX:"dx",shadowOffsetY:"dy"},qU={x:"-40%",y:"-40%",width:"200%",height:"200%"},qV=function(){function a(a){this.type="filter",this.cfg={},this.type="filter";var b=qq("filter");return I(qU,function(a,c){b.setAttribute(c,a)}),this.el=b,this.id=gI("filter_"),this.el.id=this.id,this.cfg=a,this._parseShadow(a,b),this}return a.prototype.match=function(a,d){if(this.type!==a)return!1;var b=!0,c=this.cfg;return I(Object.keys(c),function(a){if(c[a]!==d[a])return b=!1,!1}),b},a.prototype.update=function(b,c){var a=this.cfg;return a[qT[b]]=c,this._parseShadow(a,this.el),this},a.prototype._parseShadow=function(a,b){var c='<feDropShadow\n      dx="'+(a.dx||0)+'"\n      dy="'+(a.dy||0)+'"\n      stdDeviation="'+(a.blur?a.blur/10:0)+'"\n      flood-color="'+(a.color?a.color:"#000")+'"\n      flood-opacity="'+(a.opacity?a.opacity:1)+'"\n      />';b.innerHTML=c},a}(),qW=function(){function a(b,d){this.cfg={};var c=qq("marker"),e=gI("marker_");c.setAttribute("id",e);var a=qq("path");a.setAttribute("stroke",b.stroke||"none"),a.setAttribute("fill",b.fill||"none"),c.appendChild(a),c.setAttribute("overflow","visible"),c.setAttribute("orient","auto-start-reverse"),this.el=c,this.child=a,this.id=e;var f=b["marker-start"===d?"startArrow":"endArrow"];return this.stroke=b.stroke||"#000",!0===f?this._setDefaultPath(d,a):(this.cfg=f,this._setMarker(b.lineWidth,a)),this}return a.prototype.match=function(){return!1},a.prototype._setDefaultPath=function(c,b){var a=this.el;b.setAttribute("d","M0,0 L"+10*Math.cos(Math.PI/6)+",5 L0,10"),a.setAttribute("refX",""+10*Math.cos(Math.PI/6)),a.setAttribute("refY","5")},a.prototype._setMarker=function(e,b){var c=this.el,a=this.cfg.path,d=this.cfg.d;fB(a)&&(a=a.map(function(a){return a.join(" ")}).join("")),b.setAttribute("d",a),c.appendChild(b),d&&c.setAttribute("refX",""+d/e)},a.prototype.update=function(b){var a=this.child;a.attr?a.attr("fill",b):a.setAttribute("fill",b)},a}(),qX=function(){function a(b){this.type="clip",this.cfg={};var a=qq("clipPath");this.el=a,this.id=gI("clip_"),a.id=this.id;var c=b.cfg.el;return a.appendChild(c),this.cfg=b,this}return a.prototype.match=function(){return!1},a.prototype.remove=function(){var a=this.el;a.parentNode.removeChild(a)},a}(),qY=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,qZ=function(){function a(d){this.cfg={};var b=qq("pattern");b.setAttribute("patternUnits","userSpaceOnUse");var e=qq("image");b.appendChild(e);var f=gI("pattern_");b.id=f,this.el=b,this.id=f,this.cfg=d;var c=qY.exec(d)[2];e.setAttribute("href",c);var a=new Image;function g(){b.setAttribute("width",""+a.width),b.setAttribute("height",""+a.height)}return c.match(/^data:/i)||(a.crossOrigin="Anonymous"),a.src=c,a.complete?g():(a.onload=g,a.src=a.src),this}return a.prototype.match=function(b,a){return this.cfg===a},a}(),q$=function(){function a(b){var a=qq("defs"),c=gI("defs_");a.id=c,b.appendChild(a),this.children=[],this.defaultArrow={},this.el=a,this.canvas=b}return a.prototype.find=function(d,e){for(var b=this.children,c=null,a=0;a<b.length;a++)if(b[a].match(d,e)){c=b[a].id;break}return c},a.prototype.findById=function(d){for(var b=this.children,c=null,a=0;a<b.length;a++)if(b[a].id===d){c=b[a];break}return c},a.prototype.add=function(a){this.children.push(a),a.canvas=this.canvas,a.parent=this},a.prototype.getDefaultArrow=function(b,d){var c=b.stroke||b.strokeStyle;if(this.defaultArrow[c])return this.defaultArrow[c].id;var a=new qW(b,d);return this.defaultArrow[c]=a,this.el.appendChild(a.el),this.add(a),a.id},a.prototype.addGradient=function(b){var a=new qS(b);return this.el.appendChild(a.el),this.add(a),a.id},a.prototype.addArrow=function(b,c){var a=new qW(b,c);return this.el.appendChild(a.el),this.add(a),a.id},a.prototype.addShadow=function(b){var a=new qV(b);return this.el.appendChild(a.el),this.add(a),a.id},a.prototype.addPattern=function(b){var a=new qZ(b);return this.el.appendChild(a.el),this.add(a),a.id},a.prototype.addClip=function(b){var a=new qX(b);return this.el.appendChild(a.el),this.add(a),a.id},a}(),q_=function(b){function a(a){return b.call(this,n(n({},a),{autoDraw:!0,renderer:"svg"}))||this}return fl(a,b),a.prototype.getShapeBase=function(){return a6},a.prototype.getGroupBase=function(){return qx},a.prototype.getShape=function(d,e,c){var b=c.target||c.srcElement;if(!qo[b.tagName]){for(var a=b.parentNode;a&&!qo[a.tagName];)a=a.parentNode;b=a}return this.find(function(a){return a.get("el")===b})},a.prototype.createDom=function(){var a=qq("svg"),b=new q$(a);return a.setAttribute("width",""+this.get("width")),a.setAttribute("height",""+this.get("height")),this.set("context",b),a},a.prototype.onCanvasChange=function(a){var c=this.get("context"),b=this.get("el");if("sort"===a){var d=this.get("children");d&&d.length&&qs(this,function(a,b){return d.indexOf(a)-d.indexOf(b)?1:0})}else if("clear"===a){if(b){b.innerHTML="";var e=c.el;e.innerHTML="",b.appendChild(e)}}else"matrix"===a?qt(this):"clip"===a?qu(this,c):"changeSize"===a&&(b.setAttribute("width",""+this.get("width")),b.setAttribute("height",""+this.get("height")))},a.prototype.draw=function(){var a=this.get("context"),b=this.getChildren();qu(this,a),b.length&&qv(a,b)},a}(bo),q0="0.5.6",aF=function(b){function a(c){var a=b.call(this,c)||this;a.type="path",a.shapeType="line";var d=c.connectNulls,e=c.showSinglePoint;return a.connectNulls=void 0!==d&&d,a.showSinglePoint=void 0===e||e,a}return fl(a,b),a.prototype.updateElements=function(t,l){void 0===l&&(l=!1);for(var m,u,n,v,o,w,p=new Map,q=new Map,x=[],r=0,c=0;c<t.length;c++){var d=t[c],a=this.getElementId(d);x.push(a),p.set(a,d),q.set(a,r),r++}this.elements=Array(r);var s=o4(this.lastElementsMap,x),y=s.added,z=s.updated,A=s.removed;try{for(var h=fp(y),e=h.next();!e.done;e=h.next()){var a=e.value,d=p.get(a),B=this.getShapeFactory(),i=this.getShapeInfo(d),c=q.get(a),b=new oX({shapeFactory:B,container:this.container,offscreenGroup:this.getOffscreenGroup(),elementIndex:c});b.geometry=this,b.animate=this.animateOption,b.draw(i,l),this.elementsMap[a]=b,this.elements[c]=b}}catch(C){m={error:C}}finally{try{e&&!e.done&&(u=h.return)&&u.call(h)}finally{if(m)throw m.error}}try{for(var j=fp(z),f=j.next();!f.done;f=j.next()){var a=f.value,d=p.get(a),b=this.lastElementsMap[a],c=q.get(a),i=this.getShapeInfo(d),D=b.getModel();(this.isCoordinateChanged||o2(D,i))&&(b.animate=this.animateOption,b.update(i)),this.elementsMap[a]=b,this.elements[c]=b}}catch(E){n={error:E}}finally{try{f&&!f.done&&(v=j.return)&&v.call(j)}finally{if(n)throw n.error}}try{for(var k=fp(A),g=k.next();!g.done;g=k.next()){var a=g.value,b=this.lastElementsMap[a];b.animate=this.animateOption,b.destroy()}}catch(F){o={error:F}}finally{try{g&&!g.done&&(w=k.return)&&w.call(k)}finally{if(o)throw o.error}}},a.prototype.getPointsAndData=function(c){for(var d=[],e=[],a=0,f=c.length;a<f;a++){var b=c[a];d.push({x:b.x,y:b.y}),e.push(b[gP])}return{points:d,data:e}},a.prototype.getShapeInfo=function(b){var a=this.getDrawCfg(b[0]),c=this.getPointsAndData(b),d=c.points,e=c.data;return a.mappingData=b,a.data=e,a.isStack=!!this.getAdjust("stack"),a.points=d,a.connectNulls=this.connectNulls,a.showSinglePoint=this.showSinglePoint,a},a}(C);function q1(a,h,i,j,k){var d=[];if(a.length){for(var e=[],b=[],c=0,g=a.length;c<g;c++){var f=a[c];e.push(f[1]),b.push(f[0])}I([e,b=b.reverse()],function(l,g){var c=[],f=j.parsePoints(l),a=f[0];1===e.length&&1===b.length?c=0===g?[["M",a.x-.5,a.y],["L",a.x+.5,a.y],]:[["L",a.x+.5,a.y],["L",a.x-.5,a.y],]:(h&&f.push({x:a.x,y:a.y}),c=i?n0(f,!1,k):n_(f,!1),g>0&&(c[0][0]="L")),d=d.concat(c)}),d.push(["Z"])}return d}function q2(a,d,g,h,i){for(var e=pk(a,d,!d,"lineWidth"),j=a.connectNulls,k=a.isInCircle,l=a.points,m=a.showSinglePoint,f=dk(l,j,m),b=[],c=0,n=f.length;c<n;c++){var o=f[c];b=b.concat(q1(o,k,g,h,i))}return e.path=b,e}function q3(a){var b=a.start,c=a.end;return[[b.x,c.y],[c.x,b.y],]}B("area",{defaultShapeType:"area",getDefaultPoints:function(a){var d=a.x,b=a.y0,c=fB(a.y)?a.y:[b,a.y];return c.map(function(a){return{x:d,y:a}})}}),f("area","area",{draw:function(a,b){var c=q2(a,!1,!1,this);return b.addShape({type:"path",attrs:c,name:"area"})},getMarker:function(a){return{symbol:function(b,c,a){return void 0===a&&(a=5.5),[["M",b-a,c-4],["L",b+a,c-4],["L",b+a,c+4],["L",b-a,c+4],["Z"]]},style:{r:5,fill:a.color,fillOpacity:1}}}});var dn=function(b){function a(c){var a=b.call(this,c)||this;a.type="area",a.shapeType="area",a.generatePoints=!0,a.startOnZero=!0;var d=c.startOnZero,e=c.sortable,f=c.showSinglePoint;return a.startOnZero=void 0===d||d,a.sortable=void 0!==e&&e,a.showSinglePoint=void 0!==f&&f,a}return fl(a,b),a.prototype.getPointsAndData=function(b){for(var c=[],d=[],a=0,f=b.length;a<f;a++){var e=b[a];c.push(e.points),d.push(e[gP])}return{points:c,data:d}},a.prototype.getYMinValue=function(){return this.startOnZero?b.prototype.getYMinValue.call(this):(0,this.getYScale().min)},a}(aF);B("edge",{defaultShapeType:"line",getDefaultPoints:function(a){return pm(a)}}),f("edge","line",{draw:function(a,b){var c=pk(a,!0,!1,"lineWidth"),d=n_(this.parsePoints(a.points),this.coordinate.isPolar);return b.addShape("path",{attrs:n(n({},c),{path:d})})},getMarker:function(a){return{symbol:"circle",style:{r:4.5,fill:a.color}}}});var dp=function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.type="edge",a.shapeType="edge",a.generatePoints=!0,a}return fl(a,b),a}(C),dq=function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.type="heatmap",a.paletteCache={},a}return fl(a,b),a.prototype.updateElements=function(d,e){void 0===e&&(e=!1);for(var b=0;b<d.length;b++){var f=d[b],g=this.prepareRange(f),c=this.prepareSize(),a=gB(this.styleOption,["cfg","shadowBlur"]);f5(a)||(a=c/2),this.prepareGreyScaleBlurredCircle(c,a),this.drawWithRange(f,g,c,a)}},a.prototype.color=function(b,a){return this.createAttrOption("color",b,"function"!=typeof a?a:""),this},a.prototype.clear=function(){b.prototype.clear.call(this),this.clearShadowCanvasCtx(),this.paletteCache={}},a.prototype.prepareRange=function(c){var d=this.getAttribute("color").getFields()[0],a=1/0,b=-1/0;return c.forEach(function(e){var c=e[gP][d];c>b&&(b=c),c<a&&(a=c)}),a===b&&(a=b-1),[a,b]},a.prototype.prepareSize=function(){var a=this.getDefaultValue("size");return f5(a)||(a=this.getDefaultSize()),a},a.prototype.prepareGreyScaleBlurredCircle=function(d,e){var b=this.getGrayScaleBlurredCanvas(),c=d+e,a=b.getContext("2d");b.width=b.height=2*c,a.clearRect(0,0,b.width,b.height),a.shadowOffsetX=a.shadowOffsetY=2*c,a.shadowBlur=e,a.shadowColor="black",a.beginPath(),a.arc(-c,-c,d,0,2*Math.PI,!0),a.closePath(),a.fill()},a.prototype.drawWithRange=function(c,q,r,s){var f,g,h=this.coordinate,i=h.start,j=h.end,k=this.coordinate.getWidth(),l=this.coordinate.getHeight(),m=this.getAttribute("color").getFields()[0];this.clearShadowCanvasCtx();var d=this.getShadowCanvasCtx();q&&(c=c.filter(function(a){return a[gP][m]<=q[1]&&a[gP][m]>=q[0]}));var t=this.scales[m];try{for(var e=fp(c),b=e.next();!b.done;b=e.next()){var n=b.value,o=this.getDrawCfg(n),u=o.x,v=o.y,w=t.scale(n[gP][m]);this.drawGrayScaleBlurredCircle(u-i.x,v-j.y,r+s,w,d)}}catch(x){f={error:x}}finally{try{b&&!b.done&&(g=e.return)&&g.call(e)}finally{if(f)throw f.error}}var p=d.getImageData(0,0,k,l);this.clearShadowCanvasCtx(),this.colorize(p),d.putImageData(p,0,0);var a=this.getImageShape();a.attr("x",i.x),a.attr("y",j.y),a.attr("width",k),a.attr("height",l),a.attr("img",d.canvas),a.set("origin",this.getShapeInfo(c))},a.prototype.getDefaultSize=function(){var a=this.getAttribute("position"),b=this.coordinate;return Math.min(b.getWidth()/(4*a.scales[0].ticks.length),b.getHeight()/(4*a.scales[1].ticks.length))},a.prototype.clearShadowCanvasCtx=function(){var a=this.getShadowCanvasCtx();a.clearRect(0,0,a.canvas.width,a.canvas.height)},a.prototype.getShadowCanvasCtx=function(){var a=this.shadowCanvas;return a||(a=document.createElement("canvas"),this.shadowCanvas=a),a.width=this.coordinate.getWidth(),a.height=this.coordinate.getHeight(),a.getContext("2d")},a.prototype.getGrayScaleBlurredCanvas=function(){return this.grayScaleBlurredCanvas||(this.grayScaleBlurredCanvas=document.createElement("canvas")),this.grayScaleBlurredCanvas},a.prototype.drawGrayScaleBlurredCircle=function(c,d,a,e,b){var f=this.getGrayScaleBlurredCanvas();b.globalAlpha=e,b.drawImage(f,c-a,d-a)},a.prototype.colorize=function(f){for(var g=this.getAttribute("color"),b=f.data,e=this.paletteCache,a=3;a<b.length;a+=4){var c=b[a];if(f5(c)){var d=e[c]?e[c]:lj.rgb2arr(g.gradient(c/256));b[a-3]=d[0],b[a-2]=d[1],b[a-1]=d[2],b[a]=c}}},a.prototype.getImageShape=function(){var a=this.imageShape;return a?a:(a=this.container.addShape({type:"image",attrs:{}}),this.imageShape=a,a)},a.prototype.getShapeInfo=function(a){var b=this.getDrawCfg(a[0]),c=a.map(function(a){return a[gP]});return n(n({},b),{mappingData:a,data:c})},a}(C);function q4(a){var h,i,b,c,d,e,f=a.x,g=a.y,l=a.y0,j=a.size;fB(g)?(b=(h=fq(g,2))[0],c=h[1]):(b=l,c=g),fB(f)?(d=(i=fq(f,2))[0],e=i[1]):(d=f-j/2,e=f+j/2);var k=[{x:d,y:b},{x:d,y:c},];return k.push({x:e,y:c},{x:e,y:b}),k}function q5(b,e){void 0===e&&(e=!0);var a=[],c=b[0];a.push(["M",c.x,c.y]);for(var d=1,f=b.length;d<f;d++)a.push(["L",b[d].x,b[d].y]);return e&&(a.push(["L",c.x,c.y]),a.push(["z"])),a}function q6(a,f){var b=0,d=0,c=0,e=0;return fB(a)?1===a.length?b=d=c=e=a[0]:2===a.length?(b=c=a[0],d=e=a[1]):3===a.length?(b=a[0],d=e=a[1],c=a[2]):(b=a[0],d=a[1],c=a[2],e=a[3]):b=d=c=e=a,b+d>f&&(b=b?f/(1+d/b):0,d=f-b),c+e>f&&(c=c?f/(1+e/c):0,e=f-c),[b||0,d||0,c||0,e||0]}function q7(o,d,a){var b=[];if(a.isRect){var c=a.isTransposed?{x:a.start.x,y:d[0].y}:{x:d[0].x,y:a.start.y},e=a.isTransposed?{x:a.end.x,y:d[2].y}:{x:d[3].x,y:a.end.y},p=gB(o,["background","style","radius"]);if(p){var r=a.isTransposed?Math.abs(d[0].y-d[2].y):d[2].x-d[1].x,s=a.isTransposed?a.getWidth():a.getHeight(),k=fq(q6(p,Math.min(r,s)),4),g=k[0],h=k[1],i=k[2],j=k[3],t=a.isTransposed&&a.isReflect("y"),l=t?0:1,m=function(a){return t?-a:a};b.push(["M",c.x,e.y+m(g)]),0!==g&&b.push(["A",g,g,0,0,l,c.x+g,e.y]),b.push(["L",e.x-h,e.y]),0!==h&&b.push(["A",h,h,0,0,l,e.x,e.y+m(h)]),b.push(["L",e.x,c.y-m(i)]),0!==i&&b.push(["A",i,i,0,0,l,e.x-i,c.y]),b.push(["L",c.x+j,c.y]),0!==j&&b.push(["A",j,j,0,0,l,c.x,c.y-m(j)])}else b.push(["M",c.x,c.y]),b.push(["L",e.x,c.y]),b.push(["L",e.x,e.y]),b.push(["L",c.x,e.y]),b.push(["L",c.x,c.y]);b.push(["z"])}if(a.isPolar){var f=a.getCenter(),q=c6(o,a),u=q.startAngle,v=q.endAngle;if("theta"===a.type||a.isTransposed){var n=function(a){return Math.pow(a,2)},g=Math.sqrt(n(f.x-d[0].x)+n(f.y-d[0].y)),h=Math.sqrt(n(f.x-d[2].x)+n(f.y-d[2].y));b=c5(f.x,f.y,g,a.startAngle,a.endAngle,h)}else b=c5(f.x,f.y,a.getRadius(),u,v)}return b}function q8(a,b,d){var c=[];return fA(b)?d?c.push(["M",a[0].x,a[0].y],["L",a[1].x,a[1].y],["L",(a[2].x+a[3].x)/2,(a[2].y+a[3].y)/2],["Z"]):c.push(["M",a[0].x,a[0].y],["L",a[1].x,a[1].y],["L",a[2].x,a[2].y],["L",a[3].x,a[3].y],["Z"]):c.push(["M",a[0].x,a[0].y],["L",a[1].x,a[1].y],["L",b[1].x,b[1].y],["L",b[0].x,b[0].y],["Z"]),c}function q9(a,b){return[b,a]}function ra(b){var f=b.theme,n=b.coordinate,c=b.getXScale(),e=c.values,r=b.beforeMappingData,d=e.length,h=nD(b.coordinate),g=b.intervalPadding,j=b.dodgePadding,k=b.maxColumnWidth||f.maxColumnWidth,l=b.minColumnWidth||f.minColumnWidth,s=b.columnWidthRatio||f.columnWidthRatio,t=b.multiplePieWidthRatio||f.multiplePieWidthRatio,u=b.roseWidthRatio||f.roseWidthRatio;if(c.isLinear&&e.length>1){e.sort();var v=function g(c,h){var f=c.length,a=c;fT(a[0])&&(a=c.map(function(a){return h.translate(a)}));for(var d=a[1]-a[0],b=2;b<f;b++){var e=a[b]-a[b-1];d>e&&(d=e)}return d}(e,c);d=(c.max-c.min)/v,e.length>d&&(d=e.length)}var o=c.range,a=1/d,i=1;if((n.isPolar?i=n.isTransposed&&d>1?t:u:(c.isLinear&&(a*=o[1]-o[0]),i=s),!fA(g)&&g>=0)?a=(1-(d-1)*(g/h))/d:a*=i,b.getAdjust("dodge")){var m=function(a,b){if(b){var c=fK(a);return fW(c,b).length}return a.length}(r,b.getAdjust("dodge").dodgeBy);!fA(j)&&j>=0?a=(a-j/h*(m-1))/m:(!fA(g)&&g>=0&&(a*=i),a/=m),a=a>=0?a:0}if(!fA(k)&&k>=0){var p=k/h;a>p&&(a=p)}if(!fA(l)&&l>=0){var q=l/h;a<q&&(a=q)}return a}B("interval",{defaultShapeType:"rect",getDefaultPoints:function(a){return q4(a)}}),f("interval","rect",{draw:function(m,B){var C,p,r,D,E,F,G,H,s,t,u,e,c,j,d,q,f,g,h,i,a,y,b,I,v,z,A,J,k,l,o,K,w=pk(m,!1,!0),x=B,L=null==m?void 0:m.background;if(L){x=B.addGroup({name:"interval-group"});var M=pl(m),N=q7(m,this.parsePoints(m.points),this.coordinate);x.addShape("path",{attrs:n(n({},M),{path:N}),zIndex:-1,name:oW})}K=w.radius&&this.coordinate.isRect?(C=this.parsePoints(m.points),p=this.coordinate,r=w.radius,e=(u=fq(fs([],fq(C),!1),4))[0],c=u[1],j=u[2],d=u[3],q=fq("number"==typeof r?[,,,].fill(r):r,4),f=q[0],g=q[1],h=q[2],i=q[3],p.isTransposed&&(c=(D=fq(q9(c,d),2))[0],d=D[1]),p.isReflect("y")&&(e=(E=fq(q9(e,c),2))[0],c=E[1],j=(F=fq(q9(j,d),2))[0],d=F[1]),p.isReflect("x")&&(e=(G=fq(q9(e,d),2))[0],d=G[1],c=(H=fq(q9(c,j),2))[0],j=H[1]),a=[],y=function(a){return Math.abs(a)},f=(s=fq(q6([f,g,h,i],Math.min(y(d.x-e.x),y(c.y-e.y))).map(function(a){return y(a)}),4))[0],g=s[1],h=s[2],i=s[3],p.isTransposed&&(f=(t=fq([i,f,g,h],4))[0],g=t[1],h=t[2],i=t[3]),e.y<c.y?(a.push(["M",d.x,d.y+h]),0!==h&&a.push(["A",h,h,0,0,0,d.x-h,d.y]),a.push(["L",e.x+i,e.y]),0!==i&&a.push(["A",i,i,0,0,0,e.x,e.y+i]),a.push(["L",c.x,c.y-f]),0!==f&&a.push(["A",f,f,0,0,0,c.x+f,c.y]),a.push(["L",j.x-g,j.y]),0!==g&&a.push(["A",g,g,0,0,0,j.x,j.y-g]),a.push(["L",d.x,d.y+h]),a.push(["z"])):d.x<e.x?(a.push(["M",j.x+g,j.y]),0!==g&&a.push(["A",g,g,0,0,0,j.x,j.y+g]),a.push(["L",d.x,d.y-h]),0!==h&&a.push(["A",h,h,0,0,0,d.x+h,d.y]),a.push(["L",e.x-i,e.y]),0!==i&&a.push(["A",i,i,0,0,0,e.x,e.y-i]),a.push(["L",c.x,c.y+f]),0!==f&&a.push(["A",f,f,0,0,0,c.x-f,c.y]),a.push(["L",j.x+g,j.y]),a.push(["z"])):(a.push(["M",c.x,c.y+f]),0!==f&&a.push(["A",f,f,0,0,1,c.x+f,c.y]),a.push(["L",j.x-g,j.y]),0!==g&&a.push(["A",g,g,0,0,1,j.x,j.y+g]),a.push(["L",d.x,d.y-h]),0!==h&&a.push(["A",h,h,0,0,1,d.x-h,d.y]),a.push(["L",e.x+i,e.y]),0!==i&&a.push(["A",i,i,0,0,1,e.x,e.y-i]),a.push(["L",c.x,c.y+f]),a.push(["z"])),a):this.parsePath((b=m.points,I=w.lineCap,z=(v=this.coordinate).getWidth(),A=v.getHeight(),J="rect"===v.type,k=[],l=(b[2].x-b[1].x)/2,o=v.isTransposed?l*A/z:l*z/A,"round"===I?(J?(k.push(["M",b[0].x,b[0].y+o]),k.push(["L",b[1].x,b[1].y-o]),k.push(["A",l,l,0,0,1,b[2].x,b[2].y-o]),k.push(["L",b[3].x,b[3].y+o]),k.push(["A",l,l,0,0,1,b[0].x,b[0].y+o])):(k.push(["M",b[0].x,b[0].y]),k.push(["L",b[1].x,b[1].y]),k.push(["A",l,l,0,0,1,b[2].x,b[2].y]),k.push(["L",b[3].x,b[3].y]),k.push(["A",l,l,0,0,1,b[0].x,b[0].y])),k.push(["z"])):k=q5(b),k));var O=x.addShape("path",{attrs:n(n({},w),{path:K}),name:"interval"});return L?x:O},getMarker:function(a){var b=a.color;return a.isInPolar?{symbol:"circle",style:{r:4.5,fill:b}}:{symbol:"square",style:{r:4,fill:b}}}});var dr=function(b){function a(c){var a=b.call(this,c)||this;a.type="interval",a.shapeType="interval",a.generatePoints=!0;var d=c.background;return a.background=d,a}return fl(a,b),a.prototype.createShapePointsCfg=function(c){var a,d=b.prototype.createShapePointsCfg.call(this,c),e=this.getAttribute("size");if(e){a=this.getAttributeValues(e,c)[0];var f=nD(this.coordinate);a/=f}else this.defaultSize||(this.defaultSize=ra(this)),a=this.defaultSize;return d.size=a,d},a.prototype.adjustScale=function(){b.prototype.adjustScale.call(this);var c,d,a=this.getYScale();if("theta"===this.coordinate.type)a.change({nice:!1,min:0,max:(d=(c=a).values.filter(function(a){return!fA(a)&&!isNaN(a)}),Math.max.apply(Math,fs(fs([],fq(d),!1),[fA(c.max)?-1/0:c.max],!1)))});else{var e=this.scaleDefs,f=a.field,g=a.min,h=a.max,i=a.type;"time"!==i&&(g>0&&!gB(e,[f,"min"])&&a.change({min:0}),h<=0&&!gB(e,[f,"max"])&&a.change({max:0}))}},a.prototype.getDrawCfg=function(c){var a=b.prototype.getDrawCfg.call(this,c);return a.background=this.background,a},a}(C),ds=function(b){function a(c){var a=b.call(this,c)||this;a.type="line";var d=c.sortable;return a.sortable=void 0!==d&&d,a}return fl(a,b),a}(aF),bP=["circle","square","bowtie","diamond","hexagon","triangle","triangle-down"];function rb(m,e,g,b,h){var f,i,j=pk(e,h,!h,"r"),c=m.parsePoints(e.points),k=c[0];if(e.isStack)k=c[1];else if(c.length>1){var l=g.addGroup();try{for(var d=fp(c),a=d.next();!a.done;a=d.next()){var o=a.value;l.addShape({type:"marker",attrs:n(n(n({},j),{symbol:pb[b]||b}),o)})}}catch(p){f={error:p}}finally{try{a&&!a.done&&(i=d.return)&&i.call(d)}finally{if(f)throw f.error}}return l}return g.addShape({type:"marker",attrs:n(n(n({},j),{symbol:pb[b]||b}),k)})}B("point",{defaultShapeType:"hollow-circle",getDefaultPoints:function(a){return pm(a)}}),I(bP,function(a){f("point","hollow-".concat(a),{draw:function(b,c){return rb(this,b,c,a,!0)},getMarker:function(b){var c=b.color;return{symbol:pb[a]||a,style:{r:4.5,stroke:c,fill:null}}}})});var dt=function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.type="point",a.shapeType="point",a.generatePoints=!0,a}return fl(a,b),a.prototype.getDrawCfg=function(a){var c=b.prototype.getDrawCfg.call(this,a);return n(n({},c),{isStack:!!this.getAdjust("stack")})},a}(C);B("polygon",{defaultShapeType:"polygon",getDefaultPoints:function(a){var b=[];return I(a.x,function(c,d){var e=a.y[d];b.push({x:c,y:e})}),b}}),f("polygon","polygon",{draw:function(a,b){if(!gv(a.points)){var c=pk(a,!0,!0),d=this.parsePath(function(c){for(var a=c[0],b=1,d=[["M",a.x,a.y]];b<c.length;){var e=c[b];(e.x!==c[b-1].x||e.y!==c[b-1].y)&&(d.push(["L",e.x,e.y]),e.x===a.x&&e.y===a.y&&b<c.length-1&&(a=c[b+1],d.push(["Z"]),d.push(["M",a.x,a.y]),b++)),b++}return gw(fY(d),a)||d.push(["L",a.x,a.y]),d.push(["Z"]),d}(a.points));return b.addShape("path",{attrs:n(n({},c),{path:d}),name:"polygon"})}},getMarker:function(a){return{symbol:"square",style:{r:4,fill:a.color}}}});var du=function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.type="polygon",a.shapeType="polygon",a.generatePoints=!0,a}return fl(a,b),a.prototype.createShapePointsCfg=function(j){var d,g=b.prototype.createShapePointsCfg.call(this,j),a=g.x,c=g.y;if(!(fB(a)&&fB(c))){var h=this.getXScale(),i=this.getYScale(),k=h.values.length,l=i.values.length,e=.5/k,f=.5/l;h.isCategory&&i.isCategory?(a=[a-e,a-e,a+e,a+e],c=[c-f,c+f,c+f,c-f]):fB(a)?(a=[(d=a)[0],d[0],d[1],d[1]],c=[c-f/2,c+f/2,c+f/2,c-f/2]):fB(c)&&(c=[(d=c)[0],d[1],d[1],d[0]],a=[a-e/2,a-e/2,a+e/2,a+e/2]),g.x=a,g.y=c}return g},a}(C);B("schema",{defaultShapeType:""});var dv=function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.type="schema",a.shapeType="schema",a.generatePoints=!0,a}return fl(a,b),a.prototype.createShapePointsCfg=function(c){var a,d=b.prototype.createShapePointsCfg.call(this,c),e=this.getAttribute("size");if(e){a=this.getAttributeValues(e,c)[0];var f=nD(this.coordinate);a/=f}else this.defaultSize||(this.defaultSize=ra(this)),a=this.defaultSize;return d.size=a,d},a}(C);B("violin",{defaultShapeType:"violin",getDefaultPoints:function(a){var c=a.size/2,b=[],d=function(a){if(!fB(a))return[];var b=fM(a);return gx(a,function(a){return a/b})}(a._size);return I(a.y,function(f,e){var g=d[e]*c,h=0===e,i=e===a.y.length-1;b.push({isMin:h,isMax:i,x:a.x-g,y:f}),b.unshift({isMin:h,isMax:i,x:a.x+g,y:f})}),b}}),f("violin","violin",{draw:function(a,b){var c=pk(a,!0,!0),d=this.parsePath(pi(a.points));return b.addShape("path",{attrs:n(n({},c),{path:d}),name:"violin"})},getMarker:function(a){return{symbol:"circle",style:{r:4,fill:a.color}}}});var dw=function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.type="violin",a.shapeType="violin",a.generatePoints=!0,a}return fl(a,b),a.prototype.createShapePointsCfg=function(c){var a,d=b.prototype.createShapePointsCfg.call(this,c),e=this.getAttribute("size");if(e){a=this.getAttributeValues(e,c)[0];var f=nD(this.coordinate);a/=f}else this.defaultSize||(this.defaultSize=ra(this)),a=this.defaultSize;return d.size=a,d._size=gB(c[gP],[this._sizeField]),d},a.prototype.initAttributes=function(){var a=this.attributeOption,c=a.size?a.size.fields[0]:this._sizeField?this._sizeField:"size";this._sizeField=c,delete a.size,b.prototype.initAttributes.call(this)},a}(C);function rc(b,a){return["C",1*b.x/2+1*a.x/2,b.y,1*b.x/2+1*a.x/2,a.y,a.x,a.y]}function rd(c,b){var a=[];a.push({x:b.x,y:b.y}),a.push(c);var d=["Q"];return I(a,function(a){d.push(a.x,a.y)}),d}f("area","line",{draw:function(a,b){var c=q2(a,!0,!1,this);return b.addShape({type:"path",attrs:c,name:"area"})},getMarker:function(a){return{symbol:function(b,c,a){return void 0===a&&(a=5.5),[["M",b-a,c-4],["L",b+a,c-4],["L",b+a,c+4],["L",b-a,c+4],["Z"]]},style:{r:5,stroke:a.color,fill:null}}}}),f("area","smooth",{draw:function(a,b){var c=q2(a,!1,!0,this,q3(this.coordinate));return b.addShape({type:"path",attrs:c,name:"area"})},getMarker:function(a){return{symbol:function(b,c,a){return void 0===a&&(a=5.5),[["M",b-a,c-4],["L",b+a,c-4],["L",b+a,c+4],["L",b-a,c+4],["Z"]]},style:{r:5,fill:a.color,fillOpacity:1}}}}),f("area","smooth-line",{draw:function(a,b){var c=q2(a,!0,!0,this,q3(this.coordinate));return b.addShape({type:"path",attrs:c,name:"area"})},getMarker:function(a){return{symbol:function(b,c,a){return void 0===a&&(a=5.5),[["M",b-a,c-4],["L",b+a,c-4],["L",b+a,c+4],["L",b-a,c+4],["Z"]]},style:{r:5,stroke:a.color,fill:null}}}}),f("edge","arc",{draw:function(f,g){var c,e=pk(f,!0,!1,"lineWidth"),a=f.points,k=a.length>2?"weight":"normal";if(f.isInCircle){var h,l,m,o,i,b,j,p,q,d,r={x:0,y:1};return"normal"===k?c=(h=a[0],l=a[1],m=r,o=rd(l,m),i=[["M",h.x,h.y]],i.push(o),i):(e.fill=e.stroke,c=(b=a,j=r,p=rd(b[1],j),q=rd(b[3],j),d=[["M",b[0].x,b[0].y]],d.push(q),d.push(["L",b[3].x,b[3].y]),d.push(["L",b[2].x,b[2].y]),d.push(p),d.push(["L",b[1].x,b[1].y]),d.push(["L",b[0].x,b[0].y]),d.push(["Z"]),d)),c=this.parsePath(c),g.addShape("path",{attrs:n(n({},e),{path:c})})}if("normal"===k)return a=this.parsePoints(a),c=nx((a[1].x+a[0].x)/2,a[0].y,Math.abs(a[1].x-a[0].x)/2,Math.PI,2*Math.PI),g.addShape("path",{attrs:n(n({},e),{path:c})});var s=rc(a[1],a[3]),t=rc(a[2],a[0]);return c=[["M",a[0].x,a[0].y],["L",a[1].x,a[1].y],s,["L",a[3].x,a[3].y],["L",a[2].x,a[2].y],t,["Z"],],c=this.parsePath(c),e.fill=e.stroke,g.addShape("path",{attrs:n(n({},e),{path:c})})},getMarker:function(a){return{symbol:"circle",style:{r:4.5,fill:a.color}}}}),f("edge","smooth",{draw:function(c,g){var a,d,e,b,h=pk(c,!0,!1,"lineWidth"),f=c.points,i=this.parsePath((a=f[0],d=f[1],e=rc(a,d),b=[["M",a.x,a.y]],b.push(e),b));return g.addShape("path",{attrs:n(n({},h),{path:i})})},getMarker:function(a){return{symbol:"circle",style:{r:4.5,fill:a.color}}}});var re=1/3;f("edge","vhv",{draw:function(d,g){var a,b,c,e,h=pk(d,!0,!1,"lineWidth"),f=d.points,i=this.parsePath((a=f[0],b=f[1],c=[],c.push({x:a.x,y:a.y*(1-re)+b.y*re}),c.push({x:b.x,y:a.y*(1-re)+b.y*re}),c.push(b),e=[["M",a.x,a.y]],I(c,function(a){e.push(["L",a.x,a.y])}),e));return g.addShape("path",{attrs:n(n({},h),{path:i})})},getMarker:function(a){return{symbol:"circle",style:{r:4.5,fill:a.color}}}}),f("interval","funnel",{getPoints:function(a){return a.size=2*a.size,q4(a)},draw:function(a,b){var c=pk(a,!1,!0),d=this.parsePath(q8(a.points,a.nextPoints,!1));return b.addShape("path",{attrs:n(n({},c),{path:d}),name:"interval"})},getMarker:function(a){return{symbol:"square",style:{r:4,fill:a.color}}}}),f("interval","hollow-rect",{draw:function(a,c){var e=pk(a,!0,!1),b=c,d=null==a?void 0:a.background;if(d){b=c.addGroup();var f=pl(a),g=q7(a,this.parsePoints(a.points),this.coordinate);b.addShape("path",{attrs:n(n({},f),{path:g}),zIndex:-1,name:oW})}var h=this.parsePath(q5(a.points)),i=b.addShape("path",{attrs:n(n({},e),{path:h}),name:"interval"});return d?b:i},getMarker:function(a){var b=a.color;return a.isInPolar?{symbol:"circle",style:{r:4.5,stroke:b,fill:null}}:{symbol:"square",style:{r:4,stroke:b,fill:null}}}}),f("interval","line",{getPoints:function(e){var b,c,a,d;return c=(b=e).x,a=b.y,d=b.y0,fB(a)?a.map(function(a,b){return{x:fB(c)?c[b]:c,y:a}}):[{x:c,y:d},{x:c,y:a},]},draw:function(a,b){var c=pk(a,!0,!1,"lineWidth"),d=nA(n({},c),["fill"]),e=this.parsePath(q5(a.points,!1));return b.addShape("path",{attrs:n(n({},d),{path:e}),name:"interval"})},getMarker:function(a){return{symbol:function(a,b,c){return[["M",a,b-c],["L",a,b+c],]},style:{r:5,stroke:a.color}}}}),f("interval","pyramid",{getPoints:function(a){return a.size=2*a.size,q4(a)},draw:function(a,b){var c=pk(a,!1,!0),d=this.parsePath(q8(a.points,a.nextPoints,!0));return b.addShape("path",{attrs:n(n({},c),{path:d}),name:"interval"})},getMarker:function(a){return{symbol:"square",style:{r:4,fill:a.color}}}}),f("interval","tick",{getPoints:function(k){var d,i,a,b,c,e,j,f,g,h;return c=(d=k).x,e=d.y,j=d.y0,f=d.size,fB(e)?(a=(i=fq(e,2))[0],b=i[1]):(a=j,b=e),g=c+f/2,h=c-f/2,[{x:c,y:a},{x:c,y:b},{x:h,y:a},{x:g,y:a},{x:h,y:b},{x:g,y:b},]},draw:function(b,c){var a,d=pk(b,!0,!1),e=this.parsePath([["M",(a=b.points)[0].x,a[0].y],["L",a[1].x,a[1].y],["M",a[2].x,a[2].y],["L",a[3].x,a[3].y],["M",a[4].x,a[4].y],["L",a[5].x,a[5].y],]);return c.addShape("path",{attrs:n(n({},d),{path:e}),name:"interval"})},getMarker:function(a){return{symbol:function(b,c,a){return[["M",b-a/2,c-a],["L",b+a/2,c-a],["M",b,c-a],["L",b,c+a],["M",b-a/2,c+a],["L",b+a/2,c+a],]},style:{r:5,stroke:a.color}}}});var rf=function(f,g,j){var a,b=f.x,c=f.y,d=g.x,e=g.y;switch(j){case"hv":a=[{x:d,y:c}];break;case"vh":a=[{x:b,y:e}];break;case"hvh":var h=(d+b)/2;a=[{x:h,y:c},{x:h,y:e},];break;case"vhv":var i=(c+e)/2;a=[{x:b,y:i},{x:d,y:i},]}return a};function rg(b){var a=fB(b)?b:[b],c=a[0],d=a[a.length-1],e=a.length>1?a[1]:c,f=a.length>3?a[3]:d,g=a.length>2?a[2]:e;return{min:c,max:d,min1:e,max1:f,median:g}}function rh(b,a,p){var o,n=p/2;if(fB(a)){var g=rg(a),c=g.min,d=g.max,h=g.median,e=g.min1,f=g.max1,i=b-n,j=b+n;o=[[i,d],[j,d],[b,d],[b,f],[i,e],[i,f],[j,f],[j,e],[b,e],[b,c],[i,c],[j,c],[i,h],[j,h],]}else{a=fA(a)?.5:a;var k=rg(b),c=k.min,d=k.max,h=k.median,e=k.min1,f=k.max1,l=a-n,m=a+n;o=[[c,l],[c,m],[c,a],[e,a],[e,l],[e,m],[f,m],[f,l],[f,a],[d,a],[d,l],[d,m],[h,l],[h,m],]}return o.map(function(a){return{x:a[0],y:a[1]}})}function ri(a,f,c){var d,e,b=function(a,b,c){if(fT(a))return a.padEnd(b,c);if(fB(a)){var d=a.length;if(d<b)for(var f=b-d,e=0;e<f;e++)a.push(c)}return a}(e=(fB(d=f)?d:[d]).sort(function(a,b){return b-a}),4,e[e.length-1]);return[{x:a,y:b[0]},{x:a,y:b[1]},{x:a-c/2,y:b[2]},{x:a-c/2,y:b[1]},{x:a+c/2,y:b[1]},{x:a+c/2,y:b[2]},{x:a,y:b[2]},{x:a,y:b[3]},]}I(["hv","vh","hvh","vhv"],function(a){f("line",a,{draw:function(e,f){var b,g,c,d,h=(b=e,g=a,c=dk(b.points,b.connectNulls,b.showSinglePoint),d=[],I(c,function(c){var a,e,b,f,h=(a=c,e=g,b=[],I(a,function(c,f){var d=a[f+1];if(b.push(c),d){var g=rf(c,d,e);b=b.concat(g)}}),b);d=d.concat((f=h).map(function(a,b){return 0===b?["M",a.x,a.y]:["L",a.x,a.y]}))}),n(n({},pk(b,!0,!1,"lineWidth")),{path:d}));return f.addShape({type:"path",attrs:h,name:"line"})},getMarker:function(b){return po(b,a)}})}),I(["cross","tick","plus","hyphen","line"],function(a){f("point",a,{draw:function(b,c){return rb(this,b,c,a,!0)},getMarker:function(b){var c=b.color;return{symbol:pb[a],style:{r:4.5,stroke:c,fill:null}}}})}),f("point","image",{draw:function(b,h){var f,i,a=pk(b,!1,!1,"r").r,d=this.parsePoints(b.points),g=d[0];if(b.isStack)g=d[1];else if(d.length>1){var j=h.addGroup();try{for(var e=fp(d),c=e.next();!c.done;c=e.next()){var k=c.value;j.addShape("image",{attrs:{x:k.x-a/2,y:k.y-a,width:a,height:a,img:b.shape[1]}})}}catch(l){f={error:l}}finally{try{c&&!c.done&&(i=e.return)&&i.call(e)}finally{if(f)throw f.error}}return j}return h.addShape("image",{attrs:{x:g.x-a/2,y:g.y-a,width:a,height:a,img:b.shape[1]}})},getMarker:function(a){return{symbol:"circle",style:{r:4.5,fill:a.color}}}}),I(bP,function(a){f("point",a,{draw:function(b,c){return rb(this,b,c,a,!1)},getMarker:function(b){var c=b.color;return{symbol:pb[a]||a,style:{r:4.5,fill:c}}}})}),f("schema","box",{getPoints:function(a){var b=a.x,c=a.y,d=a.size;return rh(b,c,d)},draw:function(b,c){var a,d=pk(b,!0,!1),e=this.parsePath([["M",(a=b.points)[0].x,a[0].y],["L",a[1].x,a[1].y],["M",a[2].x,a[2].y],["L",a[3].x,a[3].y],["M",a[4].x,a[4].y],["L",a[5].x,a[5].y],["L",a[6].x,a[6].y],["L",a[7].x,a[7].y],["L",a[4].x,a[4].y],["Z"],["M",a[8].x,a[8].y],["L",a[9].x,a[9].y],["M",a[10].x,a[10].y],["L",a[11].x,a[11].y],["M",a[12].x,a[12].y],["L",a[13].x,a[13].y],]);return c.addShape("path",{attrs:n(n({},d),{path:e,name:"schema"})})},getMarker:function(a){return{symbol:function(c,b,d){var a=rh(c,[b-6,b-3,b,b+3,b+6],d);return[["M",a[0].x+1,a[0].y],["L",a[1].x-1,a[1].y],["M",a[2].x,a[2].y],["L",a[3].x,a[3].y],["M",a[4].x,a[4].y],["L",a[5].x,a[5].y],["L",a[6].x,a[6].y],["L",a[7].x,a[7].y],["L",a[4].x,a[4].y],["Z"],["M",a[8].x,a[8].y],["L",a[9].x,a[9].y],["M",a[10].x+1,a[10].y],["L",a[11].x-1,a[11].y],["M",a[12].x,a[12].y],["L",a[13].x,a[13].y],]},style:{r:6,lineWidth:1,stroke:a.color}}}}),f("schema","candle",{getPoints:function(a){var b=a.x,c=a.y,d=a.size;return ri(b,c,d)},draw:function(b,c){var a,d=pk(b,!0,!0),e=this.parsePath([["M",(a=b.points)[0].x,a[0].y],["L",a[1].x,a[1].y],["M",a[2].x,a[2].y],["L",a[3].x,a[3].y],["L",a[4].x,a[4].y],["L",a[5].x,a[5].y],["Z"],["M",a[6].x,a[6].y],["L",a[7].x,a[7].y],]);return c.addShape("path",{attrs:n(n({},d),{path:e,name:"schema"})})},getMarker:function(b){var a=b.color;return{symbol:function(c,b,d){var a=ri(c,[b+7.5,b+3,b-3,b-7.5],d);return[["M",a[0].x,a[0].y],["L",a[1].x,a[1].y],["M",a[2].x,a[2].y],["L",a[3].x,a[3].y],["L",a[4].x,a[4].y],["L",a[5].x,a[5].y],["Z"],["M",a[6].x,a[6].y],["L",a[7].x,a[7].y],]},style:{lineWidth:1,stroke:a,fill:a,r:6}}}}),f("polygon","square",{draw:function(c,i){if(!gv(c.points)){var a,d,e,f,b,g,h,j=pk(c,!0,!0),k=this.parsePoints(c.points);return i.addShape("rect",{attrs:n(n({},j),(a=k,d=c.size,e=Math.abs(a[0].x-a[2].x),f=Math.abs(a[0].y-a[2].y),b=Math.min(e,f),d&&(b=f3(d,0,Math.min(e,f))),b/=2,g=(a[0].x+a[2].x)/2,h=(a[0].y+a[2].y)/2,{x:g-b,y:h-b,width:2*b,height:2*b})),name:"polygon"})}},getMarker:function(a){return{symbol:"square",style:{r:4,fill:a.color}}}}),f("violin","smooth",{draw:function(a,b){var c=pk(a,!0,!0),d=this.parsePath(pj(a.points));return b.addShape("path",{attrs:n(n({},c),{path:d})})},getMarker:function(a){return{symbol:"circle",style:{stroke:null,r:4,fill:a.color}}}}),f("violin","hollow",{draw:function(a,b){var c=pk(a,!0,!1),d=this.parsePath(pi(a.points));return b.addShape("path",{attrs:n(n({},c),{path:d})})},getMarker:function(a){return{symbol:"circle",style:{r:4,fill:null,stroke:a.color}}}}),f("violin","hollow-smooth",{draw:function(a,b){var c=pk(a,!0,!1),d=this.parsePath(pj(a.points));return b.addShape("path",{attrs:n(n({},c),{path:d})})},getMarker:function(a){return{symbol:"circle",style:{r:4,fill:null,stroke:a.color}}}});var dx=function(b){function a(){return null!==b&&b.apply(this,arguments)||this}return fl(a,b),a.prototype.getLabelValueDir=function(b){var a=b.points;return a[0].y<=a[2].y?1:-1},a.prototype.getLabelOffsetPoint=function(d,g,h,j){var e,a=b.prototype.getLabelOffsetPoint.call(this,d,g,h),c=this.getCoordinate(),f=c.isTransposed?"x":"y",i=this.getLabelValueDir(d.mappingData);return a=n(n({},a),((e={})[f]=a[f]*i,e)),c.isReflect("x")&&(a=n(n({},a),{x:-1*a.x})),c.isReflect("y")&&(a=n(n({},a),{y:-1*a.y})),a},a.prototype.getThemedLabelCfg=function(a){var c,b=this.geometry;return gs({},this.getDefaultLabelCfg(),b.theme.labels,"middle"===a.position?{offset:0}:{},a)},a.prototype.setLabelPosition=function(a,f,u,t){var b,c,d,e,g=this.getCoordinate(),l=g.isTransposed,q=f.points,h=g.convert(q[0]),i=g.convert(q[2]),m=this.getLabelValueDir(f),r=fB(f.shape)?f.shape[0]:f.shape;if("funnel"===r||"pyramid"===r){var o=gB(f,"nextPoints"),s=gB(f,"points");if(o){var j=g.convert(s[0]),p=g.convert(s[1]),k=g.convert(o[0]),n=g.convert(o[1]);l?(b=Math.min(k.y,j.y),d=Math.max(k.y,j.y),c=(p.x+n.x)/2,e=(j.x+k.x)/2):(b=Math.min((p.y+n.y)/2,(j.y+k.y)/2),d=Math.max((p.y+n.y)/2,(j.y+k.y)/2),c=n.x,e=j.x)}else b=Math.min(i.y,h.y),d=Math.max(i.y,h.y),c=i.x,e=h.x}else b=Math.min(i.y,h.y),d=Math.max(i.y,h.y),c=i.x,e=h.x;switch(t){case"right":a.x=c,a.y=(b+d)/2,a.textAlign=gB(a,"textAlign",m>0?"left":"right");break;case"left":a.x=e,a.y=(b+d)/2,a.textAlign=gB(a,"textAlign",m>0?"left":"right");break;case"bottom":l&&(a.x=(c+e)/2),a.y=d,a.textAlign=gB(a,"textAlign","center"),a.textBaseline=gB(a,"textBaseline",m>0?"bottom":"top");break;case"middle":l&&(a.x=(c+e)/2),a.y=(b+d)/2,a.textAlign=gB(a,"textAlign","center"),a.textBaseline=gB(a,"textBaseline","middle");break;case"top":l&&(a.x=(c+e)/2),a.y=b,a.textAlign=gB(a,"textAlign","center"),a.textBaseline=gB(a,"textBaseline",m>0?"bottom":"top")}},a}(ah),rj=Math.PI/2,bQ=function(b){function a(){return null!==b&&b.apply(this,arguments)||this}return fl(a,b),a.prototype.getLabelOffset=function(a){var b=this.getCoordinate(),c=0;if(f5(a))c=a;else if(fT(a)&& -1!==a.indexOf("%")){var d=b.getRadius();b.innerRadius>0&&(d*=1-b.innerRadius),c=.01*parseFloat(a)*d}return c},a.prototype.getLabelItems=function(a){var c=b.prototype.getLabelItems.call(this,a),d=this.geometry.getYScale();return gx(c,function(a){if(a&&d){var b=d.scale(gB(a.data,d.field));return n(n({},a),{percent:b})}return a})},a.prototype.getLabelAlign=function(a){var b,c=this.getCoordinate();if(a.labelEmit)b=a.angle<=Math.PI/2&&a.angle>= -Math.PI/2?"left":"right";else if(c.isTransposed){var e=c.getCenter(),d=a.offset;b=1>Math.abs(a.x-e.x)?"center":a.angle>Math.PI||a.angle<=0?d>0?"left":"right":d>0?"right":"left"}else b="center";return b},a.prototype.getLabelPoint=function(b,e,d){var c,g=1,j=b.content[d];this.isToMiddle(e)?c=this.getMiddlePoint(e.points):(1===b.content.length&&0===d?d=1:0===d&&(g=-1),c=this.getArcPoint(e,d));var h=b.offset*g,f=this.getPointAngle(c),i=b.labelEmit,a=this.getCirclePoint(f,h,c,i);return 0===a.r?a.content="":(a.content=j,a.angle=f,a.color=e.color),a.rotate=b.autoRotate?this.getLabelRotate(f,h,i):b.rotate,a.start={x:c.x,y:c.y},a},a.prototype.getArcPoint=function(a,b){return(void 0===b&&(b=0),fB(a.x)||fB(a.y))?{x:fB(a.x)?a.x[b]:a.x,y:fB(a.y)?a.y[b]:a.y}:{x:a.x,y:a.y}},a.prototype.getPointAngle=function(a){return nF(this.getCoordinate(),a)},a.prototype.getCirclePoint=function(f,b,g,h){var c=this.getCoordinate(),d=c.getCenter(),a=nE(c,g);if(0===a)return n(n({},d),{r:a});var e=f;return c.isTransposed&&a>b&&!h?e=f+2*Math.asin(b/(2*a)):a+=b,{x:d.x+a*Math.cos(e),y:d.y+a*Math.sin(e),r:a}},a.prototype.getLabelRotate=function(b,d,c){var a=b+rj;return c&&(a-=rj),a&&(a>rj?a-=Math.PI:a< -rj&&(a+=Math.PI)),a},a.prototype.getMiddlePoint=function(b){var d=this.getCoordinate(),c=b.length,a={x:0,y:0};return I(b,function(b){a.x+=b.x,a.y+=b.y}),a.x/=c,a.y/=c,a=d.convert(a)},a.prototype.isToMiddle=function(a){return a.x.length>2},a}(ah),dy=function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.defaultLayout="distribute",a}return fl(a,b),a.prototype.getDefaultLabelCfg=function(a,c){var d=b.prototype.getDefaultLabelCfg.call(this,a,c);return gs({},d,gB(this.geometry.theme,"pieLabels",{}))},a.prototype.getLabelOffset=function(a){return b.prototype.getLabelOffset.call(this,a)||0},a.prototype.getLabelRotate=function(b,c,d){var a;return c<0&&((a=b)>Math.PI/2&&(a-=Math.PI),a< -Math.PI/2&&(a+=Math.PI)),a},a.prototype.getLabelAlign=function(b){var a,c=this.getCoordinate().getCenter();return a=b.angle<=Math.PI/2&&b.x>=c.x?"left":"right",b.offset<=0&&(a="right"===a?"left":"right"),a},a.prototype.getArcPoint=function(a){return a},a.prototype.getPointAngle=function(a){var c,e=this.getCoordinate(),f={x:fB(a.x)?a.x[0]:a.x,y:a.y[0]},g={x:fB(a.x)?a.x[1]:a.x,y:a.y[1]},b=nF(e,f);if(a.points&&a.points[0].y===a.points[1].y)c=b;else{var d=nF(e,g);b>=d&&(d+=2*Math.PI),c=b+(d-b)/2}return c},a.prototype.getCirclePoint=function(a,e){var b=this.getCoordinate(),c=b.getCenter(),d=b.getRadius()+e;return n(n({},c4(c.x,c.y,d,a)),{angle:a,r:d})},a}(bQ);function rk(k,m,h){var b,i=k.filter(function(a){return!a.invisible});i.sort(function(a,b){return a.y-b.y});var f=!0,d=h.minY,e=Math.abs(d-h.maxY),j=0,l=Number.MIN_VALUE,c=i.map(function(a){return a.y>j&&(j=a.y),a.y<l&&(l=a.y),{content:a.content,size:m,targets:[a.y-d],pos:null}});for(l-=d,j-d>e&&(e=j-d);f;)for(c.forEach(function(a){var b=(Math.min.apply(l,a.targets)+Math.max.apply(l,a.targets))/2;a.pos=Math.min(Math.max(l,b-a.size/2),e-a.size),a.pos=Math.max(0,a.pos)}),f=!1,b=c.length;b--;)if(b>0){var a=c[b-1],g=c[b];a.pos+a.size>g.pos&&(a.size+=g.size,a.targets=a.targets.concat(g.targets),a.pos+a.size>e&&(a.pos=e-a.size),c.splice(b,1),f=!0)}b=0,c.forEach(function(a){var c=d+m/2;a.targets.forEach(function(){i[b].y=a.pos+c,c+=m,b++})})}var rl=function(){function a(a){void 0===a&&(a={}),this.bitmap={};var b=a.xGap,c=a.yGap;this.xGap=void 0===b?1:b,this.yGap=void 0===c?8:c}return a.prototype.hasGap=function(c){for(var d=!0,b=this.bitmap,f=Math.round(c.minX),g=Math.round(c.maxX),h=Math.round(c.minY),i=Math.round(c.maxY),a=f;a<=g;a+=1){if(!b[a]){b[a]={};continue}if(a===f||a===g){for(var e=h;e<=i;e++)if(b[a][e]){d=!1;break}}else if(b[a][h]||b[a][i]){d=!1;break}}return d},a.prototype.fillGap=function(c){for(var b=this.bitmap,d=Math.round(c.minX),e=Math.round(c.maxX),g=Math.round(c.minY),f=Math.round(c.maxY),a=d;a<=e;a+=1)b[a]||(b[a]={});for(var a=d;a<=e;a+=this.xGap){for(var h=g;h<=f;h+=this.yGap)b[a][h]=!0;b[a][f]=!0}if(1!==this.yGap)for(var a=g;a<=f;a+=1)b[d][a]=!0,b[e][a]=!0;if(1!==this.xGap)for(var a=d;a<=e;a+=1)b[a][g]=!0,b[a][f]=!0},a.prototype.destroy=function(){this.bitmap={}},a}();function rm(c,f,g,h){var d=c.getCanvasBBox(),e=d.width,b=d.height,a={x:f,y:g,textAlign:"center"};switch(h){case 0:a.y-=b+1,a.x+=1,a.textAlign="left";break;case 1:a.y-=b+1,a.x-=1,a.textAlign="right";break;case 2:a.y+=b+1,a.x-=1,a.textAlign="right";break;case 3:a.y+=b+1,a.x+=1,a.textAlign="left";break;case 5:a.y-=2*b+2;break;case 6:a.y+=2*b+2;break;case 7:a.x+=e+1,a.textAlign="left";break;case 8:a.x-=e+1,a.textAlign="right"}return c.attr(a),c.getCanvasBBox()}function rn(a){if(a.length>4)return[];var b=function(a,b){return[b.x-a.x,b.y-a.y]},c=b(a[0],a[1]),d=b(a[1],a[2]);return[c,d]}function ro(c,b,a){void 0===b&&(b=0),void 0===a&&(a={x:0,y:0});var d=c.x,e=c.y;return{x:(d-a.x)*Math.cos(-b)+(e-a.y)*Math.sin(-b)+a.x,y:(a.x-d)*Math.sin(-b)+(e-a.y)*Math.cos(-b)+a.y}}function rp(a){var b=[{x:a.x,y:a.y},{x:a.x+a.width,y:a.y},{x:a.x+a.width,y:a.y+a.height},{x:a.x,y:a.y+a.height},],c=a.rotation;return c?[ro(b[0],c,b[0]),ro(b[1],c,b[0]),ro(b[2],c,b[0]),ro(b[3],c,b[0]),]:b}function rq(a,c){if(a.length>4)return{min:0,max:0};var b=[];return a.forEach(function(e){var a,d;b.push((a=[e.x,e.y],d=c,(a[0]||0)*(d[0]||0)+(a[1]||0)*(d[1]||0)+(a[2]||0)*(d[2]||0)))}),{min:Math.min.apply(Math,fs([],fq(b),!1)),max:Math.max.apply(Math,fs([],fq(b),!1))}}function rr(a,b){return a.max>b.min&&a.min<b.max}function rs(a){return["x","y","width","height"].every(function(c){var b;return"number"==typeof(b=a[c])&&!Number.isNaN(b)&&b!==1/0&&b!== -1/0})}function rt(d,e,f){if(void 0===f&&(f=0),!rs(d)||!rs(e))return!1;if(!d.rotation&&!e.rotation){var a,b,c;return a=d,b=e,void 0===(c=f)&&(c=0),!(b.x>a.x+a.width+c||b.x+b.width<a.x-c||b.y>a.y+a.height+c||b.y+b.height<a.y-c)}for(var h=rp(d),i=rp(e),j=rn(h).concat(rn(i)),g=0;g<j.length;g++){var k=j[g],l=rq(h,k),m=rq(i,k);if(!rr(l,m))return!1}return!0}var dz="\n   self.onmessage = ".concat((function(c){var h=function(){function a(a){if(a.length>4)return[];var b=function(a,b){return[b.x-a.x,b.y-a.y]},c=b(a[0],a[1]),d=b(a[1],a[2]);return[c,d]}function b(c,b,a){void 0===b&&(b=0),void 0===a&&(a={x:0,y:0});var d=c.x,e=c.y;return{x:(d-a.x)*Math.cos(-b)+(e-a.y)*Math.sin(-b)+a.x,y:(a.x-d)*Math.sin(-b)+(e-a.y)*Math.cos(-b)+a.y}}function c(a){var c=[{x:a.x,y:a.y},{x:a.x+a.width,y:a.y},{x:a.x+a.width,y:a.y+a.height},{x:a.x,y:a.y+a.height},],d=a.rotation;return d?[b(c[0],d,c[0]),b(c[1],d,c[0]),b(c[2],d,c[0]),b(c[3],d,c[0]),]:c}function d(a,c){if(a.length>4)return{min:0,max:0};var b=[];return a.forEach(function(e){var a,d;b.push((a=[e.x,e.y],d=c,(a[0]||0)*(d[0]||0)+(a[1]||0)*(d[1]||0)+(a[2]||0)*(d[2]||0)))}),{min:Math.min.apply(null,b),max:Math.max.apply(null,b)}}function e(a,b){return a.max>b.min&&a.min<b.max}function f(a){return["x","y","width","height"].every(function(c){var b;return"number"==typeof(b=a[c])&&!Number.isNaN(b)&&b!==1/0&&b!== -1/0})}return{intersect:function(i,j,k){if(void 0===k&&(k=0),!f(i)||!f(j))return!1;if(!i.rotation&&!j.rotation){var b,g,h;return b=i,g=j,void 0===(h=k)&&(h=0),!(g.x>b.x+b.width+h||g.x+g.width<b.x-h||g.y>b.y+b.height+h||g.y+g.height<b.y-h)}for(var m=c(i),n=c(j),o=a(m).concat(a(n)),l=0;l<o.length;l++){var p=o[l],q=d(m,p),r=d(n,p);if(!e(q,r))return!1}return!0}}}().intersect,b={"hide-overlap":function(f){for(var a=f.slice(),b=0;b<a.length;b++){var d=a[b];if(d.visible)for(var e=b+1;e<a.length;e++){var c=a[e];d!==c&&c.visible&&h(d,c)&&(c.visible=!1)}}return a}};try{var a=JSON.parse(c.data);if(!a||!a.type||!b[a.type])return;var d=a.type,e=a.items,f=b[d](e);self.postMessage(f)}catch(g){throw g}}).toString(),"\n"),ru=function(f){for(var a=f.slice(),b=0;b<a.length;b++){var d=a[b];if(d.visible)for(var e=b+1;e<a.length;e++){var c=a[e];d!==c&&c.visible&&rt(d,c)&&(c.visible=!1)}}return a},rv=new Map,rw=function(b){var a;if("undefined"!=typeof window){try{a=new Blob([b.toString()],{type:"application/javascript"})}catch(c){(a=new window.BlobBuilder).append(b.toString()),a=a.getBlob()}return new Worker(URL.createObjectURL(a))}}(dz),rx={"#5B8FF9":!0},ry=function(c){var a=lj.toRGB(c).toUpperCase();if(rx[a])return rx[a];var b=fq(lj.rgb2arr(a),3),d=b[0],e=b[1],f=b[2];return(299*d+587*e+114*f)/1e3<128};function rz(a,b,c){return a.some(function(a){return c(a,b)})}function rA(a,b){return rz(a,b,function(f,g){var b,c,a,d,e,h=o5(f),i=o5(g);return b=h.getCanvasBBox(),c=i.getCanvasBBox(),a=2,d=Math.max(0,Math.min(b.x+b.width+a,c.x+c.width+a)-Math.max(b.x-a,c.x-a)),e=Math.max(0,Math.min(b.y+b.height+a,c.y+c.height+a)-Math.max(b.y-a,c.y-a)),d*e>0})}function rB(a,b,c){return a.some(function(a){return c(a,b)})}function rC(a,b){return rB(a,b,function(f,g){var b,c,a,d,e,h=o5(f),i=o5(g);return b=h.getCanvasBBox(),c=i.getCanvasBBox(),a=2,d=Math.max(0,Math.min(b.x+b.width+a,c.x+c.width+a)-Math.max(b.x-a,c.x-a)),e=Math.max(0,Math.min(b.y+b.height+a,c.y+c.height+a)-Math.max(b.y-a,c.y-a)),d*e>0})}var rD=J(function(b,a){void 0===a&&(a={});var d=a.fontSize,e=a.fontFamily,f=a.fontWeight,g=a.fontStyle,h=a.fontVariant,c=(fi||(fi=document.createElement("canvas").getContext("2d")),fi);return c.font=[g,h,f,"".concat(d,"px"),e].join(" "),c.measureText(fT(b)?b:"").width},function(b,a){return void 0===a&&(a={}),fs([b],fq(ge(a)),!1).join("")}),rE=function(b,h,f){var a,g,c,i=rD("...",f);a=fT(b)?b:gf(b);var d=h,e=[];if(rD(b,f)<=h)return b;for(;!((c=rD(g=a.substr(0,16),f))+i>d)||!(c>d);)if(e.push(g),d-=c,!(a=a.substr(16)))return e.join("");for(;!((c=rD(g=a.substr(0,1),f))+i>d);)if(e.push(g),d-=c,!(a=a.substr(1)))return e.join("");return"".concat(e.join(""),"...")};function rF(l,p,e,h,i){var f,g,c,m,j,k,n,a,b,d=e.start,o=e.end,q=e.getWidth(),r=e.getHeight();"y"===i?(f=d.x+q/2,g=h.y<d.y?h.y:d.y):"x"===i?(f=h.x>d.x?h.x:d.x,g=d.y+r/2):"xy"===i&&(e.isPolar?(f=e.getCenter().x,g=e.getCenter().y):(f=(d.x+o.x)/2,g=(d.y+o.y)/2));var s=(c=l,m=[f,g],j=i,a=(n=fq(m,2))[0],b=n[1],c.applyToMatrix([a,b,1]),"x"===j?(c.setMatrix(at(c.getMatrix(),[["t",-a,-b],["s",.01,1],["t",a,b],])),k=at(c.getMatrix(),[["t",-a,-b],["s",100,1],["t",a,b],])):"y"===j?(c.setMatrix(at(c.getMatrix(),[["t",-a,-b],["s",1,.01],["t",a,b],])),k=at(c.getMatrix(),[["t",-a,-b],["s",1,100],["t",a,b],])):"xy"===j&&(c.setMatrix(at(c.getMatrix(),[["t",-a,-b],["s",.01,.01],["t",a,b],])),k=at(c.getMatrix(),[["t",-a,-b],["s",100,100],["t",a,b],])),k);l.animate({matrix:s},p)}function rG(f,c){var d,e=pE(f,c),a=e.startAngle,b=e.endAngle;return!f6(a,-(.5*Math.PI))&&a< -(.5*Math.PI)&&(a+=2*Math.PI),!f6(b,-(.5*Math.PI))&&b< -(.5*Math.PI)&&(b+=2*Math.PI),0===c[5]&&(a=(d=fq([b,a],2))[0],b=d[1]),f6(a,1.5*Math.PI)&&(a=-0.5*Math.PI),f6(b,-0.5*Math.PI)&&!f6(a,b)&&(b=1.5*Math.PI),{startAngle:a,endAngle:b}}function rH(a){var b;return"M"===a[0]||"L"===a[0]?b=[a[1],a[2]]:("a"===a[0]||"A"===a[0]||"C"===a[0])&&(b=[a[a.length-2],a[a.length-1]]),b}function rI(c){var j,e,f,a=c.filter(function(a){return"A"===a[0]||"a"===a[0]});if(0===a.length)return{startAngle:0,endAngle:0,radius:0,innerRadius:0};var g=a[0],k=a.length>1?a[1]:a[0],p=c.indexOf(g),q=c.indexOf(k),r=rH(c[p-1]),s=rH(c[q-1]),l=rG(r,g),h=l.startAngle,i=l.endAngle,m=rG(s,k),n=m.startAngle,o=m.endAngle;f6(h,n)&&f6(i,o)?(e=h,f=i):(e=Math.min(h,n),f=Math.max(i,o));var d=g[1],b=a[a.length-1][1];return d<b?(d=(j=fq([b,d],2))[0],b=j[1]):d===b&&(b=0),{startAngle:e,endAngle:f,radius:d,innerRadius:b}}function rJ(a,e,f){if(a.isGroup())I(a.getChildren(),function(a){rJ(a,e,f)});else{var d=a.getBBox(),b=(d.minX+d.maxX)/2,c=(d.minY+d.maxY)/2;if(a.applyToMatrix([b,c,1]),"zoomIn"===f){var g=at(a.getMatrix(),[["t",-b,-c],["s",.01,.01],["t",b,c],]);a.setMatrix(g),a.animate({matrix:at(a.getMatrix(),[["t",-b,-c],["s",100,100],["t",b,c],])},e)}else a.animate({matrix:at(a.getMatrix(),[["t",-b,-c],["s",.01,.01],["t",b,c],])},n(n({},e),{callback:function(){a.remove(!0)}}))}}function rK(a){return[ib.TOP,ib.BOTTOM].includes(a)?{offsetX:0,offsetY:a===ib.TOP?-8:8,style:{textAlign:"center",textBaseline:a===ib.TOP?"bottom":"top"}}:[ib.LEFT,ib.RIGHT].includes(a)?{offsetX:a===ib.LEFT?-8:8,offsetY:0,style:{textAlign:a===ib.LEFT?"right":"left",textBaseline:"middle",rotate:Math.PI/2}}:{}}function rL(a,b,c){return{x:a.x+b*Math.cos(c),y:a.y+b*Math.sin(c)}}var dA=function(b){function a(){return null!==b&&b.apply(this,arguments)||this}return fl(a,b),a.prototype.getDefaultCfg=function(){return gs({},b.prototype.getDefaultCfg.call(this),{type:"circle",showTitle:!0,title:b.prototype.getDefaultTitleCfg.call(this)})},a.prototype.render=function(){b.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},a.prototype.getRegion=function(d,e){var b=2*Math.PI/d,a=.5/(1+1/Math.sin(b/2)),c=rL({x:.5,y:.5},.5-a,-1*Math.PI/2+b*e);return{start:rL(c,a,5*Math.PI/4),end:rL(c,a,1*Math.PI/4)}},a.prototype.afterEachView=function(a,b){this.processAxis(a,b)},a.prototype.beforeEachView=function(a,b){},a.prototype.generateFacets=function(d){var h=this,a=this.cfg,e=a.fields,i=a.type,f=fq(e,1),b=f[0];if(!b)throw Error("No `fields` specified!");var c=this.getFieldValues(d,b),j=c.length,g=[];return c.forEach(function(a,e){var f=fw(d,h.getFacetDataFilter([{field:b,value:a,values:c}])),k={type:i,data:f,region:h.getRegion(j,e),columnValue:a,columnField:b,columnIndex:e,columnValuesLength:j,rowValue:null,rowField:null,rowIndex:0,rowValuesLength:1};g.push(k)}),g},a.prototype.getXAxisOption=function(b,c,a,d){return a},a.prototype.getYAxisOption=function(b,c,a,d){return a},a.prototype.renderTitle=function(){var a=this;I(this.facets,function(b){var c=b.columnValue,e=b.view,d=gB(a.cfg.title,"formatter"),f=gs({position:["50%","0%"],content:d?d(c):c},rK(ib.TOP),a.cfg.title);e.annotation().text(f)})},a}(M),dB=function(b){function a(){return null!==b&&b.apply(this,arguments)||this}return fl(a,b),a.prototype.getDefaultCfg=function(){return gs({},b.prototype.getDefaultCfg.call(this),{type:"list",cols:null,showTitle:!0,title:b.prototype.getDefaultTitleCfg.call(this)})},a.prototype.render=function(){b.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},a.prototype.afterEachView=function(a,b){this.processAxis(a,b)},a.prototype.beforeEachView=function(a,b){},a.prototype.generateFacets=function(e){var h=this,f=this.cfg.fields,a=this.cfg.cols,b=fq(f,1)[0];if(!b)throw Error("No `fields` specified!");var c=this.getFieldValues(e,b),d=c.length;a=a||d;var i=this.getPageCount(d,a),g=[];return c.forEach(function(f,m){var j=h.getRowCol(m,a),k=j.row,l=j.col,n=fw(e,h.getFacetDataFilter([{field:b,value:f,values:c}])),o={type:h.cfg.type,data:n,region:h.getRegion(i,a,l,k),columnValue:f,rowValue:f,columnField:b,rowField:null,columnIndex:l,rowIndex:k,columnValuesLength:a,rowValuesLength:i,total:d};g.push(o)}),g},a.prototype.getXAxisOption=function(c,d,b,a){return a.rowIndex!==a.rowValuesLength-1&&a.columnValuesLength*a.rowIndex+a.columnIndex+1+a.columnValuesLength<=a.total?n(n({},b),{label:null,title:null}):b},a.prototype.getYAxisOption=function(c,d,a,b){return 0!==b.columnIndex?n(n({},a),{title:null,label:null}):a},a.prototype.renderTitle=function(){var a=this;I(this.facets,function(b){var c=b.columnValue,e=b.view,d=gB(a.cfg.title,"formatter"),f=gs({position:["50%","0%"],content:d?d(c):c},rK(ib.TOP),a.cfg.title);e.annotation().text(f)})},a.prototype.getPageCount=function(b,a){return Math.floor((b+a-1)/a)},a.prototype.getRowCol=function(a,b){return{row:Math.floor(a/b),col:a%b}},a}(M),dC=function(b){function a(){return null!==b&&b.apply(this,arguments)||this}return fl(a,b),a.prototype.getDefaultCfg=function(){return gs({},b.prototype.getDefaultCfg.call(this),{type:"matrix",showTitle:!1,columnTitle:n({},b.prototype.getDefaultTitleCfg.call(this)),rowTitle:n({},b.prototype.getDefaultTitleCfg.call(this))})},a.prototype.render=function(){b.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},a.prototype.afterEachView=function(a,b){this.processAxis(a,b)},a.prototype.beforeEachView=function(a,b){},a.prototype.generateFacets=function(j){for(var f=this.cfg,d=f.fields,k=f.type,c=d.length,e=c,g=[],a=0;a<e;a++)for(var h=d[a],b=0;b<c;b++){var i=d[b],l={type:k,data:j,region:this.getRegion(c,e,a,b),columnValue:h,rowValue:i,columnField:h,rowField:i,columnIndex:a,rowIndex:b,columnValuesLength:e,rowValuesLength:c};g.push(l)}return g},a.prototype.getXAxisOption=function(c,d,a,b){return b.rowIndex!==b.rowValuesLength-1?n(n({},a),{label:null,title:null}):a},a.prototype.getYAxisOption=function(c,d,a,b){return 0!==b.columnIndex?n(n({},a),{title:null,label:null}):a},a.prototype.renderTitle=function(){var a=this;I(this.facets,function(b,k){var h=b.columnIndex,i=b.rowIndex,j=b.columnValuesLength,e=(b.rowValuesLength,b.columnValue),f=b.rowValue,g=b.view;if(0===i){var c=gB(a.cfg.columnTitle,"formatter"),d=gs({position:["50%","0%"],content:c?c(e):e},rK(ib.TOP),a.cfg.columnTitle);g.annotation().text(d)}if(h===j-1){var c=gB(a.cfg.rowTitle,"formatter"),d=gs({position:["100%","50%"],content:c?c(f):f},rK(ib.RIGHT),a.cfg.rowTitle);g.annotation().text(d)}})},a}(M),dD=function(b){function a(){return null!==b&&b.apply(this,arguments)||this}return fl(a,b),a.prototype.getDefaultCfg=function(){return gs({},b.prototype.getDefaultCfg.call(this),{type:"mirror",showTitle:!0,title:b.prototype.getDefaultTitleCfg.call(this),transpose:!1})},a.prototype.render=function(){b.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},a.prototype.beforeEachView=function(a,b){this.cfg.transpose?b.columnIndex%2==0?a.coordinate().transpose().reflect("x"):a.coordinate().transpose():b.rowIndex%2!=0&&a.coordinate().reflect("y")},a.prototype.afterEachView=function(a,b){this.processAxis(a,b)},a.prototype.generateFacets=function(a){var b,c,j=this,d=fq(this.cfg.fields,1)[0],f=[],g=1,h=1,e=[""],i=[""];return this.cfg.transpose?(b=d,g=(e=this.getFieldValues(a,b).slice(0,2)).length):(c=d,h=(i=this.getFieldValues(a,c).slice(0,2)).length),e.forEach(function(d,k){i.forEach(function(l,m){var n=[{field:b,value:d,values:e},{field:c,value:l,values:i},],o=fw(a,j.getFacetDataFilter(n)),p={type:j.cfg.type,data:o,region:j.getRegion(h,g,k,m),columnValue:d,rowValue:l,columnField:b,rowField:c,columnIndex:k,rowIndex:m,columnValuesLength:g,rowValuesLength:h};f.push(p)})}),f},a.prototype.getXAxisOption=function(c,d,a,b){return 1===b.columnIndex||1===b.rowIndex?n(n({},a),{label:null,title:null}):a},a.prototype.getYAxisOption=function(b,c,a,d){return a},a.prototype.renderTitle=function(){var a=this;I(this.facets,function(c,h){var e=c.columnValue,f=c.rowValue,g=c.view,b=gB(a.cfg.title,"formatter");if(a.cfg.transpose){var d=gs({position:["50%","0%"],content:b?b(e):e},rK(ib.TOP),a.cfg.title);g.annotation().text(d)}else{var d=gs({position:["100%","50%"],content:b?b(f):f},rK(ib.RIGHT),a.cfg.title);g.annotation().text(d)}})},a}(M),dE=function(b){function a(){return null!==b&&b.apply(this,arguments)||this}return fl(a,b),a.prototype.afterEachView=function(a,b){this.processAxis(a,b)},a.prototype.beforeEachView=function(a,b){},a.prototype.getDefaultCfg=function(){return gs({},b.prototype.getDefaultCfg.call(this),{type:"rect",columnTitle:n({},b.prototype.getDefaultTitleCfg.call(this)),rowTitle:n({},b.prototype.getDefaultTitleCfg.call(this))})},a.prototype.render=function(){b.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},a.prototype.generateFacets=function(a){var j=this,b=fq(this.cfg.fields,2),c=b[0],d=b[1],f=[],g=1,h=1,e=[""],i=[""];return c&&(g=(e=this.getFieldValues(a,c)).length),d&&(h=(i=this.getFieldValues(a,d)).length),e.forEach(function(b,k){i.forEach(function(l,m){var n=[{field:c,value:b,values:e},{field:d,value:l,values:i},],o=fw(a,j.getFacetDataFilter(n)),p={type:j.cfg.type,data:o,region:j.getRegion(h,g,k,m),columnValue:b,rowValue:l,columnField:c,rowField:d,columnIndex:k,rowIndex:m,columnValuesLength:g,rowValuesLength:h};f.push(p)})}),f},a.prototype.renderTitle=function(){var a=this;I(this.facets,function(b,k){var h=b.columnIndex,i=b.rowIndex,j=b.columnValuesLength,e=b.columnValue,f=b.rowValue,g=b.view;if(0===i){var c=gB(a.cfg.columnTitle,"formatter"),d=gs({position:["50%","0%"],content:c?c(e):e},rK(ib.TOP),a.cfg.columnTitle);g.annotation().text(d)}if(h===j-1){var c=gB(a.cfg.rowTitle,"formatter"),d=gs({position:["100%","50%"],content:c?c(f):f},rK(ib.RIGHT),a.cfg.rowTitle);g.annotation().text(d)}})},a.prototype.getXAxisOption=function(c,d,b,a){return a.rowIndex!==a.rowValuesLength-1?n(n({},b),{title:null,label:null}):a.columnIndex!==Math.floor((a.columnValuesLength-1)/2)?n(n({},b),{title:null}):b},a.prototype.getYAxisOption=function(c,d,a,b){return 0!==b.columnIndex?n(n({},a),{title:null,label:null}):b.rowIndex!==Math.floor((b.rowValuesLength-1)/2)?n(n({},a),{title:null}):a},a}(M),dF=function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.afterChartRender=function(){a.facets&&a.cfg.line&&(a.container.clear(),a.drawLines(a.facets))},a}return fl(a,b),a.prototype.afterEachView=function(a,b){this.processAxis(a,b)},a.prototype.beforeEachView=function(a,b){},a.prototype.init=function(){b.prototype.init.call(this),this.view.on(id.AFTER_RENDER,this.afterChartRender)},a.prototype.getDefaultCfg=function(){return gs({},b.prototype.getDefaultCfg.call(this),{type:"tree",line:{style:{lineWidth:1,stroke:"#ddd"},smooth:!1},showTitle:!0,title:b.prototype.getDefaultTitleCfg.call(this)})},a.prototype.generateFacets=function(b){if(!this.cfg.fields.length)throw Error("Please specify for the fields for rootFacet!");var a=[],c={type:this.cfg.type,data:b,region:null,rowValuesLength:this.getRows(),columnValuesLength:1,rowIndex:0,columnIndex:0,rowField:"",columnField:"",rowValue:"",columnValue:""};return a.push(c),c.children=this.getChildFacets(b,1,a),this.setRegion(a),a},a.prototype.setRegion=function(a){var b=this;this.forceColIndex(a),a.forEach(function(a){a.region=b.getRegion(a.rowValuesLength,a.columnValuesLength,a.columnIndex,a.rowIndex)})},a.prototype.getRegion=function(d,e,f,g){var b=1/e,c=1/d,a={x:b*f,y:c*g},h={x:a.x+b,y:a.y+2*c/3};return{start:a,end:h}},a.prototype.forceColIndex=function(f){var c,g,l=this,h=[],m=0;f.forEach(function(a){l.isLeaf(a)&&(h.push(a),a.columnIndex=m,m++)}),h.forEach(function(a){a.columnValuesLength=h.length});for(var i=this.cfg.fields.length,e=i-1;e>=0;e--){var j=this.getFacetsByLevel(f,e);try{for(var d=(c=void 0,fp(j)),b=d.next();!b.done;b=d.next()){var a=b.value;this.isLeaf(a)||(a.originColIndex=a.columnIndex,a.columnIndex=this.getRegionIndex(a.children),a.columnValuesLength=h.length)}}catch(k){c={error:k}}finally{try{b&&!b.done&&(g=d.return)&&g.call(d)}finally{if(c)throw c.error}}}},a.prototype.getFacetsByLevel=function(a,c){var b=[];return a.forEach(function(a){a.rowIndex===c&&b.push(a)}),b},a.prototype.getRegionIndex=function(a){var b=a[0];return(a[a.length-1].columnIndex-b.columnIndex)/2+b.columnIndex},a.prototype.isLeaf=function(a){return!a.children||!a.children.length},a.prototype.getRows=function(){return this.cfg.fields.length+1},a.prototype.getChildFacets=function(c,a,g){var h=this,b=this.cfg.fields;if(!(b.length<a)){var d=[],e=b[a-1],f=this.getFieldValues(c,e);return f.forEach(function(i,k){var b=c.filter(h.getFacetDataFilter([{field:e,value:i,values:f}]));if(b.length){var j={type:h.cfg.type,data:b,region:null,columnValue:i,rowValue:"",columnField:e,rowField:"",columnIndex:k,rowValuesLength:h.getRows(),columnValuesLength:1,rowIndex:a,children:h.getChildFacets(b,a+1,g)};d.push(j),g.push(j)}}),d}},a.prototype.render=function(){b.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},a.prototype.renderTitle=function(){var a=this;I(this.facets,function(b){var c=b.columnValue,e=b.view,d=gB(a.cfg.title,"formatter"),f=gs({position:["50%","0%"],content:d?d(c):c},rK(ib.TOP),a.cfg.title);e.annotation().text(f)})},a.prototype.drawLines=function(a){var b=this;a.forEach(function(a){if(!b.isLeaf(a)){var c=a.children;b.addFacetLines(a,c)}})},a.prototype.addFacetLines=function(b,c){var d=this,a=b.view.coordinateBBox,e={x:a.x+a.width/2,y:a.y+a.height};c.forEach(function(f){var a=f.view.coordinateBBox,b={x:a.bl.x+(a.tr.x-a.bl.x)/2,y:a.tr.y},c={x:e.x,y:e.y+(b.y-e.y)/2},g={x:b.x,y:c.y};d.drawLine([e,c,g,b])})},a.prototype.getPath=function(a){var b=[];return this.cfg.line.smooth?(b.push(["M",a[0].x,a[0].y]),b.push(["C",a[1].x,a[1].y,a[2].x,a[2].y,a[3].x,a[3].y])):a.forEach(function(a,c){0===c?b.push(["M",a.x,a.y]):b.push(["L",a.x,a.y])}),b},a.prototype.drawLine=function(a){var b=this.getPath(a),c=this.cfg.line.style;this.container.addShape("path",{attrs:gA({path:b},c)})},a.prototype.getXAxisOption=function(c,d,a,b){return b.rowIndex!==b.rowValuesLength-1?n(n({},a),{title:null,label:null}):a},a.prototype.getYAxisOption=function(c,d,a,b){return 0!==b.originColIndex&&0!==b.columnIndex?n(n({},a),{title:null,label:null}):a},a}(M);function rM(c){var a=fs([],fq(c),!1);a.sort(function(a,b){return a-b});var b=a.length;return 0===b?0:b%2==1?a[(b-1)/2]:(a[b/2]+a[b/2-1])/2}function rN(c,a){var b,d,e;if(!a)return null;switch(c){case"start":return 0;case"center":return .5;case"end":return 1;case"median":b=a.isCategory?rM(a.values.map(function(b,a){return a})):rM(a.values);break;case"mean":b=a.isCategory?(a.values.length-1)/2:(e=fR(d=a.values,function(b,a){return b+(isNaN(a)||!f5(a)?0:a)},0),0===d.length?0:e/d.length);break;case"min":b=a.isCategory?0:a[c];break;case"max":b=a.isCategory?a.values.length-1:a[c];break;default:b=c}return a.scale(b)}var rO=["regionFilter","shape"],dG=function(b){function a(c){var a=b.call(this,c)||this;return a.cache=new Map,a.foregroundContainer=a.view.getLayer(ia.FORE).addGroup(),a.backgroundContainer=a.view.getLayer(ia.BG).addGroup(),a.option=[],a}return fl(a,b),Object.defineProperty(a.prototype,"name",{get:function(){return"annotation"},enumerable:!1,configurable:!0}),a.prototype.init=function(){},a.prototype.layout=function(){this.update()},a.prototype.render=function(){},a.prototype.update=function(){var b=this;this.onAfterRender(function(){var a=new Map;I(b.option,function(c){if(fv(rO,c.type)){var d=b.updateOrCreate(c);d&&a.set(b.getCacheKey(c),d)}}),b.cache=b.syncCache(a)});var a=new Map;I(this.option,function(c){if(!fv(rO,c.type)){var d=b.updateOrCreate(c);d&&a.set(b.getCacheKey(c),d)}}),this.cache=this.syncCache(a)},a.prototype.clear=function(a){void 0===a&&(a=!1),b.prototype.clear.call(this),this.clearComponents(),this.foregroundContainer.clear(),this.backgroundContainer.clear(),a&&(this.option=[])},a.prototype.destroy=function(){this.clear(!0),this.foregroundContainer.remove(!0),this.backgroundContainer.remove(!0)},a.prototype.getComponents=function(){var a=[];return this.cache.forEach(function(b){a.push(b)}),a},a.prototype.clearComponents=function(){this.getComponents().forEach(function(a){a.component.destroy()}),this.cache.clear()},a.prototype.onAfterRender=function(a){this.view.getOptions().animate?this.view.geometries.forEach(function(b){b.animateOption&&b.once(ie.AFTER_DRAW_ANIMATE,function(){a()})}):this.view.getRootView().once(id.AFTER_RENDER,function(){a()})},a.prototype.createAnnotation=function(a){var b=a.type,d=a$[gh(b)];if(d){var e=this.getAnnotationTheme(b),c=this.getAnnotationCfg(b,a,e);return c?{component:new d(c),layer:this.isTop(c)?ia.FORE:ia.BG,direction:ib.NONE,type:ic.ANNOTATION,extra:a}:null}},a.prototype.annotation=function(a){this.option.push(a)},a.prototype.arc=function(a){return this.annotation(n({type:"arc"},a)),this},a.prototype.image=function(a){return this.annotation(n({type:"image"},a)),this},a.prototype.line=function(a){return this.annotation(n({type:"line"},a)),this},a.prototype.region=function(a){return this.annotation(n({type:"region"},a)),this},a.prototype.text=function(a){return this.annotation(n({type:"text"},a)),this},a.prototype.dataMarker=function(a){return this.annotation(n({type:"dataMarker"},a)),this},a.prototype.dataRegion=function(a){this.annotation(n({type:"dataRegion"},a))},a.prototype.regionFilter=function(a){this.annotation(n({type:"regionFilter"},a))},a.prototype.shape=function(a){this.annotation(n({type:"shape"},a))},a.prototype.html=function(a){this.annotation(n({type:"html"},a))},a.prototype.parsePosition=function(j){var k,l,c=this.view.getXScale(),d=this.view.getScalesByDim("y"),a=fz(j)?j.call(null,c,d):j,e=0,f=0;if(fB(a)){var m=fq(a,2),g=m[0],o=m[1];if(fT(g)&& -1!==g.indexOf("%")&&!isNaN(g.slice(0,-1)))return this.parsePercentPosition(a);e=rN(g,c),f=rN(o,Object.values(d)[0])}else if(!fA(a))try{for(var h=fp(fD(a)),b=h.next();!b.done;b=h.next()){var i=b.value,n=a[i];i===c.field&&(e=rN(n,c)),d[i]&&(f=rN(n,d[i]))}}catch(p){k={error:p}}finally{try{b&&!b.done&&(l=h.return)&&l.call(h)}finally{if(k)throw k.error}}return isNaN(e)||isNaN(f)?null:this.view.getCoordinate().convert({x:e,y:f})},a.prototype.getRegionPoints=function(a,b){var g,h=this,d=this.view.getXScale(),i=Object.values(this.view.getScalesByDim("y"))[0],c=d.field,e=this.view.getData(),j=fB(a)?a[0]:a[c],k=fB(b)?b[0]:b[c],f=[];return I(e,function(a,b){if(a[c]===j&&(g=b),b>=g){var d=h.parsePosition([a[c],a[i.field]]);d&&f.push(d)}if(a[c]===k)return!1}),f},a.prototype.parsePercentPosition=function(b){var f=parseFloat(b[0])/100,g=parseFloat(b[1])/100,a=this.view.getCoordinate(),c=a.start,d=a.end,e={x:Math.min(c.x,d.x),y:Math.min(c.y,d.y)},h=a.getWidth()*f+e.x,i=a.getHeight()*g+e.y;return{x:h,y:i}},a.prototype.getCoordinateBBox=function(){var b=this.view.getCoordinate(),c=b.start,d=b.end,e=b.getWidth(),f=b.getHeight(),a={x:Math.min(c.x,d.x),y:Math.min(c.y,d.y)};return{x:a.x,y:a.y,minX:a.x,minY:a.y,maxX:a.x+e,maxY:a.y+f,width:e,height:f}},a.prototype.getAnnotationCfg=function(c,a,A){var U=this,k=this.view.getCoordinate(),B=this.view.getCanvas(),d={};if(fA(a))return null;var C=a.start,D=a.end,E=a.position,f=this.parsePosition(C),h=this.parsePosition(D),l=this.parsePosition(E);if(["arc","image","line","region","regionFilter"].includes(c)&&(!f||!h)||["text","dataMarker","html"].includes(c)&&!l)return null;if("arc"===c){var o=a,b=(o.start,o.end,fm(o,["start","end"])),x=nF(k,f),m=nF(k,h);x>m&&(m=2*Math.PI+m),d=n(n({},b),{center:k.getCenter(),radius:nE(k,f),startAngle:x,endAngle:m})}else if("image"===c){var p=a,b=(p.start,p.end,fm(p,["start","end"]));d=n(n({},b),{start:f,end:h,src:a.src})}else if("line"===c){var q=a,b=(q.start,q.end,fm(q,["start","end"]));d=n(n({},b),{start:f,end:h,text:gB(a,"text",null)})}else if("region"===c){var r=a,b=(r.start,r.end,fm(r,["start","end"]));d=n(n({},b),{start:f,end:h})}else if("text"===c){var F=this.view.getData(),s=a,t=(s.position,s.content),b=fm(s,["position","content"]),y=t;fz(t)&&(y=t(F)),d=n(n(n({},l),b),{content:y})}else if("dataMarker"===c){var g=a,G=(g.position,g.point),H=g.line,u=g.text,J=g.autoAdjust,K=g.direction,b=fm(g,["position","point","line","text","autoAdjust","direction"]);d=n(n(n({},b),l),{coordinateBBox:this.getCoordinateBBox(),point:G,line:H,text:u,autoAdjust:J,direction:K})}else if("dataRegion"===c){var i=a,L=i.start,M=i.end,N=i.region,u=i.text,O=i.lineLength,b=fm(i,["start","end","region","text","lineLength"]);d=n(n({},b),{points:this.getRegionPoints(L,M),region:N,text:u,lineLength:O})}else if("regionFilter"===c){var j=a,V=(j.start,j.end,j.apply),P=j.color,b=fm(j,["start","end","apply","color"]),Q=this.view.geometries,R=[],W=function(a){a&&(a.isGroup()?a.getChildren().forEach(function(a){return W(a)}):R.push(a))};I(Q,function(a){V?fv(V,a.type)&&I(a.elements,function(a){W(a.shape)}):I(a.elements,function(a){W(a.shape)})}),d=n(n({},b),{color:P,shapes:R,start:f,end:h})}else if("shape"===c){var z=a,X=z.render,v=fm(z,["render"]),S=function(b){if(fz(a.render))return X(b,U.view,{parsePosition:U.parsePosition.bind(U)})};d=n(n({},v),{render:S})}else if("html"===c){var w=a,Y=w.html,v=(w.position,fm(w,["html","position"])),T=function(a){return fz(Y)?Y(a,U.view):Y};d=n(n(n({},v),l),{parent:B.get("el").parentNode,html:T})}var e=gs({},A,n(n({},d),{top:a.top,style:a.style,offsetX:a.offsetX,offsetY:a.offsetY}));return"html"!==c&&(e.container=this.getComponentContainer(e)),e.animate=this.view.getOptions().animate&&e.animate&&gB(a,"animate",e.animate),e.animateOption=gs({},de,e.animateOption,a.animateOption),e},a.prototype.isTop=function(a){return gB(a,"top",!0)},a.prototype.getComponentContainer=function(a){return this.isTop(a)?this.foregroundContainer:this.backgroundContainer},a.prototype.getAnnotationTheme=function(a){return gB(this.view.getTheme(),["components","annotation",a],{})},a.prototype.updateOrCreate=function(b){var a=this.cache.get(this.getCacheKey(b));if(a){var d=b.type,e=this.getAnnotationTheme(d),c=this.getAnnotationCfg(d,b,e);c&&nA(c,["container"]),a.component.update(n(n({},c||{}),{visible:!!c})),fv(rO,b.type)&&a.component.render()}else(a=this.createAnnotation(b))&&(a.component.init(),fv(rO,b.type)&&a.component.render());return a},a.prototype.syncCache=function(b){var c=this,a=new Map(this.cache);return b.forEach(function(b,c){a.set(c,b)}),a.forEach(function(b,d){fH(c.option,function(a){return d===c.getCacheKey(a)})||(b.component.destroy(),a.delete(d))}),a},a.prototype.getCacheKey=function(a){return a},a}(O);function rP(a,b){var c=gs({},gB(a,["components","axis","common"]),gB(a,["components","axis",b]));return gB(c,["grid"],{})}function rQ(b,c,e,f){var d=[],a=c.getTicks();return b.isPolar&&a.push({value:1,text:"",tickValue:""}),a.reduce(function(h,g,i){var a=g.value;if(f)d.push({points:[b.convert("y"===e?{x:0,y:a}:{x:a,y:0}),b.convert("y"===e?{x:1,y:a}:{x:a,y:1}),]});else if(i){var c=(h.value+a)/2;d.push({points:[b.convert("y"===e?{x:0,y:c}:{x:c,y:0}),b.convert("y"===e?{x:1,y:c}:{x:c,y:1}),]})}return g},a[0]),d}function rR(e,b,c,f,g){var h=b.values.length,d=[],a=c.getTicks();return a.reduce(function(c,a){var j=c?c.value:a.value,b=a.value,i=(j+b)/2;return"x"===g?d.push({points:[e.convert({x:f?b:i,y:0}),e.convert({x:f?b:i,y:1}),]}):d.push({points:gx(Array(h+1),function(c,a){return e.convert({x:a/h,y:f?b:i})})}),a},a[0]),d}function rS(b,c){var a=gB(c,"grid");if(null===a)return!1;var d=gB(b,"grid");return!(void 0===a&&null===d)}var rT=["container"],rU=n(n({},de),{appear:null}),dH=function(b){function a(c){var a=b.call(this,c)||this;return a.cache=new Map,a.gridContainer=a.view.getLayer(ia.BG).addGroup(),a.gridForeContainer=a.view.getLayer(ia.FORE).addGroup(),a.axisContainer=a.view.getLayer(ia.BG).addGroup(),a.axisForeContainer=a.view.getLayer(ia.FORE).addGroup(),a}return fl(a,b),Object.defineProperty(a.prototype,"name",{get:function(){return"axis"},enumerable:!1,configurable:!0}),a.prototype.init=function(){},a.prototype.render=function(){this.update()},a.prototype.layout=function(){var a=this,b=this.view.getCoordinate();I(this.getComponents(),function(g){var d,k=g.component,h=g.direction,j=g.type,i=g.extra,c=i.dim,e=i.scale,f=i.alignTick;if(j===ic.AXIS)b.isPolar?"x"===c?d=b.isTransposed?nL(b,h):nQ(b):"y"===c&&(d=b.isTransposed?nQ(b):nL(b,h)):d=nL(b,h);else if(j===ic.GRID){if(b.isPolar){var l=void 0;d={items:b.isTransposed?"x"===c?rR(b,a.view.getYScales()[0],e,f,c):rQ(b,e,c,f):"x"===c?rQ(b,e,c,f):rR(b,a.view.getXScale(),e,f,c),center:a.view.getCoordinate().getCenter()}}else d={items:rQ(b,e,c,f)}}k.update(d)})},a.prototype.update=function(){this.option=this.view.getOptions().axes;var a=new Map;this.updateXAxes(a),this.updateYAxes(a);var b=new Map;this.cache.forEach(function(c,d){a.has(d)?b.set(d,c):c.component.destroy()}),this.cache=b},a.prototype.clear=function(){b.prototype.clear.call(this),this.cache.clear(),this.gridContainer.clear(),this.gridForeContainer.clear(),this.axisContainer.clear(),this.axisForeContainer.clear()},a.prototype.destroy=function(){b.prototype.destroy.call(this),this.gridContainer.remove(!0),this.gridForeContainer.remove(!0),this.axisContainer.remove(!0),this.axisForeContainer.remove(!0)},a.prototype.getComponents=function(){var a=[];return this.cache.forEach(function(b){a.push(b)}),a},a.prototype.updateXAxes=function(f){var a=this.view.getXScale();if(a&&!a.isIdentity){var b=nR(this.option,a.field);if(!1!==b){var i=nS(b,ib.BOTTOM),j=ia.BG,k=this.view.getCoordinate(),g=this.getId("axis",a.field),h=this.getId("grid",a.field);if(k.isRect){var d=this.cache.get(g);if(d){var e=this.getLineAxisCfg(a,b,i);nA(e,rT),d.component.update(e),f.set(g,d)}else d=this.createLineAxis(a,b,j,i,"x"),this.cache.set(g,d),f.set(g,d);var c=this.cache.get(h);if(c){var e=this.getLineGridCfg(a,b,i,"x");nA(e,rT),c.component.update(e),f.set(h,c)}else(c=this.createLineGrid(a,b,j,i,"x"))&&(this.cache.set(h,c),f.set(h,c))}else if(k.isPolar){var d=this.cache.get(g);if(d){var e=k.isTransposed?this.getLineAxisCfg(a,b,ib.RADIUS):this.getCircleAxisCfg(a,b,i);nA(e,rT),d.component.update(e),f.set(g,d)}else{if(k.isTransposed){if(gn(b))return;d=this.createLineAxis(a,b,j,ib.RADIUS,"x")}else d=this.createCircleAxis(a,b,j,i,"x");this.cache.set(g,d),f.set(g,d)}var c=this.cache.get(h);if(c){var e=k.isTransposed?this.getCircleGridCfg(a,b,ib.RADIUS,"x"):this.getLineGridCfg(a,b,ib.CIRCLE,"x");nA(e,rT),c.component.update(e),f.set(h,c)}else{if(k.isTransposed){if(gn(b))return;c=this.createCircleGrid(a,b,j,ib.RADIUS,"x")}else c=this.createLineGrid(a,b,j,ib.CIRCLE,"x");c&&(this.cache.set(h,c),f.set(h,c))}}}}},a.prototype.updateYAxes=function(a){var b=this;I(this.view.getYScales(),function(d,o){if(d&&!d.isIdentity){var n=d.field,c=nR(b.option,n);if(!1!==c){var k=ia.BG,h="y",i=b.getId("axis",n),j=b.getId("grid",n),l=b.view.getCoordinate();if(l.isRect){var m=nS(c,0===o?ib.LEFT:ib.RIGHT),f=b.cache.get(i);if(f){var g=b.getLineAxisCfg(d,c,m);nA(g,rT),f.component.update(g),a.set(i,f)}else f=b.createLineAxis(d,c,k,m,h),b.cache.set(i,f),a.set(i,f);var e=b.cache.get(j);if(e){var g=b.getLineGridCfg(d,c,m,h);nA(g,rT),e.component.update(g),a.set(j,e)}else(e=b.createLineGrid(d,c,k,m,h))&&(b.cache.set(j,e),a.set(j,e))}else if(l.isPolar){var f=b.cache.get(i);if(f){var g=l.isTransposed?b.getCircleAxisCfg(d,c,ib.CIRCLE):b.getLineAxisCfg(d,c,ib.RADIUS);nA(g,rT),f.component.update(g),a.set(i,f)}else{if(l.isTransposed){if(gn(c))return;f=b.createCircleAxis(d,c,k,ib.CIRCLE,h)}else f=b.createLineAxis(d,c,k,ib.RADIUS,h);b.cache.set(i,f),a.set(i,f)}var e=b.cache.get(j);if(e){var g=l.isTransposed?b.getLineGridCfg(d,c,ib.CIRCLE,h):b.getCircleGridCfg(d,c,ib.RADIUS,h);nA(g,rT),e.component.update(g),a.set(j,e)}else{if(l.isTransposed){if(gn(c))return;e=b.createLineGrid(d,c,k,ib.CIRCLE,h)}else e=b.createCircleGrid(d,c,k,ib.RADIUS,h);e&&(b.cache.set(j,e),a.set(j,e))}}}}})},a.prototype.createLineAxis=function(a,d,e,b,f){var c={component:new no(this.getLineAxisCfg(a,d,b)),layer:e,direction:b===ib.RADIUS?ib.NONE:b,type:ic.AXIS,extra:{dim:f,scale:a}};return c.component.set("field",a.field),c.component.init(),c},a.prototype.createLineGrid=function(b,e,f,g,c){var a=this.getLineGridCfg(b,e,g,c);if(a){var d={component:new nq(a),layer:f,direction:ib.NONE,type:ic.GRID,extra:{dim:c,scale:b,alignTick:gB(a,"alignTick",!0)}};return d.component.init(),d}},a.prototype.createCircleAxis=function(a,d,e,c,f){var b={component:new np(this.getCircleAxisCfg(a,d,c)),layer:e,direction:c,type:ic.AXIS,extra:{dim:f,scale:a}};return b.component.set("field",a.field),b.component.init(),b},a.prototype.createCircleGrid=function(b,e,f,g,c){var a=this.getCircleGridCfg(b,e,g,c);if(a){var d={component:new nr(a),layer:f,direction:ib.NONE,type:ic.GRID,extra:{dim:c,scale:b,alignTick:gB(a,"alignTick",!0)}};return d.component.init(),d}},a.prototype.getLineAxisCfg=function(f,a,e){var k=gB(a,["top"])?this.axisForeContainer:this.axisContainer,c=this.view.getCoordinate(),d=nL(c,e),l=nT(f,a),g=nO(this.view.getTheme(),e),m=gB(a,["title"])?gs({title:{style:{text:l}}},{title:nP(this.view.getTheme(),e,a.title)},a):a,b=gs(n(n({container:k},d),{ticks:f.getTicks().map(function(a){return{id:"".concat(a.tickValue),name:a.text,value:a.value}}),verticalFactor:c.isPolar?-1*nN(d,c.getCenter()):nN(d,c.getCenter()),theme:g}),g,m),h=this.getAnimateCfg(b),o=h.animate,p=h.animateOption;b.animateOption=p,b.animate=o;var i=nM(d),j=gB(b,"verticalLimitLength",i?1/3:.5);if(j<=1){var q=this.view.getCanvas().get("width"),r=this.view.getCanvas().get("height");b.verticalLimitLength=j*(i?q:r)}return b},a.prototype.getLineGridCfg=function(d,a,c,e){if(rS(nO(this.view.getTheme(),c),a)){var f=rP(this.view.getTheme(),c),b=gs({container:gB(a,["top"])?this.gridForeContainer:this.gridContainer},f,gB(a,"grid"),this.getAnimateCfg(a));return b.items=rQ(this.view.getCoordinate(),d,e,gB(b,"alignTick",!0)),b}},a.prototype.getCircleAxisCfg=function(c,a,h){var i=gB(a,["top"])?this.axisForeContainer:this.axisContainer,d=this.view.getCoordinate(),e=c.getTicks().map(function(a){return{id:"".concat(a.tickValue),name:a.text,value:a.value}});c.isCategory||Math.abs(d.endAngle-d.startAngle)!==2*Math.PI||e.pop();var j=nT(c,a),f=nO(this.view.getTheme(),ib.CIRCLE),k=gB(a,["title"])?gs({title:{style:{text:j}}},{title:nP(this.view.getTheme(),h,a.title)},a):a,b=gs(n(n({container:i},nQ(this.view.getCoordinate())),{ticks:e,verticalFactor:1,theme:f}),f,k),g=this.getAnimateCfg(b),l=g.animate,m=g.animateOption;return b.animate=l,b.animateOption=m,b},a.prototype.getCircleGridCfg=function(d,a,e,c){if(rS(nO(this.view.getTheme(),e),a)){var f=rP(this.view.getTheme(),ib.RADIUS),b=gs({container:gB(a,["top"])?this.gridForeContainer:this.gridContainer,center:this.view.getCoordinate().getCenter()},f,gB(a,"grid"),this.getAnimateCfg(a)),g=gB(b,"alignTick",!0),h="x"===c?this.view.getYScales()[0]:this.view.getXScale();return b.items=rR(this.view.getCoordinate(),h,d,g,c),b}},a.prototype.getId=function(a,b){var c=this.view.getCoordinate();return"".concat(a,"-").concat(b,"-").concat(c.type)},a.prototype.getAnimateCfg=function(a){return{animate:this.view.getOptions().animate&&gB(a,"animate"),animateOption:a&&a.animateOption?gs({},rU,a.animateOption):rU}},a}(O);function rV(a,c,b){return b===ib.TOP?[a.minX+a.width/2-c.width/2,a.minY]:b===ib.BOTTOM?[a.minX+a.width/2-c.width/2,a.maxY-c.height]:b===ib.LEFT?[a.minX,a.minY+a.height/2-c.height/2]:b===ib.RIGHT?[a.maxX-c.width,a.minY+a.height/2-c.height/2]:b===ib.TOP_LEFT||b===ib.LEFT_TOP?[a.tl.x,a.tl.y]:b===ib.TOP_RIGHT||b===ib.RIGHT_TOP?[a.tr.x-c.width,a.tr.y]:b===ib.BOTTOM_LEFT||b===ib.LEFT_BOTTOM?[a.bl.x,a.bl.y-c.height]:b===ib.BOTTOM_RIGHT||b===ib.RIGHT_BOTTOM?[a.br.x-c.width,a.br.y-c.height]:[0,0]}function rW(a,b){return gj(a)?!1!==a&&{}:gB(a,[b],a)}function rX(a){return gB(a,"position",ib.BOTTOM)}var dI=function(b){function a(c){var a=b.call(this,c)||this;return a.container=a.view.getLayer(ia.FORE).addGroup(),a}return fl(a,b),Object.defineProperty(a.prototype,"name",{get:function(){return"legend"},enumerable:!1,configurable:!0}),a.prototype.init=function(){},a.prototype.render=function(){this.update()},a.prototype.layout=function(){var a=this;this.layoutBBox=this.view.viewBBox,I(this.components,function(i){var b=i.component,c=i.direction,m=pe(c),n=b.get("maxWidthRatio"),o=b.get("maxHeightRatio"),j=a.getCategoryLegendSizeCfg(m,n,o),p=b.get("maxWidth"),q=b.get("maxHeight");b.update({maxWidth:Math.min(j.maxWidth,p||0),maxHeight:Math.min(j.maxHeight,q||0)});var e=b.get("padding"),d=b.getLayoutBBox(),f=new nC(d.x,d.y,d.width,d.height).expand(e),k=fq(rV(a.view.viewBBox,f,c),2),r=k[0],s=k[1],l=fq(rV(a.layoutBBox,f,c),2),t=l[0],u=l[1],g=0,h=0;c.startsWith("top")||c.startsWith("bottom")?(g=r,h=u):(g=t,h=s),b.setLocation({x:g+e[3],y:h+e[0]}),a.layoutBBox=a.layoutBBox.cut(f,c)})},a.prototype.update=function(){var i=this;this.option=this.view.getOptions().legends;var c={};if(gB(this.option,"custom")){var a="global-custom",d=this.getComponentById(a);if(d){var e=this.getCategoryCfg(void 0,void 0,void 0,this.option,!0);nA(e,["container"]),d.component.update(e),c[a]=!0}else{var b=this.createCustomLegend(void 0,void 0,void 0,this.option);if(b){b.init();var f=ia.FORE,g=rX(this.option);this.components.push({id:a,component:b,layer:f,direction:g,type:ic.LEGEND,extra:void 0}),c[a]=!0}}}else this.loopLegends(function(e,f,a){var g=i.getId(a.field),h=i.getComponentById(g);if(h){var b=void 0,d=rW(i.option,a.field);!1!==d&&(gB(d,"custom")?b=i.getCategoryCfg(e,f,a,d,!0):a.isLinear?b=i.getContinuousCfg(e,f,a,d):a.isCategory&&(b=i.getCategoryCfg(e,f,a,d))),b&&(nA(b,["container"]),h.direction=rX(d),h.component.update(b),c[g]=!0)}else{var j=i.createFieldLegend(e,f,a);j&&(j.component.init(),i.components.push(j),c[g]=!0)}});var h=[];I(this.getComponents(),function(a){c[a.id]?h.push(a):a.component.destroy()}),this.components=h},a.prototype.clear=function(){b.prototype.clear.call(this),this.container.clear()},a.prototype.destroy=function(){b.prototype.destroy.call(this),this.container.remove(!0)},a.prototype.getGeometries=function(a){var c=this,b=a.geometries;return I(a.views,function(a){b=b.concat(c.getGeometries(a))}),b},a.prototype.loopLegends=function(b){if(this.view.getRootView()===this.view){var a=this.getGeometries(this.view),c={};I(a,function(a){I(a.getGroupAttributes(),function(e){var d=e.getScale(e.type);d&&"identity"!==d.type&&!c[d.field]&&(b(a,e,d),c[d.field]=!0)})})}},a.prototype.createFieldLegend=function(d,e,a){var b,c=rW(this.option,a.field),f=ia.FORE,g=rX(c);if(!1!==c&&(gB(c,"custom")?b=this.createCustomLegend(d,e,a,c):a.isLinear?b=this.createContinuousLegend(d,e,a,c):a.isCategory&&(b=this.createCategoryLegend(d,e,a,c))),b)return b.set("field",a.field),{id:this.getId(a.field),component:b,layer:f,direction:g,type:ic.LEGEND,extra:{scale:a}}},a.prototype.createCustomLegend=function(a,b,c,d){var e=this.getCategoryCfg(a,b,c,d,!0);return new ns(e)},a.prototype.createContinuousLegend=function(a,b,c,d){var e=this.getContinuousCfg(a,b,c,nA(d,["value"]));return new nt(e)},a.prototype.createCategoryLegend=function(a,b,c,d){var e=this.getCategoryCfg(a,b,c,d);return new ns(e)},a.prototype.getContinuousCfg=function(m,a,b,f){var g=b.getTicks(),h=fH(g,function(a){return 0===a.value}),i=fH(g,function(a){return 1===a.value}),d=g.map(function(c){var d=c.value,f=c.tickValue,e=a.mapping(b.invert(d)).join("");return{value:f,attrValue:e,color:e,scaleValue:d}});h||d.push({value:b.min,attrValue:a.mapping(b.invert(0)).join(""),color:a.mapping(b.invert(0)).join(""),scaleValue:0}),i||d.push({value:b.max,attrValue:a.mapping(b.invert(1)).join(""),color:a.mapping(b.invert(1)).join(""),scaleValue:1}),d.sort(function(a,b){return a.value-b.value});var c={min:fX(d).value,max:fY(d).value,colors:[],rail:{type:a.type},track:{}};"size"===a.type&&(c.track={style:{fill:"size"===a.type?this.view.getTheme().defaultColor:void 0}}),"color"===a.type&&(c.colors=d.map(function(a){return a.attrValue}));var j=this.container,k=rX(f),l=pe(k),e=gB(f,"title");return e&&(e=gs({text:nJ(b)},e)),c.container=j,c.layout=l,c.title=e,c.animateOption=de,this.mergeLegendCfg(c,f,"continuous")},a.prototype.getCategoryCfg=function(l,m,g,a,n){var o,p,q,r=this.container,e=gB(a,"position",ib.BOTTOM),h=pf(this.view.getTheme(),e),i=gB(h,["marker"]),j=gB(a,"marker"),k=pe(e),s=gB(h,["pageNavigator"]),t=gB(a,"pageNavigator"),u=n?(o=i,p=j,(q=a.items).map(function(a,c){var b=p;fz(b)&&(b=b(a.name,c,gs({},o,a)));var e=fz(a.marker)?a.marker(a.name,c,gs({},o,a)):a.marker,d=gs({},o,b,e);return pd(d),a.marker=d,a})):dj(this.view,l,m,i,j),d=gB(a,"title");d&&(d=gs({text:g?nJ(g):""},d));var v=gB(a,"maxWidthRatio"),w=gB(a,"maxHeightRatio"),b=this.getCategoryLegendSizeCfg(k,v,w);b.container=r,b.layout=k,b.items=u,b.title=d,b.animateOption=de,b.pageNavigator=gs({},s,t);var c=this.mergeLegendCfg(b,a,e);c.reversed&&c.items.reverse();var f=gB(c,"maxItemWidth");return f&&f<=1&&(c.maxItemWidth=this.view.viewBBox.width*f),c},a.prototype.mergeLegendCfg=function(a,b,c){var d=c.split("-")[0],e=pf(this.view.getTheme(),d);return gs({},e,a,b)},a.prototype.getId=function(a){return"".concat(this.name,"-").concat(a)},a.prototype.getComponentById=function(a){return fH(this.components,function(b){return b.id===a})},a.prototype.getCategoryLegendSizeCfg=function(f,a,b){void 0===a&&(a=.25),void 0===b&&(b=.25);var c=this.view.viewBBox,d=c.width,e=c.height;return"vertical"===f?{maxWidth:d*a,maxHeight:e}:{maxWidth:d,maxHeight:e*b}},a}(O),dJ=function(b){function a(c){var a=b.call(this,c)||this;return a.onChangeFn=gJ,a.resetMeasure=function(){a.clear()},a.onValueChange=function(e){var b=fq(e,2),c=b[0],d=b[1];a.start=c,a.end=d,a.changeViewData(c,d)},a.container=a.view.getLayer(ia.FORE).addGroup(),a.onChangeFn=gG(a.onValueChange,20,{leading:!0}),a.width=0,a.view.on(id.BEFORE_CHANGE_DATA,a.resetMeasure),a.view.on(id.BEFORE_CHANGE_SIZE,a.resetMeasure),a}return fl(a,b),Object.defineProperty(a.prototype,"name",{get:function(){return"slider"},enumerable:!1,configurable:!0}),a.prototype.destroy=function(){b.prototype.destroy.call(this),this.view.off(id.BEFORE_CHANGE_DATA,this.resetMeasure),this.view.off(id.BEFORE_CHANGE_SIZE,this.resetMeasure)},a.prototype.init=function(){},a.prototype.render=function(){this.option=this.view.getOptions().slider;var a=this.getSliderCfg(),b=a.start,c=a.end;fA(this.start)&&(this.start=b,this.end=c);var d=this.view.getOptions().data;this.option&&!gv(d)?this.slider?this.slider=this.updateSlider():(this.slider=this.createSlider(),this.slider.component.on("sliderchange",this.onChangeFn)):this.slider&&(this.slider.component.destroy(),this.slider=void 0)},a.prototype.layout=function(){var p=this;if(this.option&&!this.width&&(this.measureSlider(),setTimeout(function(){p.view.destroyed||p.changeViewData(p.start,p.end)},0)),this.slider){var h=this.view.coordinateBBox.width,d=this.slider.component.get("padding"),a=fq(d,4),i=a[0],j=(a[1],a[2],a[3]),b=this.slider.component.getLayoutBBox(),c=new nC(b.x,b.y,Math.min(b.width,h),b.height).expand(d),e=this.getMinMaxText(this.start,this.end),k=e.minText,l=e.maxText,f=fq(rV(this.view.viewBBox,c,ib.BOTTOM),2),m=(f[0],f[1]),g=fq(rV(this.view.coordinateBBox,c,ib.BOTTOM),2),o=g[0];g[1],this.slider.component.update(n(n({},this.getSliderCfg()),{x:o+j,y:m+i,width:this.width,start:this.start,end:this.end,minText:k,maxText:l})),this.view.viewBBox=this.view.viewBBox.cut(c,ib.BOTTOM)}},a.prototype.update=function(){this.render()},a.prototype.createSlider=function(){var b=this.getSliderCfg(),a=new nk(n({container:this.container},b));return a.init(),{component:a,layer:ia.FORE,direction:ib.BOTTOM,type:ic.SLIDER}},a.prototype.updateSlider=function(){var a=this.getSliderCfg();if(this.width){var b=this.getMinMaxText(this.start,this.end),c=b.minText,d=b.maxText;a=n(n({},a),{width:this.width,start:this.start,end:this.end,minText:c,maxText:d})}return this.slider.component.update(a),this.slider},a.prototype.measureSlider=function(){var a=this.getSliderCfg().width;this.width=a},a.prototype.getSliderCfg=function(){var a={height:16,start:0,end:1,minText:"",maxText:"",x:0,y:0,width:this.view.coordinateBBox.width};if(fC(this.option)){var b=n({data:this.getData()},gB(this.option,"trendCfg",{}));a=gs({},a,this.getThemeOptions(),this.option),a=n(n({},a),{trendCfg:b})}return a.start=f3(Math.min(fA(a.start)?0:a.start,fA(a.end)?1:a.end),0,1),a.end=f3(Math.max(fA(a.start)?0:a.start,fA(a.end)?1:a.end),0,1),a},a.prototype.getData=function(){var a=this.view.getOptions().data,d=fq(this.view.getYScales(),1)[0],b=this.view.getGroupScales();if(b.length){var c=b[0],e=c.field,f=c.ticks;return a.reduce(function(a,b){return b[e]===f[0]&&a.push(b[d.field]),a},[])}return a.map(function(a){return a[d.field]||0})},a.prototype.getThemeOptions=function(){return gB(this.view.getTheme(),["components","slider","common"],{})},a.prototype.getMinMaxText=function(k,l){var a=this.view.getOptions().data,b=this.view.getXScale(),c=fW(a,b.field);b.isLinear&&(c=c.sort());var d=c,m=gK(a);if(!b||!m)return{};var j=gK(d),e=Math.round(k*(j-1)),f=Math.round(l*(j-1)),g=gB(d,[e]),h=gB(d,[f]),i=this.getSliderCfg().formatter;return i&&(g=i(g,a[e],e),h=i(h,a[f],f)),{minText:g,maxText:h}},a.prototype.changeViewData=function(e,f){var b=this.view.getOptions().data,a=this.view.getXScale(),g=gK(b);if(a&&g){var i,c=fW(b,a.field),h=this.view.getXScale().isLinear?c.sort(function(a,b){return Number(a)-Number(b)}):c,d=gK(h),j=Math.round(e*(d-1)),k=Math.round(f*(d-1));this.view.filter(a.field,function(b,c){var a=h.indexOf(b);return!(a> -1)||nz(a,j,k)}),this.view.render(!0)}},a.prototype.getComponents=function(){return this.slider?[this.slider]:[]},a.prototype.clear=function(){this.slider&&(this.slider.component.destroy(),this.slider=void 0),this.width=0,this.start=void 0,this.end=void 0},a}(O),dK=function(b){function a(c){var a=b.call(this,c)||this;return a.onChangeFn=gJ,a.resetMeasure=function(){a.clear()},a.onValueChange=function(b){var c=b.ratio,d=a.getValidScrollbarCfg().animate;a.ratio=f3(c,0,1);var e=a.view.getOptions().animate;d||a.view.animate(!1),a.changeViewData(a.getScrollRange(),!0),a.view.animate(e)},a.container=a.view.getLayer(ia.FORE).addGroup(),a.onChangeFn=gG(a.onValueChange,20,{leading:!0}),a.trackLen=0,a.thumbLen=0,a.ratio=0,a.view.on(id.BEFORE_CHANGE_DATA,a.resetMeasure),a.view.on(id.BEFORE_CHANGE_SIZE,a.resetMeasure),a}return fl(a,b),Object.defineProperty(a.prototype,"name",{get:function(){return"scrollbar"},enumerable:!1,configurable:!0}),a.prototype.destroy=function(){b.prototype.destroy.call(this),this.view.off(id.BEFORE_CHANGE_DATA,this.resetMeasure),this.view.off(id.BEFORE_CHANGE_SIZE,this.resetMeasure)},a.prototype.init=function(){},a.prototype.render=function(){this.option=this.view.getOptions().scrollbar,this.option?this.scrollbar?this.scrollbar=this.updateScrollbar():(this.scrollbar=this.createScrollbar(),this.scrollbar.component.on("scrollchange",this.onChangeFn)):this.scrollbar&&(this.scrollbar.component.destroy(),this.scrollbar=void 0)},a.prototype.layout=function(){var o=this;if(this.option&&!this.trackLen&&(this.measureScrollbar(),setTimeout(function(){o.view.destroyed||o.changeViewData(o.getScrollRange(),!0)})),this.scrollbar){var m=this.view.coordinateBBox.width,f=this.scrollbar.component.get("padding"),d=this.scrollbar.component.getLayoutBBox(),a=new nC(d.x,d.y,Math.min(d.width,m),d.height).expand(f),e=this.getScrollbarComponentCfg(),b=void 0,c=void 0;if(e.isHorizontal){var i=fq(rV(this.view.viewBBox,a,ib.BOTTOM),2),g=(i[0],i[1]),j=fq(rV(this.view.coordinateBBox,a,ib.BOTTOM),2),h=j[0];j[1],b=h,c=g}else{var k=fq(rV(this.view.viewBBox,a,ib.RIGHT),2),g=(k[0],k[1]),l=fq(rV(this.view.viewBBox,a,ib.RIGHT),2),h=l[0];l[1],b=h,c=g}b+=f[3],c+=f[0],this.trackLen?this.scrollbar.component.update(n(n({},e),{x:b,y:c,trackLen:this.trackLen,thumbLen:this.thumbLen,thumbOffset:(this.trackLen-this.thumbLen)*this.ratio})):this.scrollbar.component.update(n(n({},e),{x:b,y:c})),this.view.viewBBox=this.view.viewBBox.cut(a,e.isHorizontal?ib.BOTTOM:ib.RIGHT)}},a.prototype.update=function(){this.render()},a.prototype.getComponents=function(){return this.scrollbar?[this.scrollbar]:[]},a.prototype.clear=function(){this.scrollbar&&(this.scrollbar.component.destroy(),this.scrollbar=void 0),this.trackLen=0,this.thumbLen=0,this.ratio=0,this.cnt=0,this.step=0,this.data=void 0,this.xScaleCfg=void 0,this.yScalesCfg=[]},a.prototype.setValue=function(a){this.onValueChange({ratio:a})},a.prototype.getValue=function(){return this.ratio},a.prototype.getThemeOptions=function(){return gB(this.view.getTheme(),["components","scrollbar","common"],{})},a.prototype.getScrollbarTheme=function(c){var a=gB(this.view.getTheme(),["components","scrollbar"]),b=c||{},d=b.thumbHighlightColor,e=fm(b,["thumbHighlightColor"]);return{default:gs({},gB(a,["default","style"],{}),e),hover:gs({},gB(a,["hover","style"],{}),{thumbColor:d})}},a.prototype.measureScrollbar=function(){var a=this.view.getXScale(),c=this.view.getYScales().slice();this.data=this.getScrollbarData(),this.step=this.getStep(),this.cnt=this.getCnt();var b=this.getScrollbarComponentCfg(),d=b.trackLen,e=b.thumbLen;this.trackLen=d,this.thumbLen=e,this.xScaleCfg={field:a.field,values:a.values||[]},this.yScalesCfg=c},a.prototype.getScrollRange=function(){var a=Math.floor((this.cnt-this.step)*f3(this.ratio,0,1)),b=Math.min(a+this.step-1,this.cnt-1);return[a,b]},a.prototype.changeViewData=function(d,f){var g=this,a=fq(d,2),h=a[0],i=a[1],e=this.getValidScrollbarCfg().type,b=fW(this.data,this.xScaleCfg.field),c=this.view.getXScale().isLinear?b.sort(function(a,b){return Number(a)-Number(b)}):b,j="vertical"!==e?c:c.reverse();this.yScalesCfg.forEach(function(a){g.view.scale(a.field,{formatter:a.formatter,type:a.type,min:a.min,max:a.max,tickMethod:a.tickMethod})}),this.view.filter(this.xScaleCfg.field,function(b){var a=j.indexOf(b);return!(a> -1)||nz(a,h,i)}),this.view.render(!0)},a.prototype.createScrollbar=function(){var b=this.getValidScrollbarCfg().type,a=new nn(n(n({container:this.container},this.getScrollbarComponentCfg()),{x:0,y:0}));return a.init(),{component:a,layer:ia.FORE,direction:"vertical"!==b?ib.BOTTOM:ib.RIGHT,type:ic.SCROLLBAR}},a.prototype.updateScrollbar=function(){var a=this.getScrollbarComponentCfg(),b=this.trackLen?n(n({},a),{trackLen:this.trackLen,thumbLen:this.thumbLen,thumbOffset:(this.trackLen-this.thumbLen)*this.ratio}):n({},a);return this.scrollbar.component.update(b),this.scrollbar},a.prototype.getStep=function(){if(this.step)return this.step;var a=this.view.coordinateBBox,b=this.getValidScrollbarCfg(),c=b.type,d=b.categorySize;return Math.floor(("vertical"!==c?a.width:a.height)/d)},a.prototype.getCnt=function(){if(this.cnt)return this.cnt;var a=this.view.getXScale(),b=fW(this.getScrollbarData(),a.field);return gK(b)},a.prototype.getScrollbarComponentCfg=function(){var e=this.view,b=e.coordinateBBox,f=e.viewBBox,a=this.getValidScrollbarCfg(),p=a.type,q=a.padding,g=a.width,h=a.height,r=a.style,c="vertical"!==p,d=fq(q,4),i=d[0],j=d[1],k=d[2],l=d[3],m=c?{x:b.minX+l,y:f.maxY-h-k}:{x:f.maxX-g-j,y:b.minY+i},s=this.getStep(),t=this.getCnt(),o=c?b.width-l-j:b.height-i-k,u=Math.max(o*f3(s/t,0,1),20);return n(n({},this.getThemeOptions()),{x:m.x,y:m.y,size:c?h:g,isHorizontal:c,trackLen:o,thumbLen:u,thumbOffset:0,theme:this.getScrollbarTheme(r)})},a.prototype.getValidScrollbarCfg=function(){var a={type:"horizontal",categorySize:32,width:8,height:8,padding:[0,0,0,0],animate:!0,style:{}};return fC(this.option)&&(a=n(n({},a),this.option)),fC(this.option)&&this.option.padding||(a.padding=(a.type,[0,0,0,0])),a},a.prototype.getScrollbarData=function(){var b=this.view.getCoordinate(),c=this.getValidScrollbarCfg(),a=this.view.getOptions().data||[];return b.isReflect("y")&&"vertical"===c.type&&(a=fs([],fq(a),!1).reverse()),a},a}(O),rY={fill:"#CCD6EC",opacity:.3},dL=function(b){function a(){return null!==b&&b.apply(this,arguments)||this}return fl(a,b),a.prototype.show=function(p){var a=this.context.view,q=this.context.event,v=a.getController("tooltip").getTooltipCfg(),h=function(x,k,p){var l,q,e,r,m,s,a=function(e,f,g){var c,h,d=oF(e,f,g);try{for(var b=fp(e.views),a=b.next();!a.done;a=b.next()){var i=a.value;d=d.concat(oF(i,f,g))}}catch(j){c={error:j}}finally{try{a&&!a.done&&(h=b.return)&&h.call(b)}finally{if(c)throw c.error}}return d}(x,k,p);if(a.length){a=fK(a);try{for(var f=fp(a),b=f.next();!b.done;b=f.next()){var y=b.value;try{for(var g=(e=void 0,fp(y)),c=g.next();!c.done;c=g.next()){var n=c.value,t=n.mappingData,h=t.x,i=t.y;n.x=fB(h)?h[h.length-1]:h,n.y=fB(i)?i[i.length-1]:i}}catch(z){e={error:z}}finally{try{c&&!c.done&&(r=g.return)&&r.call(g)}finally{if(e)throw e.error}}}}catch(A){l={error:A}}finally{try{b&&!b.done&&(q=f.return)&&q.call(f)}finally{if(l)throw l.error}}if(!1===p.shared&&a.length>1){var o=a[0],u=Math.abs(k.y-o[0].y);try{for(var j=fp(a),d=j.next();!d.done;d=j.next()){var v=d.value,w=Math.abs(k.y-v[0].y);w<=u&&(o=v,u=w)}}catch(B){m={error:B}}finally{try{d&&!d.done&&(s=j.return)&&s.call(j)}finally{if(m)throw m.error}}a=[o]}return fV(fK(a))}return[]}(a,{x:q.x,y:q.y},v);if(!gw(h,this.items)&&(this.items=h,h.length)){var w=a.getXScale().field,F=h[0].data[w],c=[];if(I(a.geometries,function(a){if("interval"===a.type||"schema"===a.type){var b=a.getElementsBy(function(a){return a.getData()[w]===F});c=c.concat(b)}}),c.length){var b=a.getCoordinate(),i=c[0].shape.getCanvasBBox(),o=c[0].shape.getCanvasBBox(),r=i;I(c,function(c){var a=c.shape.getCanvasBBox();b.isTransposed?(a.minY<i.minY&&(i=a),a.maxY>o.maxY&&(o=a)):(a.minX<i.minX&&(i=a),a.maxX>o.maxX&&(o=a)),r.x=Math.min(a.minX,r.minX),r.y=Math.min(a.minY,r.minY),r.width=Math.max(a.maxX,r.maxX)-r.x,r.height=Math.max(a.maxY,r.maxY)-r.y});var x=a.backgroundGroup,j=a.coordinateBBox,k=void 0;if(b.isRect){var y=a.getXScale(),s=p||{},g=s.appendRatio,d=s.appendWidth;fA(d)&&(g=fA(g)?y.isLinear?0:.25:g,d=b.isTransposed?g*o.height:g*i.width);var e=void 0,f=void 0,l=void 0,m=void 0;b.isTransposed?(e=j.minX,f=Math.min(o.minY,i.minY)-d,l=j.width,m=r.height+2*d):(e=Math.min(i.minX,o.minX)-d,f=j.minY,l=r.width+2*d,m=j.height),k=[["M",e,f],["L",e+l,f],["L",e+l,f+m],["L",e,f+m],["Z"],]}else{var z=fX(c),A=fY(c),B=c6(z.getModel(),b).startAngle,C=c6(A.getModel(),b).endAngle,t=b.getCenter(),u=b.getRadius(),D=b.innerRadius*u;k=c5(t.x,t.y,u,B,C,D)}if(this.regionPath)this.regionPath.attr("path",k),this.regionPath.show();else{var E=gB(p,"style",rY);this.regionPath=x.addShape({type:"path",name:"active-region",capture:!1,attrs:n(n({},E),{path:k})})}}}},a.prototype.hide=function(){this.regionPath&&this.regionPath.hide(),this.items=null},a.prototype.destroy=function(){this.hide(),this.regionPath&&this.regionPath.remove(!0),b.prototype.destroy.call(this)},a}(g),bR=function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.timeStamp=0,a}return fl(a,b),a.prototype.show=function(){var a=this.context,c=a.event,d=a.view;if(!d.isTooltipLocked()){var g=this.timeStamp,e=+new Date,h=gB(a.view.getOptions(),"tooltip.showDelay",16);if(e-g>h){var f=this.location,b={x:c.x,y:c.y};f&&gw(f,b)||this.showTooltip(d,b),this.timeStamp=e,this.location=b}}},a.prototype.hide=function(){var a=this.context.view,c=a.getController("tooltip"),b=this.context.event,d=b.clientX,e=b.clientY;!(c.isCursorEntered({x:d,y:e})||a.isTooltipLocked())&&(this.hideTooltip(a),this.location=null)},a.prototype.showTooltip=function(a,b){a.showTooltip(b)},a.prototype.hideTooltip=function(a){a.hideTooltip()},a}(g),dM=function(b){function a(){return null!==b&&b.apply(this,arguments)||this}return fl(a,b),a.prototype.showTooltip=function(a,c){var b=oi(a);I(b,function(b){var d=oj(a,b,c);b.showTooltip(d)})},a.prototype.hideTooltip=function(a){var b=oi(a);I(b,function(a){a.hideTooltip()})},a}(bR),dN=function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.timeStamp=0,a}return fl(a,b),a.prototype.destroy=function(){b.prototype.destroy.call(this),this.tooltip&&this.tooltip.destroy()},a.prototype.show=function(){var b=this.context.event,e=this.timeStamp,c=+new Date;if(c-e>16){var d=this.location,a={x:b.x,y:b.y};d&&gw(d,a)||this.showTooltip(a),this.timeStamp=c,this.location=a}},a.prototype.hide=function(){this.hideTooltip(),this.location=null},a.prototype.showTooltip=function(b){var a=this.context.event.target;if(a&&a.get("tip")){this.tooltip||this.renderTooltip();var c=a.get("tip");this.tooltip.update(n({title:c},b)),this.tooltip.show()}},a.prototype.hideTooltip=function(){this.tooltip&&this.tooltip.hide()},a.prototype.renderTooltip=function(){var a,d=this.context.view,b=d.canvas,e={start:{x:0,y:0},end:{x:b.get("width"),y:b.get("height")}},f=gB(d.getTheme(),["components","tooltip","domStyles"],{}),c=new nu({parent:b.get("el").parentNode,region:e,visible:!1,crosshairs:null,domStyles:n({},gs({},f,((a={})[cX]={"max-width":"50%"},a[cY]={"word-break":"break-all"},a)))});c.init(),c.setCapture(!1),this.tooltip=c},a}(g),aG=function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.stateName="",a}return fl(a,b),a.prototype.hasState=function(a){return a.hasState(this.stateName)},a.prototype.setElementState=function(a,b){a.setState(this.stateName,b)},a.prototype.setState=function(){this.setStateEnable(!0)},a.prototype.clear=function(){var a=this.context.view;this.clearViewState(a)},a.prototype.clearViewState=function(a){var c=this,b=oa(a,this.stateName);I(b,function(a){c.setElementState(a,!1)})},a}(g);function rZ(a){return gB(a.get("delegateObject"),"item")}var aH=function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.ignoreListItemStates=["unchecked"],a}return fl(a,b),a.prototype.isItemIgnore=function(a,b){return!!this.ignoreListItemStates.filter(function(c){return b.hasState(a,c)}).length},a.prototype.setStateByComponent=function(a,b,c){var d=this.context.view,e=a.get("field"),f=n9(d);this.setElementsStateByItem(f,e,b,c)},a.prototype.setStateByElement=function(a,b){this.setElementState(a,b)},a.prototype.isMathItem=function(c,a,d){var e=ol(this.context.view,a),b=ob(c,a);return!fA(b)&&d.name===e.getText(b)},a.prototype.setElementsStateByItem=function(a,b,c,d){var e=this;I(a,function(a){e.isMathItem(a,b,c)&&a.setState(e.stateName,d)})},a.prototype.setStateEnable=function(e){var f=n2(this.context);if(f)n3(this.context)&&this.setStateByElement(f,e);else{var b=c7(this.context);if(n4(b)){var c=b.item,d=b.component;if(c&&d&&!this.isItemIgnore(c,d)){var a=this.context.event.gEvent;if(a&&a.fromShape&&a.toShape&&rZ(a.fromShape)===rZ(a.toShape))return;this.setStateByComponent(d,c,e)}}}},a.prototype.toggle=function(){var a=n2(this.context);if(a){var b=a.hasState(this.stateName);this.setElementState(a,!b)}},a.prototype.reset=function(){this.setStateEnable(!1)},a}(aG),dO=function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.stateName="active",a}return fl(a,b),a.prototype.active=function(){this.setState()},a}(aH),dP=function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.cache={},a}return fl(a,b),a.prototype.getColorScale=function(b,c){var a=c.geometry.getAttribute("color");return a?b.getScaleByField(a.getFields()[0]):null},a.prototype.getLinkPath=function(c,d){var e=this.context.view.getCoordinate().isTransposed,a=c.shape.getCanvasBBox(),b=d.shape.getCanvasBBox();return e?[["M",a.minX,a.minY],["L",b.minX,b.maxY],["L",b.maxX,b.maxY],["L",a.maxX,a.minY],["Z"],]:[["M",a.maxX,a.minY],["L",b.minX,b.minY],["L",b.minX,b.maxY],["L",a.maxX,a.maxY],["Z"],]},a.prototype.addLinkShape=function(d,a,e,b){var c={opacity:.4,fill:a.shape.attr("fill")};d.addShape({type:"path",attrs:n(n({},gs({},c,fz(b)?b(c,a):b)),{path:this.getLinkPath(a,e)})})},a.prototype.linkByElement=function(c,j){var k=this,d=this.context.view,a=this.getColorScale(d,c);if(a){var b=ob(c,a.field);if(!this.cache[b]){var e,g,h,f=(e=d,g=a.field,h=b,n9(e).filter(function(a){return ob(a,g)===h})),i=this.linkGroup.addGroup();this.cache[b]=i;var l=f.length;I(f,function(b,a){if(a<l-1){var c=f[a+1];k.addLinkShape(i,b,c,j)}})}}},a.prototype.removeLink=function(b){var c=this.getColorScale(this.context.view,b);if(c){var a=ob(b,c.field);this.cache[a]&&(this.cache[a].remove(),this.cache[a]=null)}},a.prototype.link=function(a){var b=this.context;this.linkGroup||(this.linkGroup=b.view.foregroundGroup.addGroup({id:"link-by-color-group",capture:!1}));var c=n2(b);c&&this.linkByElement(c,null==a?void 0:a.style)},a.prototype.unlink=function(){var a=n2(this.context);a&&this.removeLink(a)},a.prototype.clear=function(){this.linkGroup&&this.linkGroup.clear(),this.cache={}},a.prototype.destroy=function(){b.prototype.destroy.call(this),this.linkGroup&&this.linkGroup.remove()},a}(g),aI=function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.startPoint=null,a.endPoint=null,a.isStarted=!1,a.effectSiblings=!1,a.effectByRecord=!1,a}return fl(a,b),a.prototype.getCurrentPoint=function(){var a=this.context.event;return{x:a.x,y:a.y}},a.prototype.start=function(){this.clear(),this.startPoint=this.getCurrentPoint(),this.isStarted=!0},a.prototype.getIntersectElements=function(){var c=null;if(n6(this.context))c=n7(this.context,10);else{var a=this.startPoint,b=this.isStarted?this.getCurrentPoint():this.endPoint;if(!a||!b)return;var d={minX:Math.min(a.x,b.x),minY:Math.min(a.y,b.y),maxX:Math.max(a.x,b.x),maxY:Math.max(a.y,b.y)};c=oc(this.context.view,d)}return c},a.prototype.setStateEnable=function(b){if(this.effectSiblings&&!this.effectByRecord)this.setSiblingsState(b);else{var c=n9(this.context.view),a=this.getIntersectElements();a&&a.length?this.effectByRecord?this.setSiblingsStateByRecord(a,b):this.setElementsState(a,b,c):this.clear()}},a.prototype.setSiblingsStateByRecord=function(b,d){var e=this,a=this.context.view,c=oi(a),f=b.map(function(a){return a.getModel().data}),g=a.getXScale().field,h=a.getYScales()[0].field;I(c,function(b){var a=n9(b),c=a.filter(function(a){return ok(f,a.getModel().data,g,h)});e.setElementsState(c,d,a)})},a.prototype.setSiblingsState=function(b){var c=this,a=oi(this.context.view);n6(this.context)&&I(a,function(a){var e=n9(a),d=n8(c.context,a,10);d&&d.length?c.setElementsState(d,b,e):c.clearViewState(a)})},a.prototype.setElementsState=function(b,c,a){var d=this;I(a,function(a){b.includes(a)?d.setElementState(a,c):d.setElementState(a,!1)})},a.prototype.end=function(){this.isStarted=!1,this.endPoint=this.getCurrentPoint()},a.prototype.clear=function(){var c=this,a=this.context.view;if(this.effectSiblings){var b=oi(a);I(b,function(a){c.clearViewState(a)})}else this.clearViewState(a)},a}(aG),dQ=function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.stateName="active",a}return fl(a,b),a.prototype.active=function(){this.setState()},a}(aI),aJ=function(b){function a(){return null!==b&&b.apply(this,arguments)||this}return fl(a,b),a.prototype.setStateEnable=function(b){var a=n2(this.context);if(a){if(!n3(this.context))return;b?(this.clear(),this.setElementState(a,!0)):this.hasState(a)&&this.setElementState(a,!1)}},a.prototype.toggle=function(){var a=n2(this.context);if(a){var b=this.hasState(a);b||this.clear(),this.setElementState(a,!b)}},a.prototype.reset=function(){this.setStateEnable(!1)},a}(aG),dR=function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.stateName="active",a}return fl(a,b),a.prototype.active=function(){this.setState()},a}(aJ),r$="inactive",r_="active";function r0(a){var b=n9(a);I(b,function(a){a.hasState(r_)&&a.setState(r_,!1),a.hasState(r$)&&a.setState(r$,!1)})}function r1(a,b,c){I(a,function(a){b(a)?(a.hasState(r$)&&a.setState(r$,!1),a.setState(r_,c)):(a.hasState(r_)&&a.setState(r_,!1),a.setState(r$,c))})}var ai,r2=bd.INACTIVE,r3=bd.ACTIVE,aK=function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.stateName=r3,a}return fl(a,b),a.prototype.setElementsStateByItem=function(a,c,d,b){var e=this;this.setHighlightBy(a,function(a){return e.isMathItem(a,c,d)},b)},a.prototype.setElementHighlight=function(a,b){b(a)?(a.hasState(r2)&&a.setState(r2,!1),a.setState(r3,!0)):a.hasState(r3)||a.setState(r2,!0)},a.prototype.setHighlightBy=function(a,e,b){var f=this;if(b)I(a,function(a){f.setElementHighlight(a,e)});else{var c=oa(this.context.view,r3),d=!0;I(c,function(a){if(!e(a))return d=!1,!1}),d?this.clear():I(a,function(a){e(a)&&(a.hasState(r3)&&a.setState(r3,!1),a.setState(r2,!0))})}},a.prototype.setElementState=function(c,a){var b=n9(this.context.view);this.setHighlightBy(b,function(a){return c===a},a)},a.prototype.highlight=function(){this.setState()},a.prototype.clear=function(){r0(this.context.view)},a}(aH),dS=function(b){function a(){return null!==b&&b.apply(this,arguments)||this}return fl(a,b),a.prototype.setStateByElement=function(a,e){var b=this.context.view,c=a.geometry.getAttribute("color");if(c){var f=b.getScaleByField(c.getFields()[0]),g=ob(a,f.field),d=n9(b),h=d.filter(function(a){return ob(a,f.field)===g});this.setHighlightBy(d,function(a){return h.includes(a)},e)}},a}(aK),dT=function(b){function a(){return null!==b&&b.apply(this,arguments)||this}return fl(a,b),a.prototype.setElementHighlight=function(a,b){b(a)?(a.hasState(r2)&&a.setState(r2,!1),a.setState(r3,!0)):(a.setState(r2,!0),a.hasState(r3)&&a.setState(r3,!1))},a.prototype.setStateByElement=function(c,d){var a=this.context.view,e=a.getXScale(),f=ob(c,e.field),b=n9(a),g=b.filter(function(a){return ob(a,e.field)===f});this.setHighlightBy(b,function(a){return g.includes(a)},d)},a.prototype.toggle=function(){var a=n2(this.context);if(a){var b=a.hasState(this.stateName);this.setStateByElement(a,!b)}},a}(aK);(ai=aQ||(aQ={})).BEFORE_HIGHLIGHT="element-range-highlight:beforehighlight",ai.AFTER_HIGHLIGHT="element-range-highlight:afterhighlight",ai.BEFORE_CLEAR="element-range-highlight:beforeclear",ai.AFTER_CLEAR="element-range-highlight:afterclear";var bS=function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.stateName="active",a}return fl(a,b),a.prototype.clearViewState=function(a){r0(a)},a.prototype.highlight=function(){var d,b=this.context,a=b.view,c={view:a,event:b.event,highlightElements:this.getIntersectElements()};a.emit(aQ.BEFORE_HIGHLIGHT,oK.fromData(a,aQ.BEFORE_HIGHLIGHT,c)),this.setState(),a.emit(aQ.AFTER_HIGHLIGHT,oK.fromData(a,aQ.AFTER_HIGHLIGHT,c))},a.prototype.clear=function(){var a=this.context.view;a.emit(aQ.BEFORE_CLEAR,oK.fromData(a,aQ.BEFORE_CLEAR,{})),b.prototype.clear.call(this),a.emit(aQ.AFTER_CLEAR,oK.fromData(a,aQ.AFTER_CLEAR,{}))},a.prototype.setElementsState=function(c,a,b){r1(b,function(a){return c.indexOf(a)>=0},a)},a}(aI),dU=function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.stateName="active",a}return fl(a,b),a.prototype.highlight=function(){this.setState()},a.prototype.setElementState=function(c,a){var b=n9(this.context.view);r1(b,function(a){return c===a},a)},a.prototype.clear=function(){r0(this.context.view)},a}(aJ),dV=function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.stateName="selected",a}return fl(a,b),a.prototype.selected=function(){this.setState()},a}(aI),dW=function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.stateName="selected",a}return fl(a,b),a.prototype.selected=function(){this.setState()},a}(aH),dX=function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.stateName="selected",a}return fl(a,b),a.prototype.selected=function(){this.setState()},a}(aJ),G=function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.stateName="",a.ignoreItemStates=[],a}return fl(a,b),a.prototype.getTriggerListInfo=function(){var a=c7(this.context),b=null;return n4(a)&&(b={item:a.item,list:a.component}),b},a.prototype.getAllowComponents=function(){var c=this,a=of(this.context.view),b=[];return I(a,function(a){a.isList()&&c.allowSetStateByElement(a)&&b.push(a)}),b},a.prototype.hasState=function(a,b){return a.hasState(b,this.stateName)},a.prototype.clearAllComponentsState=function(){var a=this;I(this.getAllowComponents(),function(b){b.clearItemsState(a.stateName)})},a.prototype.allowSetStateByElement=function(a){var b=a.get("field");if(!b)return!1;if(this.cfg&&this.cfg.componentNames){var d=a.get("name");if(-1===this.cfg.componentNames.indexOf(d))return!1}var c=ol(this.context.view,b);return c&&c.isCategory},a.prototype.allowSetStateByItem=function(b,c){var a=this.ignoreItemStates;return!a.length||0===a.filter(function(a){return c.hasState(b,a)}).length},a.prototype.setStateByElement=function(a,c,d){var b=a.get("field"),e=ol(this.context.view,b),f=ob(c,b),g=e.getText(f);this.setItemsState(a,g,d)},a.prototype.setStateEnable=function(d){var f=this,e=n2(this.context);if(e)I(this.getAllowComponents(),function(a){f.setStateByElement(a,e,d)});else{var a=c7(this.context);if(n4(a)){var c=a.item,b=a.component;this.allowSetStateByElement(b)&&this.allowSetStateByItem(c,b)&&this.setItemState(b,c,d)}}},a.prototype.setItemsState=function(a,b,c){var d=this;I(a.getItems(),function(e){e.name===b&&d.setItemState(a,e,c)})},a.prototype.setItemState=function(a,b,c){a.setItemState(b,this.stateName,c)},a.prototype.setState=function(){this.setStateEnable(!0)},a.prototype.reset=function(){this.setStateEnable(!1)},a.prototype.toggle=function(){var a=this.getTriggerListInfo();if(a&&a.item){var b=a.list,c=a.item,d=this.hasState(b,c);this.setItemState(b,c,!d)}},a.prototype.clear=function(){var a=this.getTriggerListInfo();a?a.list.clearItemsState(this.stateName):this.clearAllComponentsState()},a}(g),dY=function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.stateName="active",a}return fl(a,b),a.prototype.active=function(){this.setState()},a}(G),r4="inactive",r5="active",r6="inactive",r7="active",aL=function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.stateName=r7,a.ignoreItemStates=["unchecked"],a}return fl(a,b),a.prototype.setItemsState=function(a,c,b){this.setHighlightBy(a,function(a){return a.name===c},b)},a.prototype.setItemState=function(a,c,b){a.getItems(),this.setHighlightBy(a,function(a){return a===c},b)},a.prototype.setHighlightBy=function(a,f,c){var b=a.getItems();if(c)I(b,function(b){f(b)?(a.hasState(b,r6)&&a.setItemState(b,r6,!1),a.setItemState(b,r7,!0)):a.hasState(b,r7)||a.setItemState(b,r6,!0)});else{var d=a.getItemsByState(r7),e=!0;I(d,function(a){if(!f(a))return e=!1,!1}),e?this.clear():I(b,function(b){f(b)&&(a.hasState(b,r7)&&a.setItemState(b,r7,!1),a.setItemState(b,r6,!0))})}},a.prototype.highlight=function(){this.setState()},a.prototype.clear=function(){var b,a=this.getTriggerListInfo();a?I((b=a.list).getItems(),function(a){b.hasState(a,r5)&&b.setItemState(a,r5,!1),b.hasState(a,r4)&&b.setItemState(a,r4,!1)}):I(this.getAllowComponents(),function(a){a.clearItemsState(r7),a.clearItemsState(r6)})},a}(G),dZ=function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.stateName="selected",a}return fl(a,b),a.prototype.selected=function(){this.setState()},a}(G),d$=function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.stateName="unchecked",a}return fl(a,b),a.prototype.unchecked=function(){this.setState()},a}(G),r8="unchecked",r9="checked",d_=function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.stateName=r9,a}return fl(a,b),a.prototype.setItemState=function(a,c,b){this.setCheckedBy(a,function(a){return a===c},b)},a.prototype.setCheckedBy=function(a,d,b){var c=a.getItems();b&&I(c,function(b){d(b)?(a.hasState(b,r8)&&a.setItemState(b,r8,!1),a.setItemState(b,r9,!0)):a.hasState(b,r9)||a.setItemState(b,r8,!0)})},a.prototype.toggle=function(){var a=this.getTriggerListInfo();if(a&&a.item){var b=a.list,c=a.item;!f$(b.getItems(),function(a){return b.hasState(a,r8)})||b.hasState(c,r8)?this.setItemState(b,c,!0):this.reset()}},a.prototype.checked=function(){this.setState()},a.prototype.reset=function(){I(this.getAllowComponents(),function(a){a.clearItemsState(r9),a.clearItemsState(r8)})},a}(G),sa="unchecked",d0=function(b){function a(){return null!==b&&b.apply(this,arguments)||this}return fl(a,b),a.prototype.toggle=function(){var n,r,o,s,p,t,q,u,h=this.getTriggerListInfo();if(null==h?void 0:h.item){var c=h.list,i=h.item,b=c.getItems(),v=b.filter(function(a){return!c.hasState(a,sa)}),w=b.filter(function(a){return c.hasState(a,sa)}),x=v[0];if(b.length===v.length)try{for(var j=fp(b),d=j.next();!d.done;d=j.next()){var a=d.value;c.setItemState(a,sa,a.id!==i.id)}}catch(y){n={error:y}}finally{try{d&&!d.done&&(r=j.return)&&r.call(j)}finally{if(n)throw n.error}}else if(b.length-w.length==1){if(x.id===i.id)try{for(var k=fp(b),e=k.next();!e.done;e=k.next()){var a=e.value;c.setItemState(a,sa,!1)}}catch(z){o={error:z}}finally{try{e&&!e.done&&(s=k.return)&&s.call(k)}finally{if(o)throw o.error}}else try{for(var l=fp(b),f=l.next();!f.done;f=l.next()){var a=f.value;c.setItemState(a,sa,a.id!==i.id)}}catch(A){p={error:A}}finally{try{f&&!f.done&&(t=l.return)&&t.call(l)}finally{if(p)throw p.error}}}else try{for(var m=fp(b),g=m.next();!g.done;g=m.next()){var a=g.value;c.setItemState(a,sa,a.id!==i.id)}}catch(B){q={error:B}}finally{try{g&&!g.done&&(u=m.return)&&u.call(m)}finally{if(q)throw q.error}}}},a}(G),sb="showRadio",sc="legend-radio-tip",d1=function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.timeStamp=0,a}return fl(a,b),a.prototype.show=function(){var a=this.getTriggerListInfo();if(null==a?void 0:a.item){var b=a.list,c=a.item;b.setItemState(c,sb,!0)}},a.prototype.hide=function(){var a=this.getTriggerListInfo();if(null==a?void 0:a.item){var b=a.list,c=a.item;b.setItemState(c,sb,!1)}},a.prototype.destroy=function(){b.prototype.destroy.call(this),this.tooltip&&this.tooltip.destroy()},a.prototype.showTip=function(){var b=this.context.event,e=this.timeStamp,c=+new Date,f=this.context.event.target;if(c-e>16&&"legend-item-radio"===f.get("name")){var d=this.location,a={x:b.x,y:b.y};this.timeStamp=c,this.location=a,d&&gw(d,a)||this.showTooltip(a)}},a.prototype.hideTip=function(){this.hideTooltip(),this.location=null},a.prototype.showTooltip=function(a){var c=this.context,b=c.event.target;if(b&&b.get("tip")){this.tooltip||this.renderTooltip();var d=c.view.getCanvas().get("el").getBoundingClientRect(),e=d.x,f=d.y;this.tooltip.update(n(n({title:b.get("tip")},a),{x:a.x+e,y:a.y+f})),this.tooltip.show()}},a.prototype.hideTooltip=function(){this.tooltip&&this.tooltip.hide()},a.prototype.renderTooltip=function(){var a,c=((a={})[cX]={padding:"6px 8px",transform:"translate(-50%, -80%)",background:"rgba(0,0,0,0.75)",color:"#fff","border-radius":"2px","z-index":100},a[cY]={"font-size":"12px","line-height":"14px","margin-bottom":0,"word-break":"break-all"},a);document.getElementById(sc)&&document.body.removeChild(document.getElementById(sc));var b=new nu({parent:document.body,region:null,visible:!1,crosshairs:null,domStyles:c,containerId:sc});b.init(),b.setCapture(!1),this.tooltip=b},a}(G),aM=function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.maskShape=null,a.points=[],a.starting=!1,a.moving=!1,a.preMovePoint=null,a.shapeType="path",a}return fl(a,b),a.prototype.getCurrentPoint=function(){var a=this.context.event;return{x:a.x,y:a.y}},a.prototype.emitEvent=function(b){var c="mask:".concat(b),d=this.context.view,a=this.context.event;d.emit(c,{target:this.maskShape,shape:this.maskShape,points:this.points,x:a.x,y:a.y})},a.prototype.createMask=function(){var a=this.context.view,b=this.getMaskAttrs();return a.foregroundGroup.addShape({type:this.shapeType,name:"mask",draggable:!0,attrs:n({fill:"#C5D4EB",opacity:.3},b)})},a.prototype.getMaskPath=function(){return[]},a.prototype.show=function(){this.maskShape&&(this.maskShape.show(),this.emitEvent("show"))},a.prototype.start=function(a){this.starting=!0,this.moving=!1,this.points=[this.getCurrentPoint()],this.maskShape||(this.maskShape=this.createMask(),this.maskShape.set("capture",!1)),this.updateMask(null==a?void 0:a.maskStyle),this.emitEvent("start")},a.prototype.moveStart=function(){this.moving=!0,this.preMovePoint=this.getCurrentPoint()},a.prototype.move=function(){if(this.moving&&this.maskShape){var a=this.getCurrentPoint(),b=this.preMovePoint,c=a.x-b.x,d=a.y-b.y;I(this.points,function(a){a.x+=c,a.y+=d}),this.updateMask(),this.emitEvent("change"),this.preMovePoint=a}},a.prototype.updateMask=function(a){var b=gs({},this.getMaskAttrs(),a);this.maskShape.attr(b)},a.prototype.moveEnd=function(){this.moving=!1,this.preMovePoint=null},a.prototype.end=function(){this.starting=!1,this.emitEvent("end"),this.maskShape&&this.maskShape.set("capture",!0)},a.prototype.hide=function(){this.maskShape&&(this.maskShape.hide(),this.emitEvent("hide"))},a.prototype.resize=function(){this.starting&&this.maskShape&&(this.points.push(this.getCurrentPoint()),this.updateMask(),this.emitEvent("change"))},a.prototype.destroy=function(){this.points=[],this.maskShape&&this.maskShape.remove(),this.maskShape=null,this.preMovePoint=null,b.prototype.destroy.call(this)},a}(g),d2=function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.shapeType="circle",a}return fl(a,b),a.prototype.getMaskAttrs=function(){var c=this.points,a=fY(this.points),d=0,e=0,f=0;if(c.length){var b=c[0];d=og(b,a)/2,e=(a.x+b.x)/2,f=(a.y+b.y)/2}return{x:e,y:f,r:d}},a}(aM),bT=function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.shapeType="rect",a}return fl(a,b),a.prototype.getRegion=function(){var a=this.points;return{start:fX(a),end:fY(a)}},a.prototype.getMaskAttrs=function(){var c=this.getRegion(),a=c.start,b=c.end,d=Math.min(a.x,b.x),e=Math.min(a.y,b.y),f=Math.abs(b.x-a.x),g=Math.abs(b.y-a.y);return{x:d,y:e,width:f,height:g}},a}(aM);function sd(a){a.x=f3(a.x,0,1),a.y=f3(a.y,0,1)}var bU=function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.dim="x",a.inPlot=!0,a}return fl(a,b),a.prototype.getRegion=function(){var b=null,c=null,f=this.points,g=this.dim,a=this.context.view.getCoordinate(),d=a.invert(fX(f)),e=a.invert(fY(f));return this.inPlot&&(sd(d),sd(e)),"x"===g?(b=a.convert({x:d.x,y:0}),c=a.convert({x:e.x,y:1})):(b=a.convert({x:0,y:d.y}),c=a.convert({x:1,y:e.y})),{start:b,end:c}},a}(bT),bV=function(b){function a(){return null!==b&&b.apply(this,arguments)||this}return fl(a,b),a.prototype.getMaskPath=function(){var a=this.points,b=[];return a.length&&(I(a,function(a,c){0===c?b.push(["M",a.x,a.y]):b.push(["L",a.x,a.y])}),b.push(["L",a[0].x,a[0].y])),b},a.prototype.getMaskAttrs=function(){return{path:this.getMaskPath()}},a.prototype.addPoint=function(){this.resize()},a}(aM),d3=function(b){function a(){return null!==b&&b.apply(this,arguments)||this}return fl(a,b),a.prototype.getMaskPath=function(){return function(a,d){if(a.length<=2)return n_(a,!1);var b=a[0],e=[];I(a,function(a){e.push(a.x),e.push(a.y)});var c=n$(e,d,null);return c.unshift(["M",b.x,b.y]),c}(this.points,!0)},a}(bV),d4=function(b){function a(){return null!==b&&b.apply(this,arguments)||this}return fl(a,b),a.prototype.setCursor=function(a){this.context.view.getCanvas().setCursor(a)},a.prototype.default=function(){this.setCursor("default")},a.prototype.pointer=function(){this.setCursor("pointer")},a.prototype.move=function(){this.setCursor("move")},a.prototype.crosshair=function(){this.setCursor("crosshair")},a.prototype.wait=function(){this.setCursor("wait")},a.prototype.help=function(){this.setCursor("help")},a.prototype.text=function(){this.setCursor("text")},a.prototype.eResize=function(){this.setCursor("e-resize")},a.prototype.wResize=function(){this.setCursor("w-resize")},a.prototype.nResize=function(){this.setCursor("n-resize")},a.prototype.sResize=function(){this.setCursor("s-resize")},a.prototype.neResize=function(){this.setCursor("ne-resize")},a.prototype.nwResize=function(){this.setCursor("nw-resize")},a.prototype.seResize=function(){this.setCursor("se-resize")},a.prototype.swResize=function(){this.setCursor("sw-resize")},a.prototype.nsResize=function(){this.setCursor("ns-resize")},a.prototype.ewResize=function(){this.setCursor("ew-resize")},a}(g),d5=function(b){function a(){return null!==b&&b.apply(this,arguments)||this}return fl(a,b),a.prototype.filterView=function(a,b,c){var d=this;a.getScaleByField(b)&&a.filter(b,c),a.views&&a.views.length&&I(a.views,function(a){d.filterView(a,b,c)})},a.prototype.filter=function(){var c=c7(this.context);if(c){var a=this.context.view,d=c.component,b=d.get("field");if(n4(c)){if(b){var f=d.getItemsByState("unchecked"),h=ol(a,b),g=f.map(function(a){return a.name});g.length?this.filterView(a,b,function(a){var b=h.getText(a);return!g.includes(b)}):this.filterView(a,b,null),a.render(!0)}}else if(n5(c)){var e=fq(d.getValue(),2),i=e[0],j=e[1];this.filterView(a,b,function(a){return a>=i&&a<=j}),a.render(!0)}}},a}(g);function se(a,b,f,g){var c=Math.min(f[b],g[b]),d=Math.max(f[b],g[b]),h=fq(a.range,2),i=h[0],e=h[1];if(c<i&&(c=i),d>e&&(d=e),c===e&&d===e)return null;var j=a.invert(c),k=a.invert(d);if(!a.isCategory)return function(a){return a>=j&&a<=k};var l=a.values.indexOf(j),m=a.values.indexOf(k),n=a.values.slice(l,m+1);return function(a){return n.includes(a)}}(sf=aR||(aR={})).FILTER="brush-filter-processing",sf.RESET="brush-filter-reset",sf.BEFORE_FILTER="brush-filter:beforefilter",sf.AFTER_FILTER="brush-filter:afterfilter",sf.BEFORE_RESET="brush-filter:beforereset",sf.AFTER_RESET="brush-filter:afterreset";var sf,bW,bX,aj=function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.dims=["x","y"],a.startPoint=null,a.isStarted=!1,a}return fl(a,b),a.prototype.hasDim=function(a){return this.dims.includes(a)},a.prototype.start=function(){var a=this.context;this.isStarted=!0,this.startPoint=a.getCurrentPoint()},a.prototype.filter=function(){if(n6(this.context)){var b,c,d=this.context.event.target.getCanvasBBox();b={x:d.x,y:d.y},c={x:d.maxX,y:d.maxY}}else{if(!this.isStarted)return;b=this.startPoint,c=this.context.getCurrentPoint()}if(!(5>Math.abs(b.x-c.x)||5>Math.abs(b.x-c.y))){var f=this.context,a=f.view,g={view:a,event:f.event,dims:this.dims};a.emit(aR.BEFORE_FILTER,oK.fromData(a,aR.BEFORE_FILTER,g));var h=a.getCoordinate(),i=h.invert(c),j=h.invert(b);if(this.hasDim("x")){var k=a.getXScale(),e=se(k,"x",i,j);this.filterView(a,k.field,e)}if(this.hasDim("y")){var l=a.getYScales()[0],e=se(l,"y",i,j);this.filterView(a,l.field,e)}this.reRender(a,{source:aR.FILTER}),a.emit(aR.AFTER_FILTER,oK.fromData(a,aR.AFTER_FILTER,g))}},a.prototype.end=function(){this.isStarted=!1},a.prototype.reset=function(){var a=this.context.view;if(a.emit(aR.BEFORE_RESET,oK.fromData(a,aR.BEFORE_RESET,{})),this.isStarted=!1,this.hasDim("x")){var b=a.getXScale();this.filterView(a,b.field,null)}if(this.hasDim("y")){var c=a.getYScales()[0];this.filterView(a,c.field,null)}this.reRender(a,{source:aR.RESET}),a.emit(aR.AFTER_RESET,oK.fromData(a,aR.AFTER_RESET,{}))},a.prototype.filterView=function(a,b,c){a.filter(b,c)},a.prototype.reRender=function(a,b){a.render(!0,b)},a}(g),aN=function(b){function a(){return null!==b&&b.apply(this,arguments)||this}return fl(a,b),a.prototype.filterView=function(a,c,d){var b=oi(a);I(b,function(a){a.filter(c,d)})},a.prototype.reRender=function(a){var b=oi(a);I(b,function(a){a.render(!0)})},a}(aj),d6=function(b){function a(){return null!==b&&b.apply(this,arguments)||this}return fl(a,b),a.prototype.filter=function(){var a=c7(this.context),d=this.context.view,b=n9(d);if(n6(this.context)){var g=n7(this.context,10);g&&I(b,function(a){g.includes(a)?a.show():a.hide()})}else if(a){var c=a.component,e=c.get("field");if(n4(a)){if(e){var h=c.getItemsByState("unchecked"),i=ol(d,e),j=h.map(function(a){return a.name});I(b,function(a){var b=ob(a,e),c=i.getText(b);j.indexOf(c)>=0?a.hide():a.show()})}}else if(n5(a)){var f=fq(c.getValue(),2),k=f[0],l=f[1];I(b,function(a){var b=ob(a,e);b>=k&&b<=l?a.show():a.hide()})}}},a.prototype.clear=function(){var a=n9(this.context.view);I(a,function(a){a.show()})},a.prototype.reset=function(){this.clear()},a}(g),bY=function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.byRecord=!1,a}return fl(a,b),a.prototype.filter=function(){n6(this.context)&&(this.byRecord?this.filterByRecord():this.filterByBBox())},a.prototype.filterByRecord=function(){var a=this.context.view,b=n7(this.context,10);if(b){var d=a.getXScale().field,e=a.getYScales()[0].field,f=b.map(function(a){return a.getModel().data}),c=oi(a);I(c,function(a){var b=n9(a);I(b,function(a){ok(f,a.getModel().data,d,e)?a.show():a.hide()})})}},a.prototype.filterByBBox=function(){var b=this,a=oi(this.context.view);I(a,function(a){var c=n8(b.context,a,10),d=n9(a);c&&I(d,function(a){c.includes(a)?a.show():a.hide()})})},a.prototype.reset=function(){var a=oi(this.context.view);I(a,function(a){var b=n9(a);I(b,function(a){a.show()})})},a}(g),d7=function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.buttonGroup=null,a.buttonCfg={name:"button",text:"button",textStyle:{x:0,y:0,fontSize:12,fill:"#333333",cursor:"pointer"},padding:[8,10],style:{fill:"#f7f7f7",stroke:"#cccccc",cursor:"pointer"},activeStyle:{fill:"#e6e6e6"}},a}return fl(a,b),a.prototype.getButtonCfg=function(){return gs(this.buttonCfg,this.cfg)},a.prototype.drawButton=function(){var b=this.getButtonCfg(),c=this.context.view.foregroundGroup.addGroup({name:b.name}),d=c.addShape({type:"text",name:"button-text",attrs:n({text:b.text},b.textStyle)}).getBBox(),a=oG(b.padding),e=c.addShape({type:"rect",name:"button-rect",attrs:n({x:d.x-a[3],y:d.y-a[0],width:d.width+a[1]+a[3],height:d.height+a[0]+a[2]},b.style)});e.toBack(),c.on("mouseenter",function(){e.attr(b.activeStyle)}),c.on("mouseleave",function(){e.attr(b.style)}),this.buttonGroup=c},a.prototype.resetPosition=function(){var a=this.context.view.getCoordinate().convert({x:1,y:1}),b=this.buttonGroup,c=b.getBBox(),d=at(null,[["t",a.x-c.width-10,a.y+c.height+5],]);b.setMatrix(d)},a.prototype.show=function(){this.buttonGroup||this.drawButton(),this.resetPosition(),this.buttonGroup.show()},a.prototype.hide=function(){this.buttonGroup&&this.buttonGroup.hide()},a.prototype.destroy=function(){var a=this.buttonGroup;a&&a.remove(),b.prototype.destroy.call(this)},a}(g),d8=function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.starting=!1,a.dragStart=!1,a}return fl(a,b),a.prototype.start=function(){this.starting=!0,this.startPoint=this.context.getCurrentPoint()},a.prototype.drag=function(){if(this.startPoint){var c=this.context.getCurrentPoint(),b=this.context.view,a=this.context.event;this.dragStart?b.emit("drag",{target:a.target,x:a.x,y:a.y}):og(c,this.startPoint)>4&&(b.emit("dragstart",{target:a.target,x:a.x,y:a.y}),this.dragStart=!0)}},a.prototype.end=function(){if(this.dragStart){var b=this.context.view,a=this.context.event;b.emit("dragend",{target:a.target,x:a.x,y:a.y})}this.starting=!1,this.dragStart=!1},a}(g),d9=function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.starting=!1,a.isMoving=!1,a.startPoint=null,a.startMatrix=null,a}return fl(a,b),a.prototype.start=function(){this.starting=!0,this.startPoint=this.context.getCurrentPoint(),this.startMatrix=this.context.view.middleGroup.getMatrix()},a.prototype.move=function(){if(this.starting){var a=this.startPoint,b=this.context.getCurrentPoint();if(og(a,b)>5&&!this.isMoving&&(this.isMoving=!0),this.isMoving){var c=this.context.view,d=at(this.startMatrix,[["t",b.x-a.x,b.y-a.y],]);c.backgroundGroup.setMatrix(d),c.foregroundGroup.setMatrix(d),c.middleGroup.setMatrix(d)}}},a.prototype.end=function(){this.isMoving&&(this.isMoving=!1),this.startMatrix=null,this.starting=!1,this.startPoint=null},a.prototype.reset=function(){this.starting=!1,this.startPoint=null,this.isMoving=!1;var a=this.context.view;a.backgroundGroup.resetMatrix(),a.foregroundGroup.resetMatrix(),a.middleGroup.resetMatrix(),this.isMoving=!1},a}(g),bZ=function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.dims=["x","y"],a.cfgFields=["dims"],a.cacheScaleDefs={},a}return fl(a,b),a.prototype.hasDim=function(a){return this.dims.includes(a)},a.prototype.getScale=function(b){var a=this.context.view;return"x"===b?a.getXScale():a.getYScales()[0]},a.prototype.resetDim=function(a){var b=this.context.view;if(this.hasDim(a)&&this.cacheScaleDefs[a]){var c=this.getScale(a);b.scale(c.field,this.cacheScaleDefs[a]),this.cacheScaleDefs[a]=null}},a.prototype.reset=function(){this.resetDim("x"),this.resetDim("y"),this.context.view.render(!0)},a}(g),ea=function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.startPoint=null,a.starting=!1,a.startCache={},a}return fl(a,b),a.prototype.start=function(){var a=this;this.startPoint=this.context.getCurrentPoint(),this.starting=!0,I(this.dims,function(c){var b=a.getScale(c),d=b.min,e=b.max,f=b.values;a.startCache[c]={min:d,max:e,values:f}})},a.prototype.end=function(){this.startPoint=null,this.starting=!1,this.startCache={}},a.prototype.translate=function(){var g=this;if(this.starting){var d=this.startPoint,a=this.context.view.getCoordinate(),e=this.context.getCurrentPoint(),b=a.invert(d),c=a.invert(e),h=c.x-b.x,i=c.y-b.y,f=this.context.view;I(this.dims,function(a){g.translateDim(a,{x:-1*h,y:-1*i})}),f.render(!0)}},a.prototype.translateDim=function(a,c){if(this.hasDim(a)){var b=this.getScale(a);b.isLinear&&this.translateLinear(a,b,c)}},a.prototype.translateLinear=function(a,d,g){var h=this.context.view,e=this.startCache[a],b=e.min,c=e.max,f=g[a]*(c-b);this.cacheScaleDefs[a]||(this.cacheScaleDefs[a]={nice:d.nice,min:b,max:c}),h.scale(d.field,{nice:!1,min:b+f,max:c+f})},a.prototype.reset=function(){b.prototype.reset.call(this),this.startPoint=null,this.starting=!1},a}(bZ),eb=function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.zoomRatio=.05,a}return fl(a,b),a.prototype.zoomIn=function(){this.zoom(this.zoomRatio)},a.prototype.zoom=function(a){var b=this;I(this.dims,function(c){b.zoomDim(c,a)}),this.context.view.render(!0)},a.prototype.zoomOut=function(){this.zoom(-1*this.zoomRatio)},a.prototype.zoomDim=function(a,c){if(this.hasDim(a)){var b=this.getScale(a);b.isLinear&&this.zoomLinear(a,b,c)}},a.prototype.zoomLinear=function(c,a,k){var l=this.context.view;this.cacheScaleDefs[c]||(this.cacheScaleDefs[c]={nice:a.nice,min:a.min,max:a.max});var d=this.cacheScaleDefs[c],e=d.max-d.min,f=a.min,g=a.max,b=k*e,h=f-b,i=g+b,j=(i-h)/e;i>h&&j<100&&j>.01&&l.scale(a.field,{nice:!1,min:f-b,max:g+b})},a}(bZ),ec=function(b){function a(){return null!==b&&b.apply(this,arguments)||this}return fl(a,b),a.prototype.scroll=function(e){var f=this.context,a=f.view,i=f.event;if(a.getOptions().scrollbar){var j,m,b=(null==e?void 0:e.wheelDelta)||1,g=a.getController("scrollbar"),h=a.getXScale(),c=gK(fW(a.getOptions().data,h.field)),d=gK(h.values),k=Math.floor((c-d)*g.getValue())+((j=i).gEvent.originalEvent.deltaY>0?b:-b),l=f3(k/(c-d)+b/(c-d)/1e4,0,1);g.setValue(l)}},a}(g),ed=function(b){function a(){return null!==b&&b.apply(this,arguments)||this}return fl(a,b),a.prototype.show=function(){var b=this.context,a=c7(b).axis.cfg.title,g=a.description,d=a.text,h=a.descriptionTooltipStyle,c=b.event,e=c.x,f=c.y;this.tooltip||this.renderTooltip(),this.tooltip.update({title:d||"",customContent:function(){return'\n          <div class="'.concat(cX,'" style={').concat(h,'}>\n            <div class="').concat(cY,'">\n              \u5B57\u6BB5\u8BF4\u660E\uFF1A').concat(g,"\n            </div>\n          </div>\n        ")},x:e,y:f}),this.tooltip.show()},a.prototype.destroy=function(){b.prototype.destroy.call(this),this.tooltip&&this.tooltip.destroy()},a.prototype.hide=function(){this.tooltip&&this.tooltip.hide()},a.prototype.renderTooltip=function(){var a,b=this.context.view.canvas,d={start:{x:0,y:0},end:{x:b.get("width"),y:b.get("height")}},c=new nu({parent:b.get("el").parentNode,region:d,visible:!1,containerId:"aixs-description-tooltip",domStyles:n({},gs({},((a={})[cX]={"max-width":"50%",padding:"10px","line-height":"15px","font-size":"12px",color:"rgba(0, 0, 0, .65)"},a[cY]={"word-break":"break-all","margin-bottom":"3px"},a)))});c.init(),c.setCapture(!1),this.tooltip=c},a}(g);function E(a){return a.isInPlot()}function sg(a){return a.gEvent.preventDefault(),a.gEvent.originalEvent.deltaY>0}function sh(){for(var b=[],a=0;a<arguments.length;a++)b[a]=arguments[a];return function(a){return b.reduce(function(a,b){return b(a)},a)}}function si(a,b){var c={};return null!==a&&"object"==typeof a&&b.forEach(function(b){var d=a[b];void 0!==d&&(c[b]=d)}),c}function sj(a,b){return b?fR(b,function(a,b,c){return a.replace(RegExp("{\\s*"+c+"\\s*}","g"),b)},a):a}bW="dark",bX=c9(dm),db[b8(bW)]=bL(bX),ba("canvas",an),ba("svg",ao),v("Polygon",du),v("Interval",dr),v("Schema",dv),v("Path",aF),v("Point",dt),v("Line",ds),v("Area",dn),v("Edge",dp),v("Heatmap",dq),v("Violin",dw),Y("base",ah),Y("interval",dx),Y("pie",dy),Y("polar",bQ),l("overlap",function(c,a,d,e){var b=new rl;I(a,function(c){for(var d=c.find(function(a){return"text"===a.get("type")}),e=d.attr(),h=e.x,i=e.y,f=!1,a=0;a<=8;a++){var g=rm(d,h,i,a);if(b.hasGap(g)){b.fillGap(g),f=!0;break}}f||c.remove(!0)}),b.destroy()}),l("distribute",function(a,c,h,i){if(a.length&&c.length){var d=a[0]?a[0].offset:0,b=c[0].get("coordinate"),e=b.getRadius(),j=b.getCenter();if(d>0){var f=14,k=2*(e+d)+2*f,l={start:b.start,end:b.end},g=[[],[]];a.forEach(function(a){a&&("right"===a.textAlign?g[0].push(a):g[1].push(a))}),g.forEach(function(a,d){var b=k/f;a.length>b&&(a.sort(function(a,b){return b["..percent"]-a["..percent"]}),a.splice(b,a.length-b)),a.sort(function(a,b){return a.y-b.y}),function(r,k,v,l,w,x){var g,m,b,h=!0,n=l.start,o=l.end,i=Math.min(n.y,o.y),e=Math.abs(n.y-o.y),p=0,s=Number.MIN_VALUE,c=k.map(function(a){return a.y>p&&(p=a.y),a.y<s&&(s=a.y),{size:v,targets:[a.y-i]}});for(s-=i,p-i>e&&(e=p-i);h;)for(c.forEach(function(a){var b=(Math.min.apply(s,a.targets)+Math.max.apply(s,a.targets))/2;a.pos=Math.min(Math.max(s,b-a.size/2),e-a.size)}),h=!1,b=c.length;b--;)if(b>0){var a=c[b-1],j=c[b];a.pos+a.size>j.pos&&(a.size+=j.size,a.targets=a.targets.concat(j.targets),a.pos+a.size>e&&(a.pos=e-a.size),c.splice(b,1),h=!0)}b=0,c.forEach(function(a){var c=i+v/2;a.targets.forEach(function(){k[b].y=a.pos+c,c+=v,b++})});var t={};try{for(var f=fp(r),d=f.next();!d.done;d=f.next()){var q=d.value;t[q.get("id")]=q}}catch(u){g={error:u}}finally{try{d&&!d.done&&(m=f.return)&&m.call(f)}finally{if(g)throw g.error}}k.forEach(function(a){var d=a.r*a.r,e=Math.pow(Math.abs(a.y-w.y),2);if(d<e)a.x=w.x;else{var f=Math.sqrt(d-e);x?a.x=w.x+f:a.x=w.x-f}var b=t[a.id];b.attr("x",a.x),b.attr("y",a.y);var c=fH(b.getChildren(),function(a){return"text"===a.get("type")});c&&(c.attr("y",a.y),c.attr("x",a.x))})}(c,a,f,l,j,d)})}I(a,function(a){if(a&&a.labelLine){var g=a.offset,b=a.angle,c=c4(j.x,j.y,e,b),d=c4(j.x,j.y,e+g/2,b),h=a.x+gB(a,"offsetX",0),i=a.y+gB(a,"offsetY",0),f={x:h-4*Math.cos(b),y:i-4*Math.sin(b)};fC(a.labelLine)||(a.labelLine={}),a.labelLine.path=["M ".concat(c.x),"".concat(c.y," Q").concat(d.x),"".concat(d.y," ").concat(f.x),f.y,].join(",")}})}}),l("fixed-overlap",function(c,a,d,e){var b=new rl;I(a,function(a){!function(c,e,f){void 0===f&&(f=100);var g,h=c.attr(),l=h.x,m=h.y,d=c.getCanvasBBox(),n=Math.sqrt(d.width*d.width+d.height*d.height),o=1,a=0,b=0;if(e.hasGap(d))return e.fillGap(d),!0;for(var i=!1,j=0,k={};Math.min(Math.abs(a),Math.abs(b))<n&&j<f;)if(a=~~(g=function(b){var a=.1*b;return[a*Math.cos(a),a*Math.sin(a)]}(o+=-1))[0],b=~~g[1],(a||b)&&!k["".concat(a,"-").concat(b)]&&(c.attr({x:l+a,y:m+b}),a+b<0&&c.attr("textAlign","right"),j++,e.hasGap(c.getCanvasBBox()))){e.fillGap(c.getCanvasBBox()),i=!0,k["".concat(a,"-").concat(b)]=!0;break}return i}(a.find(function(a){return"text"===a.get("type")}),b)&&a.remove(!0)}),b.destroy()}),l("hide-overlap",function(a,b,c,d){return new Promise(function(g){var c=b.map(function(c,b){return n(n({},o6(c,a[b],gB(a[b],"background.padding"))),{visible:!0})}),e=JSON.stringify(c),d=function(a){return rv.set(e,a),I(a,function(c,d){var e=c.visible,a=b[d];e?null==a||a.show():null==a||a.hide()}),g(a)};if(rv.get(e))d(rv.get(e));else if(rw)try{rw.postMessage(JSON.stringify({type:"hide-overlap",items:c})),rw.onmessage=function(a){return d(Array.isArray(a.data)?a.data:[])},rw.onmessageerror=function(a){console.warn("[AntV G2] Web worker is not available"),d(ru(c))}}catch(f){console.error(f),d(ru(c))}else d(ru(c))})}),l("limit-in-shape",function(b,a,c,d){I(a,function(d,e){var a=d.getCanvasBBox(),b=c[e].getBBox();(a.minX<b.minX||a.minY<b.minY||a.maxX>b.maxX||a.maxY>b.maxY)&&d.remove(!0)})}),l("limit-in-canvas",function(b,a,c,d){I(a,function(m){var g=d.minX,h=d.minY,e=d.maxX,f=d.maxY,a=m.getCanvasBBox(),n=a.minX,o=a.minY,i=a.maxX,j=a.maxY,k=a.x,l=a.y,p=a.width,q=a.height,b=k,c=l;(n<g||i<g)&&(b=g),(o<h||j<h)&&(c=h),n>e?b=e-p:i>e&&(b-=i-e),o>f?c=f-q:j>f&&(c-=j-f),(b!==k||c!==l)&&dg(m,b-k,c-l)})}),l("limit-in-plot",function(n,e,o,p,a){if(!(e.length<=0)){var q=(null==a?void 0:a.direction)||["top","right","bottom","left"],r=(null==a?void 0:a.action)||"translate",m=(null==a?void 0:a.margin)||0,j=e[0].get("coordinate");if(j){var c,b,f,g,k,l,h,i,d=(c=j,void 0===(b=m)&&(b=0),f=c.start,g=c.end,k=c.getWidth(),l=c.getHeight(),h=Math.min(f.x,g.x),i=Math.min(f.y,g.y),nC.fromRange(h-b,i-b,h+k+b,i+l+b)),s=d.minX,t=d.minY,u=d.maxX,v=d.maxY;I(e,function(d){var a=d.getCanvasBBox(),i=a.minX,j=a.minY,e=a.maxX,f=a.maxY,g=a.x,h=a.y,k=a.width,l=a.height,b=g,c=h;if(q.indexOf("left")>=0&&(i<s||e<s)&&(b=s),q.indexOf("top")>=0&&(j<t||f<t)&&(c=t),q.indexOf("right")>=0&&(i>u?b=u-k:e>u&&(b-=e-u)),q.indexOf("bottom")>=0&&(j>v?c=v-l:f>v&&(c-=f-v)),b!==g||c!==h){var m=b-g;"translate"===r?dg(d,m,c-h):"ellipsis"===r?d.findAll(function(a){return"text"===a.get("type")}).forEach(function(a){var b=gE(a.attr(),["fontSize","fontFamily","fontWeight","fontStyle","fontVariant"]),c=a.getCanvasBBox(),d=rE(a.attr("text"),c.width-Math.abs(m),b);a.attr("text",d)}):d.hide()}})}}}),l("pie-outer",function(m,d,u,v){var e,g,f=fw(m,function(a){return!fA(a)}),a=d[0]&&d[0].get("coordinate");if(a){var h=a.getCenter(),n=a.getRadius(),o={};try{for(var c=fp(d),b=c.next();!b.done;b=c.next()){var i=b.value;o[i.get("id")]=i}}catch(p){e={error:p}}finally{try{b&&!b.done&&(g=c.return)&&g.call(c)}finally{if(e)throw e.error}}var q=gB(f[0],"labelHeight",14),j=gB(f[0],"offset",0);if(!(j<=0)){var w="right",k=f0(f,function(a){return a.x<h.x?"left":w}),r=a.start,s=a.end,t=Math.min((n+j+q)*2,a.getHeight()),l=t/2,x={minX:r.x,maxX:s.x,minY:h.y-l,maxY:h.y+l};I(k,function(a,c){var b=Math.floor(t/q);a.length>b&&(a.sort(function(a,b){return b.percent-a.percent}),I(a,function(a,c){c+1>b&&(o[a.id].set("visible",!1),a.invisible=!0)})),rk(a,q,x)}),I(k,function(b,c){I(b,function(b){var d=o[b.id].getChildByIndex(0);if(d){var e=n+j,l=b.y-h.y,f=Math.pow(e,2),g=Math.pow(l,2),i=Math.sqrt(f-g>0?f-g:0),k=Math.abs(Math.cos(b.angle)*e);c===w?b.x=h.x+Math.max(i,k):b.x=h.x-Math.max(i,k)}d&&(d.attr("y",b.y),d.attr("x",b.x)),function(e,k){var a=k.getCenter(),j=k.getRadius();if(e&&e.labelLine){var b=e.angle,g=e.offset,c=c4(a.x,a.y,j,b),o=e.x+gB(e,"offsetX",0)*(Math.cos(b)>0?1:-1),p=e.y+gB(e,"offsetY",0)*(Math.sin(b)>0?1:-1),d={x:o-4*Math.cos(b),y:p-4*Math.sin(b)},q=e.labelLine.smooth,f=[],l=d.x-a.x,r=d.y-a.y,m=Math.atan(r/l);if(l<0&&(m+=Math.PI),!1===q){fC(e.labelLine)||(e.labelLine={});var h=0;(b<0&&b> -Math.PI/2||b>1.5*Math.PI)&&d.y>c.y&&(h=1),b>=0&&b<Math.PI/2&&d.y>c.y&&(h=1),b>=Math.PI/2&&b<Math.PI&&c.y>d.y&&(h=1),(b< -Math.PI/2||b>=Math.PI&&b<1.5*Math.PI)&&c.y>d.y&&(h=1);var s=g/2>4?4:Math.max(g/2-1,0),i=c4(a.x,a.y,j+s,b),n=c4(a.x,a.y,j+g/2,m),t=0;f.push("M ".concat(c.x," ").concat(c.y)),f.push("L ".concat(i.x," ").concat(i.y)),f.push("A ".concat(a.x," ").concat(a.y," 0 ").concat(t," ").concat(h," ").concat(n.x," ").concat(n.y)),f.push("L ".concat(d.x," ").concat(d.y))}else{var v,i=c4(a.x,a.y,j+(g/2>4?4:Math.max(g/2-1,0)),b),u=c.x<a.x?1:-1;f.push("M ".concat(d.x," ").concat(d.y)),Math.abs((c.y-a.y)/(c.x-a.x)-(d.y-a.y)/(d.x-a.x))>11253517471925921e-23&&f.push.apply(f,["C",d.x+4*u,d.y,2*i.x-c.x,2*i.y-c.y,c.x,c.y,]),f.push("L ".concat(c.x," ").concat(c.y))}e.labelLine.path=f.join(" ")}}(b,a)})})}}}),l("adjust-color",function(d,e,a){if(0!==a.length){var c=a[0].get("element").geometry.theme,b=c.labels||{},f=b.fillColorLight,g=b.fillColorDark;a.forEach(function(b,d){var a=e[d].find(function(a){return"text"===a.get("type")}),h=nC.fromObject(b.getBBox()),i=nC.fromObject(a.getCanvasBBox()),j=!h.contains(i),k=b.attr("fill"),l=ry(k);j?a.attr(c.overflowLabels.style):l?f&&a.attr("fill",f):g&&a.attr("fill",g)})}}),l("interval-adjust-position",function(i,g,a){if(0!==a.length){var d,e,h,b,f=null===(b=a[0])|| void 0===b?void 0:b.get("element"),c=null==f?void 0:f.geometry;c&&"interval"===c.type&&(d=c,e=g,h=a,(d.getAdjust("stack")||e.every(function(j,k){var c,e,f,g,i,a,b,l=h[k];return c=d,e=j,f=l,g=c.coordinate,i=o5(e),a=nC.fromObject(i.getCanvasBBox()),b=nC.fromObject(f.getBBox()),g.isTransposed?b.height>=a.height:b.width>=a.width}))&&a.forEach(function(i,j){var d,e,f,h,a,b,k=g[j];d=c,e=k,f=i,h=d.coordinate,a=nC.fromObject(f.getBBox()),b=o5(e),h.isTransposed?b.attr({x:a.minX+a.width/2,textAlign:"center"}):b.attr({y:a.minY+a.height/2,textBaseline:"middle"})}))}}),l("interval-hide-overlap",function(p,n,f){if(0!==f.length){var c,q,g=null===(c=f[0])|| void 0===c?void 0:c.get("element"),d=null==g?void 0:g.geometry;if(d&&"interval"===d.type){var h,i,o,e=(i=[],o=Math.max(Math.floor((h=n).length/500),1),I(h,function(a,b){b%o==0?i.push(a):a.set("visible",!1)}),i),r=fq(d.getXYFields(),1)[0],j=[],k=[],l=f0(e,function(a){return a.get("data")[r]}),a=fV(gx(e,function(a){return a.get("data")[r]}));e.forEach(function(a){a.set("visible",!0)});var m=function(a){a&&(a.length&&k.push(a.pop()),k.push.apply(k,fs([],fq(a),!1)))};for(gK(a)>0&&m(l[a.shift()]),gK(a)>0&&m(l[a.pop()]),I(a.reverse(),function(a){m(l[a])});k.length>0;){var b=k.shift();b.get("visible")&&(o7(b,j)?b.set("visible",!1):j.push(b))}}}}),l("point-adjust-position",function(h,i,d,k,e){if(0!==d.length){var a,b,f=null===(a=d[0])|| void 0===a?void 0:a.get("element"),c=null==f?void 0:f.geometry;if(c&&"point"===c.type){var g=fq(c.getXYFields(),2),l=g[0],m=g[1],j=f0(i,function(a){return a.get("data")[l]}),n=[],o=e&&e.offset||(null===(b=h[0])|| void 0===b?void 0:b.offset)||12;gx(fD(j).reverse(),function(k){for(var f,g,p,a,b,h=(f=c,g=j[k],p=f.getXYFields()[1],a=[],(b=g.sort(function(a,b){return a.get("data")[p]-a.get("data")[p]})).length>0&&a.push(b.shift()),b.length>0&&a.push(b.pop()),a.push.apply(a,fs([],fq(b),!1)),a);h.length;){var d=h.shift(),e=o5(d);if(rz(n,d,function(a,b){return a.get("data")[l]===b.get("data")[l]&&a.get("data")[m]===b.get("data")[m]})){e.set("visible",!1);continue}var q=rA(n,d),i=!1;if(q&&(e.attr("y",e.attr("y")+2*o),i=rA(n,d)),i){e.set("visible",!1);continue}n.push(d)}})}}}),l("pie-spider",function(c,e,t,u){var f,h,a=e[0]&&e[0].get("coordinate");if(a){var i=a.getCenter(),m=a.getRadius(),n={};try{for(var d=fp(e),b=d.next();!b.done;b=d.next()){var j=b.value;n[j.get("id")]=j}}catch(o){f={error:o}}finally{try{b&&!b.done&&(h=d.return)&&h.call(d)}finally{if(f)throw f.error}}var p=gB(c[0],"labelHeight",14),q=Math.max(gB(c[0],"offset",0),4);I(c,function(a){if(a&&gB(n,[a.id])){var b=a.x>i.x||a.x===i.x&&a.y>i.y,c=fA(a.offsetX)?4:a.offsetX,d=c4(i.x,i.y,m+4,a.angle),e=q+c;a.x=i.x+(b?1:-1)*(m+e),a.y=d.y}});var r=a.start,s=a.end,v="right",g=f0(c,function(a){return a.x<i.x?"left":v}),k=(m+q)*2+p;I(g,function(b){var a=b.length*p;a>k&&(k=Math.min(a,Math.abs(r.y-s.y)))});var l={minX:r.x,maxX:s.x,minY:i.y-k/2,maxY:i.y+k/2};I(g,function(a,c){var b=k/p;a.length>b&&(a.sort(function(a,b){return b.percent-a.percent}),I(a,function(a,c){c>b&&(n[a.id].set("visible",!1),a.invisible=!0)})),rk(a,p,l)});var w=l.minY,x=l.maxY;I(g,function(b,c){var d=c===v;I(b,function(b){var e=gB(n,b&&[b.id]);if(e){if(b.y<w||b.y>x){e.set("visible",!1);return}var f=e.getChildByIndex(0),c=f.getCanvasBBox(),g={x:d?c.x:c.maxX,y:c.y+c.height/2};dg(f,b.x-g.x,b.y-g.y),b.labelLine&&function(e,h,i){var g=h.getCenter(),j=h.getRadius(),d={x:e.x-(i?4:-4),y:e.y},b=c4(g.x,g.y,j+4,e.angle),c={x:d.x,y:d.y},a={x:b.x,y:b.y},k=c4(g.x,g.y,j,e.angle),l="";if(d.y!==b.y){var f=i?4:-4;c.y=d.y,e.angle<0&&e.angle>= -Math.PI/2&&(c.x=Math.max(b.x,d.x-f),d.y<b.y?a.y=c.y:(a.y=b.y,a.x=Math.max(a.x,c.x-f))),e.angle>0&&e.angle<Math.PI/2&&(c.x=Math.max(b.x,d.x-f),d.y>b.y?a.y=c.y:(a.y=b.y,a.x=Math.max(a.x,c.x-f))),e.angle>Math.PI/2&&(c.x=Math.min(b.x,d.x-f),d.y>b.y?a.y=c.y:(a.y=b.y,a.x=Math.min(a.x,c.x-f))),e.angle< -Math.PI/2&&(c.x=Math.min(b.x,d.x-f),d.y<b.y?a.y=c.y:(a.y=b.y,a.x=Math.min(a.x,c.x-f)))}l=["M ".concat(d.x,",").concat(d.y),"L ".concat(c.x,",").concat(c.y),"L ".concat(a.x,",").concat(a.y),"L ".concat(b.x,",").concat(b.y),"L ".concat(k.x,",").concat(k.y),].join(" "),e.labelLine=gs({},e.labelLine,{path:l})}(b,a,d)}})})}}),l("path-adjust-position",function(h,i,d,k,e){if(0!==d.length){var a,b,f=null===(a=d[0])|| void 0===a?void 0:a.get("element"),c=null==f?void 0:f.geometry;if(!(!c||0>["path","line","area"].indexOf(c.type))){var g=fq(c.getXYFields(),2),l=g[0],m=g[1],j=f0(i,function(a){return a.get("data")[l]}),n=[],o=e&&e.offset||(null===(b=h[0])|| void 0===b?void 0:b.offset)||12;gx(fD(j).reverse(),function(k){for(var f,g,p,a,b,h=(f=c,g=j[k],p=f.getXYFields()[1],a=[],(b=g.sort(function(a,b){return a.get("data")[p]-a.get("data")[p]})).length>0&&a.push(b.shift()),b.length>0&&a.push(b.pop()),a.push.apply(a,fs([],fq(b),!1)),a);h.length;){var d=h.shift(),e=o5(d);if(rB(n,d,function(a,b){return a.get("data")[l]===b.get("data")[l]&&a.get("data")[m]===b.get("data")[m]})){e.set("visible",!1);continue}var q=rC(n,d),i=!1;if(q&&(e.attr("y",e.attr("y")+2*o),i=rC(n,d)),i){e.set("visible",!1);continue}n.push(d)}})}}}),m("fade-in",function(a,b,d){var c={fillOpacity:fA(a.attr("fillOpacity"))?1:a.attr("fillOpacity"),strokeOpacity:fA(a.attr("strokeOpacity"))?1:a.attr("strokeOpacity"),opacity:fA(a.attr("opacity"))?1:a.attr("opacity")};a.attr({fillOpacity:0,strokeOpacity:0,opacity:0}),a.animate(c,b)}),m("fade-out",function(b,a,f){var c=a.easing,d=a.duration,e=a.delay;b.animate({fillOpacity:0,strokeOpacity:0,opacity:0},d,c,function(){b.remove(!0)},e)}),m("grow-in-x",function(b,c,a){var d=a.coordinate,e=a.minYPoint;rF(b,c,d,e,"x")}),m("grow-in-xy",function(b,c,a){var d=a.coordinate,e=a.minYPoint;rF(b,c,d,e,"xy")}),m("grow-in-y",function(b,c,a){var d=a.coordinate,e=a.minYPoint;rF(b,c,d,e,"y")}),m("scale-in-x",function(a,f,h){var d=a.getBBox(),e=a.get("origin").mappingData.points,b=e[0].y-e[1].y>0?d.maxX:d.minX,c=(d.minY+d.maxY)/2;a.applyToMatrix([b,c,1]);var g=at(a.getMatrix(),[["t",-b,-c],["s",.01,1],["t",b,c],]);a.setMatrix(g),a.animate({matrix:at(a.getMatrix(),[["t",-b,-c],["s",100,1],["t",b,c],])},f)}),m("scale-in-y",function(a,f,i){var d=a.getBBox(),g=a.get("origin").mappingData,b=(d.minX+d.maxX)/2,e=g.points,c=e[0].y-e[1].y<=0?d.maxY:d.minY;a.applyToMatrix([b,c,1]);var h=at(a.getMatrix(),[["t",-b,-c],["s",1,.01],["t",b,c],]);a.setMatrix(h),a.animate({matrix:at(a.getMatrix(),[["t",-b,-c],["s",1,100],["t",b,c],])},f)}),m("wave-in",function(c,d,a){var b=nG(a.coordinate,20),e=b.type,f=b.startState,g=b.endState,h=c.setClip({type:e,attrs:f});a.toAttrs&&c.attr(a.toAttrs),h.animate(g,n(n({},d),{callback:function(){c&&!c.get("destroyed")&&c.set("clipShape",null),h.remove(!0)}}))}),m("zoom-in",function(a,b,c){rJ(a,b,"zoomIn")}),m("zoom-out",function(a,b,c){rJ(a,b,"zoomOut")}),m("position-update",function(b,c,d){var a=d.toAttrs,e=a.x,f=a.y;delete a.x,delete a.y,b.attr(a),b.animate({x:e,y:f},c)}),m("sector-path-update",function(c,f,d){var g=d.toAttrs,h=d.coordinate,a=g.path||[],p=a.map(function(a){return a[0]});if(!(a.length<1)){var b=rI(a),i=b.startAngle,j=b.endAngle,q=b.radius,r=b.innerRadius,e=rI(c.attr("path")),k=e.startAngle,l=e.endAngle,s=h.getCenter(),m=i-k,o=j-l;if(0===m&&0===o){c.attr("path",a);return}c.animate(function(a){var b=k+a*m,c=l+a*o;return n(n({},g),{path:gw(p,["M","A","A","Z"])?nx(s.x,s.y,q,b,c):c5(s.x,s.y,q,b,c,r)})},n(n({},f),{callback:function(){c.attr("path",a)}}))}}),m("path-in",function(a,b,d){var c=a.getTotalLength();a.attr("lineDash",[c]),a.animate(function(a){return{lineDashOffset:(1-a)*c}},b)}),N("rect",dE),N("mirror",dD),N("list",dB),N("matrix",dC),N("circle",dA),N("tree",dF),F("axis",dH),F("legend",dI),F("tooltip",bM),F("annotation",dG),F("slider",dJ),F("scrollbar",dK),a("tooltip",bR),a("sibling-tooltip",dM),a("ellipsis-text",dN),a("element-active",dO),a("element-single-active",dR),a("element-range-active",dQ),a("element-highlight",aK),a("element-highlight-by-x",dT),a("element-highlight-by-color",dS),a("element-single-highlight",dU),a("element-range-highlight",bS),a("element-sibling-highlight",bS,{effectSiblings:!0,effectByRecord:!0}),a("element-selected",dW),a("element-single-selected",dX),a("element-range-selected",dV),a("element-link-by-color",dP),a("active-region",dL),a("list-active",dY),a("list-selected",dZ),a("list-highlight",aL),a("list-unchecked",d$),a("list-checked",d_),a("list-focus",d0),a("list-radio",d1),a("legend-item-highlight",aL,{componentNames:["legend"]}),a("axis-label-highlight",aL,{componentNames:["axis"]}),a("axis-description",ed),a("rect-mask",bT),a("x-rect-mask",bU,{dim:"x"}),a("y-rect-mask",bU,{dim:"y"}),a("circle-mask",d2),a("path-mask",bV),a("smooth-path-mask",d3),a("cursor",d4),a("data-filter",d5),a("brush",aj),a("brush-x",aj,{dims:["x"]}),a("brush-y",aj,{dims:["y"]}),a("sibling-filter",aN),a("sibling-x-filter",aN),a("sibling-y-filter",aN),a("element-filter",d6),a("element-sibling-filter",bY),a("element-sibling-filter-record",bY,{byRecord:!0}),a("view-drag",d8),a("view-move",d9),a("scale-translate",ea),a("scale-zoom",eb),a("reset-button",d7,{name:"reset-button",text:"reset"}),a("mousewheel-scroll",ec),b("tooltip",{start:[{trigger:"plot:mousemove",action:"tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:touchmove",action:"tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}},],end:[{trigger:"plot:mouseleave",action:"tooltip:hide"},{trigger:"plot:leave",action:"tooltip:hide"},{trigger:"plot:touchend",action:"tooltip:hide"},]}),b("ellipsis-text",{start:[{trigger:"legend-item-name:mousemove",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"legend-item-name:touchstart",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"axis-label:mousemove",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"axis-label:touchstart",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},],end:[{trigger:"legend-item-name:mouseleave",action:"ellipsis-text:hide"},{trigger:"legend-item-name:touchend",action:"ellipsis-text:hide"},{trigger:"axis-label:mouseleave",action:"ellipsis-text:hide"},{trigger:"axis-label:mouseout",action:"ellipsis-text:hide"},{trigger:"axis-label:touchend",action:"ellipsis-text:hide"},]}),b("element-active",{start:[{trigger:"element:mouseenter",action:"element-active:active"}],end:[{trigger:"element:mouseleave",action:"element-active:reset"}]}),b("element-selected",{start:[{trigger:"element:click",action:"element-selected:toggle"}]}),b("element-highlight",{start:[{trigger:"element:mouseenter",action:"element-highlight:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight:reset"}]}),b("element-highlight-by-x",{start:[{trigger:"element:mouseenter",action:"element-highlight-by-x:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight-by-x:reset"}]}),b("element-highlight-by-color",{start:[{trigger:"element:mouseenter",action:"element-highlight-by-color:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight-by-color:reset"}]}),b("legend-active",{start:[{trigger:"legend-item:mouseenter",action:["list-active:active","element-active:active"]}],end:[{trigger:"legend-item:mouseleave",action:["list-active:reset","element-active:reset"]}]}),b("legend-highlight",{start:[{trigger:"legend-item:mouseenter",action:["legend-item-highlight:highlight","element-highlight:highlight"]},],end:[{trigger:"legend-item:mouseleave",action:["legend-item-highlight:reset","element-highlight:reset"]}]}),b("axis-label-highlight",{start:[{trigger:"axis-label:mouseenter",action:["axis-label-highlight:highlight","element-highlight:highlight"]},],end:[{trigger:"axis-label:mouseleave",action:["axis-label-highlight:reset","element-highlight:reset"]}]}),b("element-list-highlight",{start:[{trigger:"element:mouseenter",action:["list-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"element:mouseleave",action:["list-highlight:reset","element-highlight:reset"]}]}),b("element-range-highlight",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"mask:mouseenter",action:"cursor:move"},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"},],start:[{trigger:"plot:mousedown",isEnable:function(a){return!a.isInShape("mask")},action:["rect-mask:start","rect-mask:show"]},{trigger:"mask:dragstart",action:["rect-mask:moveStart"]},],processing:[{trigger:"plot:mousemove",action:["rect-mask:resize"]},{trigger:"mask:drag",action:["rect-mask:move"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]},],end:[{trigger:"plot:mouseup",action:["rect-mask:end"]},{trigger:"mask:dragend",action:["rect-mask:moveEnd"]},{trigger:"document:mouseup",isEnable:function(a){return!a.isInPlot()},action:["element-range-highlight:clear","rect-mask:end","rect-mask:hide"]},],rollback:[{trigger:"dblclick",action:["element-range-highlight:clear","rect-mask:hide"]}]}),b("brush",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"},],start:[{trigger:"mousedown",isEnable:E,action:["brush:start","rect-mask:start","rect-mask:show"]},],processing:[{trigger:"mousemove",isEnable:E,action:["rect-mask:resize"]},],end:[{trigger:"mouseup",isEnable:E,action:["brush:filter","brush:end","rect-mask:end","rect-mask:hide","reset-button:show"]},],rollback:[{trigger:"reset-button:click",action:["brush:reset","reset-button:hide","cursor:crosshair"]}]}),b("brush-visible",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"},],start:[{trigger:"plot:mousedown",action:["rect-mask:start","rect-mask:show"]},],processing:[{trigger:"plot:mousemove",action:["rect-mask:resize"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]},],end:[{trigger:"plot:mouseup",action:["rect-mask:end","rect-mask:hide","element-filter:filter","element-range-highlight:clear"]},],rollback:[{trigger:"dblclick",action:["element-filter:clear"]},]}),b("brush-x",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"},],start:[{trigger:"mousedown",isEnable:E,action:["brush-x:start","x-rect-mask:start","x-rect-mask:show"]},],processing:[{trigger:"mousemove",isEnable:E,action:["x-rect-mask:resize"]},],end:[{trigger:"mouseup",isEnable:E,action:["brush-x:filter","brush-x:end","x-rect-mask:end","x-rect-mask:hide"]},],rollback:[{trigger:"dblclick",action:["brush-x:reset"]}]}),b("element-path-highlight",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"},],start:[{trigger:"mousedown",isEnable:E,action:"path-mask:start"},{trigger:"mousedown",isEnable:E,action:"path-mask:show"},],processing:[{trigger:"mousemove",action:"path-mask:addPoint"}],end:[{trigger:"mouseup",action:"path-mask:end"}],rollback:[{trigger:"dblclick",action:"path-mask:hide"}]}),b("element-single-selected",{start:[{trigger:"element:click",action:"element-single-selected:toggle"}]}),b("legend-filter",{showEnable:[{trigger:"legend-item:mouseenter",action:["cursor:pointer","list-radio:show"]},{trigger:"legend-item:mouseleave",action:["cursor:default","list-radio:hide"]},],start:[{trigger:"legend-item:click",isEnable:function(a){return!a.isInShape("legend-item-radio")},action:["list-unchecked:toggle","data-filter:filter","list-radio:show"]},{trigger:"legend-item-radio:mouseenter",action:["list-radio:showTip"]},{trigger:"legend-item-radio:mouseleave",action:["list-radio:hideTip"]},{trigger:"legend-item-radio:click",action:["list-focus:toggle","data-filter:filter","list-radio:show"]},]}),b("continuous-filter",{start:[{trigger:"legend:valuechanged",action:"data-filter:filter"}]}),b("continuous-visible-filter",{start:[{trigger:"legend:valuechanged",action:"element-filter:filter"}]}),b("legend-visible-filter",{showEnable:[{trigger:"legend-item:mouseenter",action:"cursor:pointer"},{trigger:"legend-item:mouseleave",action:"cursor:default"},],start:[{trigger:"legend-item:click",action:["list-unchecked:toggle","element-filter:filter"]}]}),b("active-region",{start:[{trigger:"plot:mousemove",action:"active-region:show"}],end:[{trigger:"plot:mouseleave",action:"active-region:hide"}]}),b("axis-description",{start:[{trigger:"axis-description:mousemove",action:"axis-description:show"}],end:[{trigger:"axis-description:mouseleave",action:"axis-description:hide"}]}),b("view-zoom",{start:[{trigger:"plot:mousewheel",isEnable:function(a){return sg(a.event)},action:"scale-zoom:zoomOut",throttle:{wait:100,leading:!0,trailing:!1}},{trigger:"plot:mousewheel",isEnable:function(a){return!sg(a.event)},action:"scale-zoom:zoomIn",throttle:{wait:100,leading:!0,trailing:!1}},]}),b("sibling-tooltip",{start:[{trigger:"plot:mousemove",action:"sibling-tooltip:show"}],end:[{trigger:"plot:mouseleave",action:"sibling-tooltip:hide"}]}),b("plot-mousewheel-scroll",{start:[{trigger:"plot:mousewheel",action:"mousewheel-scroll:scroll"}]}),(u2=aS||(aS={})).ERROR="error",u2.WARN="warn",u2.INFO="log";function sk(b){for(var c=[],a=1;a<arguments.length;a++)c[a-1]=arguments[a];var d=0;return"AntV/G2Plot: "+b.replace(/%s/g,function(){return""+c[d++]})}function sl(c,d,e){for(var b=[],a=3;a<arguments.length;a++)b[a-3]=arguments[a];d||console[c](sk.apply(void 0,fr([e],b)))}function sm(b){if(!b)return{width:0,height:0};var a=getComputedStyle(b);return{width:(b.clientWidth||parseInt(a.width,10))-parseInt(a.paddingLeft,10)-parseInt(a.paddingRight,10),height:(b.clientHeight||parseInt(a.height,10))-parseInt(a.paddingTop,10)-parseInt(a.paddingBottom,10)}}function sn(a,b){return a.geometries.find(function(a){return a.type===b})}function so(a){return fR(a.geometries,function(a,b){return a.concat(b.elements)},[])}function sp(a){return 0>=gB(a,["views","length"],0)?so(a):fR(a.views,function(a,b){return a.concat(sp(b))},so(a))}function sq(a,b){return a.views.find(function(a){return a.id===b})}function sr(b){var a=b.parent;return a?a.views:[]}function ss(a){return sr(a).filter(function(b){return b!==a})}function st(b){if(!fy(b,"Object"))return b;var a=n({},b);return a.formatter&&!a.content&&(a.content=a.formatter),a}var su=function(b,s,q,m){var j,k,d,e,g=[],r=!!m;if(r){d=[1/0,1/0],e=[-1/0,-1/0];for(var a=0,t=b.length;a<t;a++){var c=b[a];d=hM([0,0],d,c),e=hN([0,0],e,c)}d=hM([0,0],d,m[0]),e=hN([0,0],e,m[1])}for(var a=0,l=b.length;a<l;a++){var c=b[a];if(q)j=b[a?a-1:l-1],k=b[(a+1)%l];else{if(0===a||a===l-1){g.push(c);continue}j=b[a-1],k=b[a+1]}var f=[0,0];f=hU(f,k,j),f=hO(f,f,s);var n=hP(c,j),o=hP(c,k),p=n+o;0!==p&&(n/=p,o/=p);var u=hO([0,0],f,-n),v=hO([0,0],f,o),h=hL([0,0],c,u),i=hL([0,0],c,v);r&&(h=hN([0,0],h,d),h=hM([0,0],h,e),i=hN([0,0],i,d),i=hM([0,0],i,e)),g.push(h),g.push(i)}return q&&g.push(g.shift()),g},sv={}.toString,sw=function(a,b){return sv.call(a)==="[object "+b+"]"},sx=function(a){if("object"!=typeof(c=a)||null===c||!sw(a,"Object"))return!1;for(var c,b=a;null!==Object.getPrototypeOf(b);)b=Object.getPrototypeOf(b);return Object.getPrototypeOf(a)===b},sy=function(b,d,e,f){for(var a in e=e||0,f=f||5,d)if(Object.prototype.hasOwnProperty.call(d,a)){var g,c=d[a];c?sx(c)?(sx(b[a])||(b[a]={}),e<f?sy(b[a],c,e+1,f):b[a]=d[a]):sw(g=c,"Array")?(b[a]=[],b[a]=b[a].concat(c)):b[a]=c:b[a]=c}},i=function(d){for(var b=[],a=1;a<arguments.length;a++)b[a-1]=arguments[a];for(var c=0;c<b.length;c+=1)sy(d,b[c]);return d};function sz(a){return a?a.match(/(([A-Z]{0,1}[a-z]*[^A-Z])|([A-Z]{1}))/g).map(function(a){return a.toLowerCase()}).join("-"):a}function sA(a){var b={overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis",display:"flex",justifyContent:"center",alignItems:"center"},d=["stroke","lineWidth","shadowColor","strokeOpacity","shadowBlur","shadowOffsetX","shadowOffsetY","fill",];gB(a,"fill")&&(b.color=a.fill);var c=si(a,d),j=c.shadowColor,e=c.shadowBlur,f=c.shadowOffsetX,g=c.shadowOffsetY;b["text-shadow"]=""+[j,(void 0===f?0:f)+"px",(void 0===g?0:g)+"px",(void 0===e?0:e)+"px"].join(" ");var h=si(a,d),k=h.stroke,i=h.lineWidth;return b["-webkit-text-stroke"]=""+[(void 0===i?0:i)+"px",k].join(" "),I(a,function(c,a){["fontSize"].includes(a)&&f5(c)?b[sz(a)]=c+"px":a&&!d.includes(a)&&(b[sz(a)]=""+c)}),b}function sB(a,b){a.style["pointer-events"]="none",I(b,function(b,c){c&&b&&(a.style[c]=b)})}var sC=function(e,a,f){var b=a.statistic,g=a.plotType,c=b.title,d=b.content;[c,d].forEach(function(a,b){if(a){var h="";h=0===b?d?"translate(-50%, -100%)":"translate(-50%, -50%)":c?"translate(-50%, 0)":"translate(-50%, -50%)";var i=fz(a.style)?a.style(f):a.style;e.annotation().html(n({position:["50%","50%"],html:function(j,d){var e=d.getCoordinate(),b=0;if("pie"===g||"ring-progress"===g)b=e.getRadius()*e.innerRadius*2;else if("liquid"===g){var k=gB(d.geometries,[0,"elements",0,"shape"]);k&&(b=k.find(function(a){return"wrap"===a.get("name")}).getCanvasBBox().width)}else b||(b=e.getWidth());sB(j,n({width:b+"px",transform:h},sA(i)));var l=d.getData();if(a.customHtml)return a.customHtml(j,d,f,l);var c=a.content;return a.formatter&&(c=a.formatter(f,l)),c?fT(c)?c:""+c:"<div></div>"},key:(0===b?"top":"bottom")+"-statistic"},si(a,["offsetX","offsetY","rotate","style","formatter"])))}})},sD=function(e,b,f){var a=b.statistic,c=a.title,d=a.content;[c,d].forEach(function(a){if(a){var b=fz(a.style)?a.style(f):a.style;e.annotation().html(n({position:["50%","100%"],html:function(h,d){var g=d.getCoordinate(),e=d.views[0].getCoordinate(),j=e.getCenter(),k=e.getRadius(),l=Math.max(Math.sin(e.startAngle),Math.sin(e.endAngle))*k,m=j.y+l-g.y.start-parseFloat(gB(b,"fontSize",0)),o=g.getRadius()*g.innerRadius*2;sB(h,n({width:o+"px",transform:"translate(-50%, "+m+"px)"},sA(b)));var i=d.getData();if(a.customHtml)return a.customHtml(h,d,f,i);var c=a.content;return a.formatter&&(c=a.formatter(f,i)),c?fT(c)?c:""+c:"<div></div>"}},si(a,["offsetX","offsetY","rotate","style","formatter"])))}})};function sE(a){return"number"==typeof a&&!isNaN(a)}function sF(a,e){if(!a)return{};var b=a.filter(function(b){var a=gB(b,[e]);return f5(a)&&!isNaN(a)}),c=b.every(function(a){return gB(a,[e])>=0}),d=b.every(function(a){return 0>=gB(a,[e])});return c?{min:0}:d?{max:0}:{}}function sG(a,e,f,g,b){if(void 0===b&&(b=[]),!Array.isArray(a))return{nodes:[],links:[]};var c=[],d={},h=-1;return a.forEach(function(a){var i=a[e],j=a[f],l=a[g],k=si(a,b);d[i]||(d[i]=n({id:++h,name:i},k)),d[j]||(d[j]=n({id:++h,name:j},k)),c.push(n({source:d[i].id,target:d[j].id,value:l},k))}),{nodes:Object.values(d).sort(function(a,b){return a.id-b.id}),links:c}}function sH(a,c){var b=fw(a,function(b){var a=b[c];return null===a||"number"==typeof a&&!isNaN(a)});return sl(aS.WARN,b.length===a.length,"illegal data existed in chart data."),b}function sI(a){if(f5(a))return[a,a,a,a];if(fB(a)){var b=a.length;if(1===b)return[a[0],a[0],a[0],a[0]];if(2===b)return[a[0],a[1],a[0],a[1]];if(3===b)return[a[0],a[1],a[2],a[1]];if(4===b)return a}return[0,0,0,0]}function sJ(e,a,b){void 0===a&&(a="bottom"),void 0===b&&(b=25);var c=sI(e),d=[a.startsWith("top")?b:0,a.startsWith("right")?b:0,a.startsWith("bottom")?b:0,a.startsWith("left")?b:0,];return[c[0]+d[0],c[1]+d[1],c[2]+d[2],c[3]+d[3],]}function sK(b){var c=b.map(function(a){return sI(a)}),a=[0,0,0,0];return c.length>0&&(a=a.map(function(a,b){return c.forEach(function(e,d){a+=c[d][b]}),a})),a}J(function(b,a){void 0===a&&(a={});var e=a.fontSize,c=a.fontFamily,f=a.fontWeight,g=a.fontStyle,h=a.fontVariant,d=(fj||(fj=document.createElement("canvas").getContext("2d")),fj);d.font=[g,f,h,e+"px",void 0===c?"sans-serif":c].join(" ");var i=d.measureText(fT(b)?b:"");return i.width},function(b,a){return void 0===a&&(a={}),fr([b],ge(a)).join("")});var sL={locale:"en-US"},sM={};function b$(a,b){sM[a]=b}function sN(a){return{get:function(b,c){return sj(gB(sM[a],b)||gB(sM[sL.locale],b)||gB(sM["en-US"],b)||b,c)}}}var sO=d(8587),sP="data-chart-source-type",sQ=["padding","appendPadding","renderer","pixelRatio","syncViewPadding","supportCSSTransform","limitInPlot",],c=function(b){function a(c,d){var a=b.call(this)||this;return a.container="string"==typeof c?document.getElementById(c):c,a.options=i({},a.getDefaultOptions(),d),a.createG2(),a.bindEvents(),a}return fl(a,b),a.getDefaultOptions=function(){return{renderer:"canvas",xAxis:{nice:!0,label:{autoRotate:!1,autoHide:{type:"equidistance",cfg:{minGap:6}}}},yAxis:{nice:!0,label:{autoHide:!0,autoRotate:!1}},animation:!0}},a.prototype.createG2=function(){var a=this.options,b=a.width,c=a.height,d=a.defaultInteractions;this.chart=new oP(n(n(n(n({container:this.container,autoFit:!1},this.getChartSize(b,c)),{localRefresh:!1}),si(this.options,sQ)),{defaultInteractions:d})),this.container.setAttribute(sP,"G2Plot")},a.prototype.getChartSize=function(b,c){var a=sm(this.container);return{width:b||a.width||400,height:c||a.height||400}},a.prototype.bindEvents=function(){var a=this;this.chart&&this.chart.on("*",function(b){(null==b?void 0:b.type)&&a.emit(b.type,b)})},a.prototype.getDefaultOptions=function(){return a.getDefaultOptions()},a.prototype.render=function(){this.chart.clear(),this.chart.options={data:[],animate:!0},this.chart.views=[],this.execAdaptor(),this.chart.render(),this.bindSizeSensor()},a.prototype.update=function(a){this.updateOption(a),this.render()},a.prototype.updateOption=function(a){this.options=i({},this.options,a)},a.prototype.setState=function(c,d,a){void 0===a&&(a=!0);var b=sp(this.chart);I(b,function(b){d(b.getData())&&b.setState(c,a)})},a.prototype.getStates=function(){var a=sp(this.chart),b=[];return I(a,function(a){var c=a.getData();I(a.getStates(),function(d){b.push({data:c,state:d,geometry:a.geometry,element:a})})}),b},a.prototype.changeData=function(a){this.update({data:a})},a.prototype.changeSize=function(a,b){this.chart.changeSize(a,b)},a.prototype.addAnnotations=function(d,a){a=a||this.chart;var e=fr(d),c=a.getController("annotation"),f=c.getComponents().map(function(a){return a.extra});c.clear(!0);for(var b=0;b<f.length;b++)!function(d){var a=f[d],b=e.findIndex(function(b){return b.id&&b.id===a.id});-1!==b&&(a=i({},a,e[b]),e.splice(b,1)),c.annotation(a)}(b);e.forEach(function(a){return c.annotation(a)}),a.render(!0)},a.prototype.removeAnnotations=function(d){var b=this.chart.getController("annotation"),c=b.getComponents().map(function(a){return a.extra});b.clear(!0);for(var a=0;a<c.length;a++)!function(a){var e=c[a];d.find(function(a){return a.id&&a.id===e.id})||b.annotation(e)}(a);this.chart.render(!0)},a.prototype.destroy=function(){this.unbindSizeSensor(),this.chart.destroy(),this.off(),this.container.removeAttribute(sP)},a.prototype.execAdaptor=function(){var b=this.getSchemaAdaptor(),a=this.options,c=a.padding,d=a.appendPadding;this.chart.padding=c,this.chart.appendPadding=d,b({chart:this.chart,options:this.options})},a.prototype.triggerResize=function(){this.chart.forceFit()},a.prototype.bindSizeSensor=function(){var b=this;if(!this.unbind){var a=this.options.autoFit;(void 0===a||a)&&(this.unbind=(0,sO.ak)(this.container,function(){var a=sm(b.container),c=a.width,d=a.height;(c!==b.chart.width||d!==b.chart.height)&&b.triggerResize()}))}},a.prototype.unbindSizeSensor=function(){this.unbind&&(this.unbind(),this.unbind=void 0)},a}(aq),sR=["type","alias","tickCount","tickInterval","min","max","nice","minLimit","maxLimit","range","tickMethod","base","exponent","mask","sync",];function sS(){return"object"==typeof window?null==window?void 0:window.devicePixelRatio:2}function sT(d,b){void 0===b&&(b=d);var a=document.createElement("canvas"),c=sS();return a.width=d*c,a.height=b*c,a.style.width=d+"px",a.style.height=b+"px",a.getContext("2d").scale(c,c),a}function sU(a,c,d,b){void 0===b&&(b=d);var e=c.backgroundColor,f=c.opacity;a.globalAlpha=f,a.fillStyle=e,a.beginPath(),a.fillRect(0,0,d,b),a.closePath()}function sV(b,c,d){var a=b+c;return d?2*a:a}function sW(a,b){return b?[[.25*a,.25*a],[.75*a,.75*a],]:[[.5*a,.5*a]]}function sX(a,c){var b=c*Math.PI/180;return{a:Math.cos(b)*(1/a),b:Math.sin(b)*(1/a),c:-Math.sin(b)*(1/a),d:Math.cos(b)*(1/a),e:0,f:0}}var sY={size:6,padding:2,backgroundColor:"transparent",opacity:1,rotation:0,fill:"#fff",fillOpacity:.5,stroke:"transparent",lineWidth:0,isStagger:!0};function sZ(a,b,d,e){var f=b.size,g=b.fill,c=b.lineWidth,h=b.stroke,i=b.fillOpacity;a.beginPath(),a.globalAlpha=i,a.fillStyle=g,a.strokeStyle=h,a.lineWidth=c,a.arc(d,e,f/2,0,2*Math.PI,!1),a.fill(),c&&a.stroke(),a.closePath()}var s$={rotation:45,spacing:5,opacity:1,backgroundColor:"transparent",strokeOpacity:.5,stroke:"#fff",lineWidth:2},s_={size:6,padding:1,isStagger:!0,backgroundColor:"transparent",opacity:1,rotation:0,fill:"#fff",fillOpacity:.5,stroke:"transparent",lineWidth:0};function s0(b,c,d,e){var f=c.stroke,a=c.size,g=c.fill,h=c.lineWidth,i=c.fillOpacity;b.globalAlpha=i,b.strokeStyle=f,b.lineWidth=h,b.fillStyle=g,b.strokeRect(d-a/2,e-a/2,a,a),b.fillRect(d-a/2,e-a/2,a,a)}function s1(a){var b=this;return function(c){var d,e=c.options,g=c.chart,f=e.pattern;return f?i({},c,{options:((d={})[a]=function(l){for(var m,o,p,q=[],d=1;d<arguments.length;d++)q[d-1]=arguments[d];var r=g.getTheme().defaultColor,h=r,j=null===(o=null===(m=g.geometries)|| void 0===m?void 0:m[0])|| void 0===o?void 0:o.getAttribute("color");if(j){var s=gB(l,j.getFields()[0]);h=pq.getMappingValue(j,s,(null===(p=j.values)|| void 0===p?void 0:p[0])||r)}var c=f;"function"==typeof f&&(c=f.call(b,l,h)),c instanceof CanvasPattern== !1&&(c=function(c){var a,d=c.type,b=c.cfg;switch(d){case"dot":a=function(k){var a=i({},sY,k),l=a.size,m=a.padding,f=a.isStagger,n=a.rotation,b=sV(l,m,f),o=sW(b,f),g=sT(b,b),c=g.getContext("2d");sU(c,a,b);for(var d=0,h=o;d<h.length;d++){var j=h[d],p=j[0],q=j[1];sZ(c,a,p,q)}var e=c.createPattern(g,"repeat");if(e){var r=sS(),s=sX(r,n);e.setTransform(s)}return e}(b);break;case"line":a=function(q){var a,c,j,k,f,l,m,b=i({},s$,q),n=b.spacing,r=b.rotation,o=b.lineWidth,d=n+o||1,e=n+o||1,p=sT(d,e),g=p.getContext("2d");sU(g,b,d,e),a=g,c=b,j="\n            M 0 0 L "+d+" 0\n            M 0 "+e+" L "+d+" "+e+"\n            ",k=c.stroke,f=c.lineWidth,l=c.strokeOpacity,m=new Path2D(j),a.globalAlpha=l,a.lineCap="square",a.strokeStyle=f?k:"transparent",a.lineWidth=f,a.stroke(m);var h=g.createPattern(p,"repeat");if(h){var s=sS(),t=sX(s,r);h.setTransform(t)}return h}(b);break;case"square":a=function(k){var a=i({},s_,k),l=a.size,m=a.padding,f=a.isStagger,n=a.rotation,b=sV(l,m,f),o=sW(b,f),g=sT(b,b),c=g.getContext("2d");sU(c,a,b);for(var d=0,h=o;d<h.length;d++){var j=h[d],p=j[0],q=j[1];s0(c,a,p,q)}var e=c.createPattern(g,"repeat");if(e){var r=sS(),s=sX(r,n);e.setTransform(s)}return e}(b)}return a}(i({},{cfg:{backgroundColor:h}},c)));var k=e[a];return n(n({},"function"==typeof k?k.call.apply(k,fr([b,l],q)):k||{}),{fill:c||h})},d)}):c}}function s2(a){var c=a.chart,b=a.options,d=b.legend,e=b.colorField,f=b.seriesField;return!1===d?c.legend(!1):(e||f)&&c.legend(e||f,d),a}function s3(a){var c=a.chart,d=a.options,b=d.tooltip;return void 0!==b&&c.tooltip(b),a}function s4(a){var b=a.chart;return I(a.options.interactions,function(a){!1===a.enable?b.removeInteraction(a.type):b.interaction(a.type,a.cfg||{})}),a}function s5(a){var b=a.chart,c=a.options.animation;return"boolean"==typeof c?b.animate(c):b.animate(!0),I(b.geometries,function(a){a.animate(c)}),a}function s6(a){var c=a.chart,d=a.options,b=d.theme;return b&&c.theme(b),a}function s7(a){var b=a.chart,c=a.options,d=c.state;return d&&I(b.geometries,function(a){a.state(d)}),a}function s8(a){var b=a.chart,c=a.options,d=c.slider;return b.option("slider",d),a}function s9(a){var b=a.chart,c=a.options,d=c.scrollbar;return b.option("scrollbar",d),a}function ta(a,b){return function(c){var e=c.chart,f=c.options,d={};return I(a,function(a,b){d[b]=si(a,sR)}),d=i({},b,f.meta,d),e.scale(d),c}}function tb(a){return function(b){var c=b.chart,d=b.options,e=c.getController("annotation");return I(fr(d.annotations||[],a||[]),function(a){e.annotation(a)}),b}}function tc(a){var f=a.chart,b=a.options,c=b.yAxis,d=b.limitInPlot,e=d;return fC(c)&&fA(d)&&(e=!!Object.values(si(c,["min","max","minLimit","maxLimit"])).some(function(a){return!fA(a)})),f.limitInPlot=e,a}function td(a){return void 0===a&&(a="rect"),function(b){var d=b.chart,e=b.options,f=e.coordinate,c=Array.from(f||[]).map(function(a){return"reflectX"===a.type?["reflect","x"]:"reflectY"===a.type?["reflect","y"]:"transpose"===a.type?["transpose"]:null}).filter(function(a){return!!a});return 0!==c.length&&d.coordinate({type:a,actions:c}),b}}function te(a,d){if(!1===a)return{fields:!1};var b=gB(a,"fields"),c=gB(a,"formatter");return c&&!b&&(b=d),{fields:b,formatter:c}}function tf(a,d){var m=a.type,c=a.xField,g=a.yField,h=a.colorField,i=a.shapeField,j=a.sizeField,n=a.styleField,k=a.rawFields,e=void 0===k?[]:k,b=[];if("color"===d)b=fr([h||c],e);else if("shape"===d)b=fr([i||c],e);else if("size"===d)b=fr([j||c],e);else{b=fr([c,g,h,i,j,n],e);var l=["x","y","color","shape","size","style"].indexOf(d),o=b[l];b.splice(l,1),b.unshift(o)}var f=fV(b.filter(function(a){return!!a})),p="line"===m&&[c,g].includes(f.join("*"))?"":f.join("*");return{mappingFields:f,tileMappingField:p}}function tg(b,a){if(a)return function(){for(var e=[],c=0;c<arguments.length;c++)e[c]=arguments[c];var d={};return b.forEach(function(a,b){d[a]=e[b]}),delete d.undefined,a(d)}}function th(j){var y=j.chart,b=j.options,z=b.type,A=b.args,e=b.mapping,r=b.xField,q=b.yField,k=b.colorField,l=b.shapeField,m=b.sizeField,o=b.tooltipFields,i=b.label,s=b.state,t=b.customInfo;if(!e)return j;var f=e.color,g=e.shape,h=e.size,p=e.style,B=e.tooltip,a=y[z](A).position(r+"*"+q);if(fT(f))k?a.color(k,f):a.color(f);else if(fz(f)){var u=tf(b,"color"),c=u.mappingFields,d=u.tileMappingField;a.color(d,tg(c,f))}else k&&a.color(k,f);if(fT(g))l?a.shape(l,[g]):a.shape(g);else if(fz(g)){var v=tf(b,"shape"),c=v.mappingFields,d=v.tileMappingField;a.shape(d,tg(c,g))}else l&&a.shape(l,g);if(f5(h))m?a.size(m,h):a.size(h);else if(fz(h)){var w=tf(b,"size"),c=w.mappingFields,d=w.tileMappingField;a.size(d,tg(c,h))}else m&&a.size(m,h);if(fz(p)){var x=tf(b,"style"),c=x.mappingFields,d=x.tileMappingField;a.style(d,tg(c,p))}else fC(p)&&a.style(p);if(!1===o?a.tooltip(!1):gv(o)||a.tooltip(o.join("*"),tg(o,B)),!1===i)a.label(!1);else if(i){var C=i.callback,D=i.fields,E=fm(i,["callback","fields"]);a.label({fields:D||[q],callback:C,cfg:st(E)})}return s&&a.state(s),t&&a.customInfo(t),[r,q].filter(function(a){return a!==k}).forEach(function(a){y.legend(a,!1)}),n(n({},j),{ext:{geometry:a}})}function ti(b){var a=b.options,c=a.area,f=a.xField,g=a.yField,d=a.seriesField,h=a.smooth,j=a.tooltip,k=a.useDeferredLabel,e=te(j,[f,g,d]),l=e.fields,m=e.formatter;return c?th(i({},b,{options:{type:"area",colorField:d,tooltipFields:l,mapping:n({shape:h?"smooth":"area",tooltip:m},c),args:{useDeferredLabel:k}}})):b}function tj(b){var a=b.options,c=a.line,f=a.stepType,g=a.xField,h=a.yField,d=a.seriesField,j=a.smooth,k=a.connectNulls,l=a.tooltip,m=a.useDeferredLabel,e=te(l,[g,h,d]),n=e.fields,o=e.formatter;return c?th(i({},b,{options:{type:"line",colorField:d,tooltipFields:n,mapping:gs({shape:f||(j?"smooth":"line"),tooltip:o},c),args:{connectNulls:k,useDeferredLabel:m}}})):b}function tk(b){var a=b.options,c=a.point,g=a.xField,h=a.yField,d=a.seriesField,j=a.sizeField,e=a.shapeField,k=a.tooltip,l=a.useDeferredLabel,f=te(k,[g,h,d,j,e]),m=f.fields,o=f.formatter;return c?th(i({},b,{options:{type:"point",colorField:d,shapeField:e,tooltipFields:m,mapping:n({tooltip:o},c),args:{useDeferredLabel:l}}})):b}function tl(f){var c,l,b,d,h,m,o,j,k,p,g,e,a=f.options,t=a.xField,u=a.yField,q=a.interval,r=a.seriesField,v=a.tooltip,w=a.minColumnWidth,x=a.maxColumnWidth,y=a.columnBackground,z=a.dodgePadding,A=a.intervalPadding,B=a.useDeferredLabel,s=te(v,[t,u,r]),C=s.fields,D=s.formatter,E=(q?th(i({},f,{options:{type:"interval",colorField:r,tooltipFields:C,mapping:n({tooltip:D},q),args:{dodgePadding:z,intervalPadding:A,minColumnWidth:w,maxColumnWidth:x,background:y,useDeferredLabel:B}}})):f).ext;return c=n(n({},f),{ext:E}),l=c.chart,b=c.options,d=c.ext,h=b.seriesField,m=b.isGroup,o=b.isStack,j=b.marginRatio,k=b.widthRatio,p=b.groupField,g=b.theme,e=[],h&&(m&&e.push({type:"dodge",dodgeBy:p||h,marginRatio:j}),o&&e.push({type:"stack",marginRatio:j})),e.length&&(null==d?void 0:d.geometry)&&(null==d?void 0:d.geometry).adjust(e),fA(k)||l.theme(i({},fC(g)?g:ox(g),{columnWidthRatio:k})),c}function tm(b){var a=b.options,c=a.polygon,f=a.xField,g=a.yField,d=a.seriesField,h=a.tooltip,j=a.useDeferredLabel,e=te(h,[f,g,d]),k=e.fields,l=e.formatter;return c?th(i({},b,{options:{type:"polygon",colorField:d,tooltipFields:k,mapping:n({tooltip:l},c),args:{useDeferredLabel:j}}})):b}function tn(b){var a=b.options,c=a.edge,f=a.xField,g=a.yField,d=a.seriesField,h=a.tooltip,j=a.useDeferredLabel,e=te(h,[f,g,d]),k=e.fields,l=e.formatter;return c?th(i({},b,{options:{type:"edge",colorField:d,tooltipFields:k,mapping:n({tooltip:l},c),args:{useDeferredLabel:j}}})):b}function to(b){var a=b.options,c=a.schema,f=a.xField,g=a.yField,d=a.seriesField,h=a.tooltip,j=a.useDeferredLabel,e=te(h,[f,g,d]),k=e.fields,l=e.formatter;return c?th(i({},b,{options:{type:"schema",colorField:d,tooltipFields:k,mapping:n({tooltip:l},c),args:{useDeferredLabel:j}}})):b}function tp(b){var g=b.chart,a=b.options,h=a.data,e=a.color,j=a.lineStyle,k=a.lineShape,c=a.point,d=a.area,l=a.seriesField,m=null==c?void 0:c.state,o=null==d?void 0:d.state;g.data(h);var f=i({},b,{options:{shapeField:l,line:{color:e,style:j,shape:k},point:c&&n({color:e,shape:"circle"},c),area:d&&n({color:e},d),label:void 0}}),p=i({},f,{options:{tooltip:!1,state:m}}),q=i({},f,{options:{tooltip:!1,state:o}});return tj(f),tk(p),ti(q),b}function tq(e){var b,c,a=e.options,g=a.xAxis,h=a.yAxis,f=a.xField,d=a.yField,i=a.data;return sh(ta(((b={})[f]=g,b[d]=h,b),((c={})[f]={type:"cat"},c[d]=sF(i,d),c)))(e)}function tr(b){var d=b.chart,e=b.options,c=e.reflect;if(c){var a=c;fB(a)||(a=[a]);var f=a.map(function(a){return["reflect",a]});d.coordinate({type:"rect",actions:f})}return b}function ts(c){var a=c.chart,b=c.options,d=b.xAxis,e=b.yAxis,f=b.xField,g=b.yField;return!1===d?a.axis(f,!1):a.axis(f,d),!1===e?a.axis(g,!1):a.axis(g,e),c}function tt(a){var c=a.chart,d=a.options,b=d.legend,e=d.seriesField;return b&&e?c.legend(e,b):!1===b&&c.legend(!1),a}function tu(a){var e=a.chart,c=a.options,b=c.label,f=c.yField,d=sn(e,"line");if(b){var g=b.callback,h=fm(b,["callback"]);d.label({fields:[f],callback:g,cfg:n({layout:[{type:"limit-in-plot"},{type:"path-adjust-position"},{type:"point-adjust-position"},{type:"limit-in-plot",cfg:{action:"hide"}},]},st(h))})}else d.label(!1);return a}function tv(a){var b=a.chart,c=a.options,d=c.isStack;return d&&I(b.geometries,function(a){a.adjust("stack")}),a}function ee(a){return sh(tp,tq,tv,s6,tr,ts,tt,s3,tu,s8,s9,s4,s5,tb(),tc)(a)}var tw=i({},c.getDefaultOptions(),{tooltip:{shared:!0,showMarkers:!0,showCrosshairs:!0,crosshairs:{type:"x"}},legend:{position:"top-left",radio:{}},isStack:!1}),ef=function(b){function a(){return null!==b&&b.apply(this,arguments)||this}return fl(a,b),a.prototype.active=function(){var b=this.getView(),a=this.context.event;if(a.data){var c=a.data.items;I(b.geometries.filter(function(a){return"point"===a.type}),function(a){I(a.elements,function(a){var b=-1!==fI(c,function(b){return b.data===a.data});a.setState("active",b)})})}},a.prototype.reset=function(){I(this.getView().geometries.filter(function(a){return"point"===a.type}),function(a){I(a.elements,function(a){a.setState("active",!1)})})},a.prototype.getView=function(){return this.context.view},a}(g);a("marker-active",ef),b("marker-active",{start:[{trigger:"tooltip:show",action:"marker-active:active"},],end:[{trigger:"tooltip:hide",action:"marker-active:reset"},]});var eg=function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.type="line",a}return fl(a,b),a.getDefaultOptions=function(){return tw},a.prototype.changeData=function(a){var b;this.updateOption({data:a}),tq({chart:this.chart,options:this.options}),this.chart.changeData(a)},a.prototype.getDefaultOptions=function(){return a.getDefaultOptions()},a.prototype.getSchemaAdaptor=function(){return ee},a}(c);function tx(a,b,c,d){var e=fR(a,function(a,f){var e=f[c],d=a.has(e)?a.get(e):0,g=f[b];return d=sE(g)?d+g:d,a.set(e,d),a},new Map);return gx(a,function(a){var f,g=a[b],h=a[c],i=sE(g)&&0!==e.get(h)?g/e.get(h):0;return n(n({},a),((f={})[d]=i,f))})}function ty(a,b,c,d,e){return e?tx(a,b,c,d):a}function tz(b){var f=b.chart,a=b.options,m=a.data,o=a.areaStyle,e=a.color,c=a.point,d=a.line,g=a.isPercent,p=a.xField,h=a.yField,j=a.tooltip,q=a.seriesField,k=a.startOnZero,r=null==c?void 0:c.state,s=ty(m,h,p,h,g);f.data(s);var t=g?n({formatter:function(a){return{name:a[q]||a[p],value:(100*Number(a[h])).toFixed(2)+"%"}}},j):j,l=i({},b,{options:{area:{color:e,style:o},point:c&&n({color:e},c),tooltip:t,label:void 0,args:{startOnZero:k}}}),u={chart:f,options:i({line:{size:2}},gF(a,["state"]),{line:d&&n({color:e},d),sizeField:q,state:null==d?void 0:d.state,tooltip:!1,label:void 0,args:{startOnZero:k}})},v=i({},l,{options:{tooltip:!1,state:r}});return ti(l),tj(u),tk(v),b}function tA(a){var e=a.chart,c=a.options,b=c.label,f=c.yField,d=sn(e,"area");if(b){var g=b.callback,h=fm(b,["callback"]);d.label({fields:[f],callback:g,cfg:n({layout:[{type:"limit-in-plot"},{type:"path-adjust-position"},{type:"point-adjust-position"},{type:"limit-in-plot",cfg:{action:"hide"}},]},st(h))})}else d.label(!1);return a}function tB(a){var c=a.chart,b=a.options,d=b.isStack,e=b.isPercent,f=b.seriesField;return(e||d)&&f&&I(c.geometries,function(a){a.adjust("stack")}),a}function eh(a){return sh(s6,s1("areaStyle"),td("rect"),tz,tq,tB,ts,tt,s3,tA,s8,tb(),s4,s5,tc)(a)}var tC=i({},c.getDefaultOptions(),{tooltip:{shared:!0,showMarkers:!0,showCrosshairs:!0,crosshairs:{type:"x"}},isStack:!0,line:{},legend:{position:"top-left",radio:{}}}),ei=function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.type="area",a}return fl(a,b),a.getDefaultOptions=function(){return tC},a.prototype.getDefaultOptions=function(){return a.getDefaultOptions()},a.prototype.changeData=function(b){this.updateOption({data:b});var a=this.options,d=a.isPercent,e=a.xField,c=a.yField,f=this.chart,g=this.options;tq({chart:f,options:g}),this.chart.changeData(ty(b,c,e,c,d))},a.prototype.getSchemaAdaptor=function(){return eh},a}(c);function tD(a,b){return f5(a)&&f5(b)?a===b?"100%":0===a?"\u221E":0===b?"-\u221E":(100*b/a).toFixed(2)+"%":"-"}function tE(b,a){return gx(a.getModel().points,function(a){return b.convertPoint(a)})}var ak={hover:"__interval-connected-area-hover__",click:"__interval-connected-area-click__"},b_=function(b,a){return"hover"===b?[{trigger:"interval:mouseenter",action:["element-highlight-by-color:highlight","element-link-by-color:link"],arg:[null,{style:a}]},]:[{trigger:"interval:click",action:["element-highlight-by-color:clear","element-highlight-by-color:highlight","element-link-by-color:clear","element-link-by-color:unlink","element-link-by-color:link",],arg:[null,null,null,null,{style:a}]},]};b(ak.hover,{start:b_(ak.hover),end:[{trigger:"interval:mouseleave",action:["element-highlight-by-color:reset","element-link-by-color:unlink"]},]}),b(ak.click,{start:b_(ak.click),end:[{trigger:"document:mousedown",action:["element-highlight-by-color:clear","element-link-by-color:clear"]},]});var tF={padding:[8,10],text:"reset",textStyle:{default:{x:0,y:0,fontSize:12,fill:"#333333",cursor:"pointer"}},buttonStyle:{default:{fill:"#f7f7f7",stroke:"#cccccc",cursor:"pointer"},active:{fill:"#e6e6e6"}}},ej=function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.buttonGroup=null,a.buttonCfg=n({name:"button"},tF),a}return fl(a,b),a.prototype.getButtonCfg=function(){var a=gB(this.context.view,["interactions","filter-action","cfg","buttonConfig"]);return i(this.buttonCfg,a,this.cfg)},a.prototype.drawButton=function(){var b=this.getButtonCfg(),a=this.context.view.foregroundGroup.addGroup({name:b.name}),c=this.drawText(a);this.drawBackground(a,c.getBBox()),this.buttonGroup=a},a.prototype.drawText=function(c){var a,b=this.getButtonCfg();return c.addShape({type:"text",name:"button-text",attrs:n({text:b.text},null===(a=b.textStyle)|| void 0===a?void 0:a.default)})},a.prototype.drawBackground=function(c,b){var d,e=this.getButtonCfg(),a=sI(e.padding),f=c.addShape({type:"rect",name:"button-rect",attrs:n({x:b.x-a[3],y:b.y-a[0],width:b.width+a[1]+a[3],height:b.height+a[0]+a[2]},null===(d=e.buttonStyle)|| void 0===d?void 0:d.default)});return f.toBack(),c.on("mouseenter",function(){var a;f.attr(null===(a=e.buttonStyle)|| void 0===a?void 0:a.active)}),c.on("mouseleave",function(){var a;f.attr(null===(a=e.buttonStyle)|| void 0===a?void 0:a.default)}),f},a.prototype.resetPosition=function(){var a=this.context.view.getCoordinate().convert({x:1,y:1}),b=this.buttonGroup,c=b.getBBox(),d=pq.transform(null,[["t",a.x-c.width-10,a.y+c.height+5],]);b.setMatrix(d)},a.prototype.show=function(){this.buttonGroup||this.drawButton(),this.resetPosition(),this.buttonGroup.show()},a.prototype.hide=function(){this.buttonGroup&&this.buttonGroup.hide()},a.prototype.destroy=function(){var a=this.buttonGroup;a&&a.remove(),b.prototype.destroy.call(this)},a}(g);function tG(a){return a.isInPlot()}function Q(e,f,g){var d=g||{},c=d.mask,b=d.isStartEnable,a=f||"rect";switch(e){case"brush":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair",isEnable:b||function(){return!0}},{trigger:"plot:mouseleave",action:"cursor:default"},],start:[{trigger:"mousedown",isEnable:b||tG,action:["brush:start",a+"-mask:start",a+"-mask:show"],arg:[null,{maskStyle:null==c?void 0:c.style}]},],processing:[{trigger:"mousemove",isEnable:tG,action:[a+"-mask:resize"]},],end:[{trigger:"mouseup",isEnable:tG,action:["brush:filter","brush:end",a+"-mask:end",a+"-mask:hide","brush-reset-button:show",]},],rollback:[{trigger:"brush-reset-button:click",action:["brush:reset","brush-reset-button:hide","cursor:crosshair"]},]};case"brush-highlight":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair",isEnable:b||function(){return!0}},{trigger:"plot:mousemove",action:"cursor:crosshair",isEnable:b||function(){return!0}},{trigger:"plot:mousemove",action:"cursor:default",isEnable:function(a){return!!b&&!b(a)}},{trigger:"mask:mouseenter",action:"cursor:move",isEnable:b||function(){return!0}},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"},],start:[{trigger:"plot:mousedown",isEnable:b||function(a){return!a.isInShape("mask")},action:[a+"-mask:start",a+"-mask:show"],arg:[{maskStyle:null==c?void 0:c.style}]},{trigger:"mask:dragstart",action:[a+"-mask:moveStart"]},],processing:[{trigger:"plot:mousemove",action:[a+"-mask:resize"]},{trigger:"mask:drag",action:[a+"-mask:move"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]},],end:[{trigger:"plot:mouseup",action:[a+"-mask:end"]},{trigger:"mask:dragend",action:[a+"-mask:moveEnd"]},{trigger:"document:mouseup",isEnable:function(a){return!a.isInPlot()},action:["element-range-highlight:clear",a+"-mask:end",a+"-mask:hide"]},],rollback:[{trigger:"dblclick",action:["element-range-highlight:clear",a+"-mask:hide"]}]};case"brush-x":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair",isEnable:b||function(){return!0}},{trigger:"plot:mouseleave",action:"cursor:default"},],start:[{trigger:"mousedown",isEnable:b||tG,action:["brush-x:start",a+"-mask:start",a+"-mask:show"],arg:[null,{maskStyle:null==c?void 0:c.style}]},],processing:[{trigger:"mousemove",isEnable:tG,action:[a+"-mask:resize"]},],end:[{trigger:"mouseup",isEnable:tG,action:["brush-x:filter","brush-x:end",a+"-mask:end",a+"-mask:hide"]},],rollback:[{trigger:"dblclick",action:["brush-x:reset"]}]};case"brush-x-highlight":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair",isEnable:b||function(){return!0}},{trigger:"mask:mouseenter",action:"cursor:move",isEnable:b||function(){return!0}},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"},],start:[{trigger:"plot:mousedown",isEnable:b||function(a){return!a.isInShape("mask")},action:[a+"-mask:start",a+"-mask:show"],arg:[{maskStyle:null==c?void 0:c.style}]},{trigger:"mask:dragstart",action:[a+"-mask:moveStart"]},],processing:[{trigger:"plot:mousemove",action:[a+"-mask:resize"]},{trigger:"mask:drag",action:[a+"-mask:move"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]},],end:[{trigger:"plot:mouseup",action:[a+"-mask:end"]},{trigger:"mask:dragend",action:[a+"-mask:moveEnd"]},{trigger:"document:mouseup",isEnable:function(a){return!a.isInPlot()},action:["element-range-highlight:clear",a+"-mask:end",a+"-mask:hide"]},],rollback:[{trigger:"dblclick",action:["element-range-highlight:clear",a+"-mask:hide"]}]};case"brush-y":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair",isEnable:b||function(){return!0}},{trigger:"plot:mouseleave",action:"cursor:default"},],start:[{trigger:"mousedown",isEnable:b||tG,action:["brush-y:start",a+"-mask:start",a+"-mask:show"],arg:[null,{maskStyle:null==c?void 0:c.style}]},],processing:[{trigger:"mousemove",isEnable:tG,action:[a+"-mask:resize"]},],end:[{trigger:"mouseup",isEnable:tG,action:["brush-y:filter","brush-y:end",a+"-mask:end",a+"-mask:hide"]},],rollback:[{trigger:"dblclick",action:["brush-y:reset"]}]};case"brush-y-highlight":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair",isEnable:b||function(){return!0}},{trigger:"mask:mouseenter",action:"cursor:move",isEnable:b||function(){return!0}},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"},],start:[{trigger:"plot:mousedown",isEnable:b||function(a){return!a.isInShape("mask")},action:[a+"-mask:start",a+"-mask:show"],arg:[{maskStyle:null==c?void 0:c.style}]},{trigger:"mask:dragstart",action:[a+"-mask:moveStart"]},],processing:[{trigger:"plot:mousemove",action:[a+"-mask:resize"]},{trigger:"mask:drag",action:[a+"-mask:move"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]},],end:[{trigger:"plot:mouseup",action:[a+"-mask:end"]},{trigger:"mask:dragend",action:[a+"-mask:moveEnd"]},{trigger:"document:mouseup",isEnable:function(a){return!a.isInPlot()},action:["element-range-highlight:clear",a+"-mask:end",a+"-mask:hide"]},],rollback:[{trigger:"dblclick",action:["element-range-highlight:clear",a+"-mask:hide"]}]};default:return{}}}a("brush-reset-button",ej,{name:"brush-reset-button"}),b("filter-action",{}),b("brush",Q("brush")),b("brush-highlight",Q("brush-highlight")),b("brush-x",Q("brush-x","x-rect")),b("brush-y",Q("brush-y","y-rect")),b("brush-x-highlight",Q("brush-x-highlight","x-rect")),b("brush-y-highlight",Q("brush-y-highlight","y-rect"));var tH=["brush","brush-x","brush-y","brush-highlight","brush-x-highlight","brush-y-highlight"];function tI(b){var c=b.options,a=c.brush,d=fw(c.interactions||[],function(a){return -1===tH.indexOf(a.type)});return(null==a?void 0:a.enabled)&&(tH.forEach(function(b){var c=!1;switch(a.type){case"x-rect":c=b===("highlight"===a.action?"brush-x-highlight":"brush-x");break;case"y-rect":c=b===("highlight"===a.action?"brush-y-highlight":"brush-y");break;default:c=b===("highlight"===a.action?"brush-highlight":"brush")}var e={type:b,enable:c};a&&(e.cfg=Q(b,a.type,a)),d.push(e)}),(null==a?void 0:a.action)!=="highlight"&&d.push({type:"filter-action",cfg:{buttonConfig:a.button}})),i({},b,{options:{interactions:d}})}function tJ(b){var c=b.options,a=c.legend,d=c.seriesField,e=c.isStack;return d?!1!==a&&(a=n({position:e?"right-top":"top-left"},a)):a=!1,b.options.legend=a,b}function tK(c){var d,p,q,r,s,t=c.chart,a=c.options,g=a.data,u=a.columnStyle,v=a.color,w=a.columnWidthRatio,e=a.isPercent,h=a.isGroup,j=a.isStack,k=a.xField,b=a.yField,x=a.seriesField,y=a.groupField,l=a.tooltip,z=a.shape,m=e&&h&&j?(d=g,p=b,q=[k,y],r=b,s=fR(d,function(a,e){var c=fR(q,function(a,b){return""+a+e[b]},""),b=a.has(c)?a.get(c):0,d=e[p];return b=sE(d)?b+d:b,a.set(c,b),a},new Map),gx(d,function(a){var b,c=a[p],d=fR(q,function(b,c){return""+b+a[c]},""),e=sE(c)&&0!==s.get(d)?c/s.get(d):0;return n(n({},a),((b={})[r]=e,b))})):ty(g,b,k,b,e),f=[];j&&x&&!h?m.forEach(function(a){var c=f.find(function(b){return b[k]===a[k]&&b[x]===a[x]});c?c[b]+=a[b]||0:f.push(n({},a))}):f=m,t.data(f);var A=e?n({formatter:function(a){return{name:h&&j?a[x]+" - "+a[y]:a[x]||a[k],value:(100*Number(a[b])).toFixed(2)+"%"}}},l):l,o=i({},c,{options:{data:f,widthRatio:w,tooltip:A,interval:{shape:z,style:u,color:v}}});return tl(o),o}function tL(e){var b,c,a=e.options,g=a.xAxis,h=a.yAxis,f=a.xField,d=a.yField,i=a.data,j=a.isPercent;return sh(ta(((b={})[f]=g,b[d]=h,b),((c={})[f]={type:"cat"},c[d]=n(n({},sF(i,d)),j?{max:1,min:0,minLimit:0,maxLimit:1}:{}),c)))(e)}function tM(c){var a=c.chart,b=c.options,d=b.xAxis,e=b.yAxis,f=b.xField,g=b.yField;return!1===d?a.axis(f,!1):a.axis(f,d),!1===e?a.axis(g,!1):a.axis(g,e),c}function tN(a){var c=a.chart,d=a.options,b=d.legend,e=d.seriesField;return b&&e?c.legend(e,b):!1===b&&c.legend(!1),a}function tO(b){var f=b.chart,c=b.options,d=c.label,g=c.yField,h=c.isRange,e=sn(f,"interval");if(d){var i=d.callback,a=fm(d,["callback"]);e.label({fields:[g],callback:i,cfg:n({layout:(null==a?void 0:a.position)?void 0:[{type:"interval-adjust-position"},{type:"interval-hide-overlap"},{type:"adjust-color"},{type:"limit-in-plot",cfg:{action:"hide"}},]},st(h?n({content:function(b){var a;return null===(a=b[g])|| void 0===a?void 0:a.join("-")}},a):a))})}else e.label(!1);return b}function tP(c){var d=c.chart,a=c.options,e=a.tooltip,f=a.isGroup,g=a.isStack,h=a.groupField,i=a.data,j=a.xField,k=a.yField,l=a.seriesField;if(!1===e)d.tooltip(!1);else{var b=e;if(f&&g){var m=(null==b?void 0:b.formatter)||function(a){return{name:a[l]+" - "+a[h],value:a[k]}};b=n(n({},b),{customItems:function(a){var b=[];return I(a,function(a){fw(i,function(b){return fE(b,si(a.data,[j,l]))}).forEach(function(c){b.push(n(n(n({},a),{value:c[k],data:c,mappingData:{_origin:c}}),m(c)))})}),b}})}d.tooltip(b)}return c}function ek(d,a){void 0===a&&(a=!1);var e,b,f,g,c=d.options,h=c.seriesField;return sh(tJ,s6,s1("columnStyle"),s7,td("rect"),tK,tL,tM,tN,tP,s8,s9,tO,tI,s4,s5,tb(),(e=c.yField,b=!a,void 0===b&&(b=!0),f=!!h,function(a){var d=a.options,g=a.chart,h=d.conversionTag,c=d.theme;return h&&!f&&(g.theme(i({},fC(c)?c:ox(c),{columnWidthRatio:1/3})),g.annotation().shape({render:function(f,j){var a,c,k=f.addGroup({id:g.id+"-conversion-tag-group",name:"conversion-tag-group"}),d=fH(g.geometries,function(a){return"interval"===a.type}),m={view:j,geometry:d,group:k,field:e,horizontal:b,options:(a=h,i({size:(c=b)?32:80,spacing:c?8:12,offset:c?32:0,arrow:!1!==a.arrow&&{headSize:12,style:{fill:"rgba(0, 0, 0, 0.05)"}},text:!1!==a.text&&{style:{fontSize:12,fill:"rgba(0, 0, 0, 0.85)",textAlign:"center",textBaseline:"middle"},formatter:tD}},a))},l=d.elements;I(l,function(e,c){if(c>0){var a,b,d;a=m,b=l[c-1],function(g,j,l){var h,m=g.view,r=g.geometry,s=g.group,i=g.options,t=g.horizontal,d=i.offset,e=i.size,k=i.arrow,o=m.getCoordinate(),b=tE(o,j)[3],c=tE(o,l)[0],p=c.y-b.y,q=c.x-b.x;if("boolean"!=typeof k){var f=k.headSize,a=i.spacing;t?(q-f)/2<a?(a=Math.max(1,(q-f)/2),h=[[b.x+a,b.y-d],[b.x+a,b.y-d-e],[c.x-a,c.y-d-e/2],]):h=[[b.x+a,b.y-d],[b.x+a,b.y-d-e],[c.x-a-f,c.y-d-e],[c.x-a,c.y-d-e/2],[c.x-a-f,c.y-d],]:(p-f)/2<a?(a=Math.max(1,(p-f)/2),h=[[b.x+d,b.y+a],[b.x+d+e,b.y+a],[c.x+d+e/2,c.y-a],]):h=[[b.x+d,b.y+a],[b.x+d+e,b.y+a],[c.x+d+e,c.y-a-f],[c.x+d+e/2,c.y-a],[c.x+d,c.y-a-f],],s.addShape("polygon",{id:m.id+"-conversion-tag-arrow-"+r.getElementId(j.getModel().mappingData),name:"conversion-tag-arrow",origin:{element:j,nextElement:l},attrs:n(n({},k.style||{}),{points:h})})}}(a,b,d=e),function(a,e,f){var g,h,i,l=a.view,u=a.geometry,v=a.group,b=a.options,m=a.field,c=a.horizontal,o=b.offset,p=b.size;if("boolean"!=typeof b.text){var q=l.getCoordinate(),j=(null===(g=b.text)|| void 0===g?void 0:g.formatter)&&(null===(h=b.text)|| void 0===h?void 0:h.formatter(e.getData()[m],f.getData()[m])),d=tE(q,e)[c?3:0],k=tE(q,f)[c?0:3],r=v.addShape("text",{id:l.id+"-conversion-tag-text-"+u.getElementId(e.getModel().mappingData),name:"conversion-tag-text",origin:{element:e,nextElement:f},attrs:n(n({},(null===(i=b.text)|| void 0===i?void 0:i.style)||{}),{text:j,x:c?(d.x+k.x)/2:d.x+o+p/2,y:c?d.y-o-p/2:(d.y+k.y)/2})});if(c){var s=k.x-d.x,t=r.getBBox().width;if(t>s){var w=Math.max(1,Math.ceil(s/(t/j.length))-1),x=j.slice(0,w)+"...";r.attr("text",x)}}}}(a,b,d)}})}})),a}),(g=!c.isStack,function(a){var e=a.chart,b=a.options.connectedArea,c=function(){e.removeInteraction(ak.hover),e.removeInteraction(ak.click)};if(!g&&b){var d=b.trigger||"hover";c(),e.interaction(ak[d],{start:b_(d,b.style)})}else c();return a}),tc)(d)}var tQ=i({},c.getDefaultOptions(),{columnWidthRatio:.6,marginRatio:1/32,tooltip:{shared:!0,showMarkers:!1,offset:20},legend:{radio:{}},interactions:[{type:"active-region"}]}),el=function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.type="column",a}return fl(a,b),a.getDefaultOptions=function(){return tQ},a.prototype.changeData=function(b){this.updateOption({data:b});var a=this.options,c=a.yField,d=a.xField,e=a.isPercent,f=this.chart,g=this.options;tL({chart:f,options:g}),this.chart.changeData(ty(b,c,d,c,e))},a.prototype.getDefaultOptions=function(){return a.getDefaultOptions()},a.prototype.getSchemaAdaptor=function(){return ek},a}(c);function tR(d){var a=d.options,f=a.xField,g=a.yField,b=a.xAxis,c=a.yAxis,e={left:"bottom",right:"top",top:"left",bottom:"right"},h=!1!==c&&n({position:e[(null==c?void 0:c.position)||"left"]},c),i=!1!==b&&n({position:e[(null==b?void 0:b.position)||"bottom"]},b);return n(n({},d),{options:n(n({},a),{xField:g,yField:f,xAxis:h,yAxis:i})})}function tS(b){var a=b.options.label;return!a||a.position||(a.position="left",a.layout||(a.layout=[{type:"interval-adjust-position"},{type:"interval-hide-overlap"},{type:"adjust-color"},{type:"limit-in-plot",cfg:{action:"hide"}},])),i({},b,{options:{label:a}})}function tT(c){var b=c.options,d=b.seriesField,e=b.isStack,a=b.legend;return d?!1!==a&&(a=n({position:e?"top-left":"right-top"},a||{})):a=!1,i({},c,{options:{legend:a}})}function tU(a){var b=[{type:"transpose"},{type:"reflectY"}].concat(a.options.coordinate||[]);return i({},a,{options:{coordinate:b}})}function tV(b){var c=b.chart,a=b.options,d=a.barStyle,e=a.barWidthRatio,f=a.minBarWidth,g=a.maxBarWidth,h=a.barBackground;return ek({chart:c,options:n(n({},a),{columnStyle:d,columnWidthRatio:e,minColumnWidth:f,maxColumnWidth:g,columnBackground:h})},!0)}function em(a){return sh(tR,tS,tT,s3,tU,tV)(a)}var tW=i({},c.getDefaultOptions(),{barWidthRatio:.6,marginRatio:1/32,tooltip:{shared:!0,showMarkers:!1,offset:20},legend:{radio:{}},interactions:[{type:"active-region"}]}),en=function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.type="bar",a}return fl(a,b),a.getDefaultOptions=function(){return tW},a.prototype.changeData=function(f){this.updateOption({data:f});var g,h,i=this,j=i.chart,a=i.options,k=a.isPercent,b=a.xField,c=a.yField,d=a.xAxis,e=a.yAxis;b=(g=[c,b])[0],c=g[1],d=(h=[e,d])[0],e=h[1];var l=n(n({},a),{xField:b,yField:c,yAxis:e,xAxis:d});tL({chart:j,options:l}),j.changeData(ty(f,b,c,b,k))},a.prototype.getDefaultOptions=function(){return a.getDefaultOptions()},a.prototype.getSchemaAdaptor=function(){return em},a}(c),tX=i({},c.getDefaultOptions(),{legend:{position:"right",radio:{}},tooltip:{shared:!1,showTitle:!1,showMarkers:!1},label:{layout:{type:"limit-in-plot",cfg:{action:"ellipsis"}}},pieStyle:{stroke:"white",lineWidth:1},statistic:{title:{style:{fontWeight:300,color:"#4B535E",textAlign:"center",fontSize:"20px",lineHeight:1}},content:{style:{fontWeight:"bold",color:"rgba(44,53,66,0.85)",textAlign:"center",fontSize:"32px",lineHeight:1}}},theme:{components:{annotation:{text:{animate:!1}}}}});function tY(a,b){return fZ(sH(a,b),function(a){return 0===a[b]})}var tZ=[1,0,0,0,1,0,0,0,1];function t$(b,a){var c=a?fr(a):fr(tZ);return pq.transform(c,b)}var eo=function(b){function a(){return null!==b&&b.apply(this,arguments)||this}return fl(a,b),a.prototype.getActiveElements=function(){var a=pq.getDelegationObject(this.context);if(a){var b=this.context.view,c=a.component,e=a.item,d=c.get("field");if(d)return b.geometries[0].elements.filter(function(a){return a.getModel().data[d]===e.value})}return[]},a.prototype.getActiveElementLabels=function(){var a=this.context.view,b=this.getActiveElements();return a.geometries[0].labelsContainer.getChildren().filter(function(a){return b.find(function(b){return gw(b.getData(),a.get("data"))})})},a.prototype.transfrom=function(a){void 0===a&&(a=7.5);var b=this.getActiveElements(),c=this.getActiveElementLabels();b.forEach(function(b,j){var k=c[j],d=b.geometry.coordinate;if(d.isPolar&&d.isTransposed){var e=pq.getAngle(b.getModel(),d),l=e.startAngle,m=e.endAngle,f=(l+m)/2,g=a,h=g*Math.cos(f),i=g*Math.sin(f);b.shape.setMatrix(t$([["t",h,i]])),k.setMatrix(t$([["t",h,i]]))}})},a.prototype.active=function(){this.transfrom()},a.prototype.reset=function(){this.transfrom(0)},a}(g),ep=function(b){function a(){return null!==b&&b.apply(this,arguments)||this}return fl(a,b),a.prototype.getAnnotations=function(a){return(a||this.context.view).getController("annotation").option},a.prototype.getInitialAnnotation=function(){return this.initialAnnotation},a.prototype.init=function(){var b=this,a=this.context.view;a.removeInteraction("tooltip"),a.on("afterchangesize",function(){var c=b.getAnnotations(a);b.initialAnnotation=c})},a.prototype.change=function(c){var d=this.context,a=d.view,e=d.event;this.initialAnnotation||(this.initialAnnotation=this.getAnnotations());var b=gB(e,["data","data"]);if(e.type.match("legend-item")){var f=pq.getDelegationObject(this.context),j=a.getGroupedFields()[0];if(f&&j){var n=f.item;b=a.getData().find(function(a){return a[j]===n.value})}}if(b){var k=gB(c,"annotations",[]),l=gB(c,"statistic",{});a.getController("annotation").clear(!0),I(k,function(b){"object"==typeof b&&a.annotation()[b.type](b)}),sC(a,{statistic:l,plotType:"pie"},b),a.render(!0)}var m,g,h,i=((h=(m=this.context).event.target)&&(g=h.get("element")),g);i&&i.shape.toFront()},a.prototype.reset=function(){var a=this.context.view;a.getController("annotation").clear(!0),I(this.getInitialAnnotation(),function(b){a.annotation()[b.type](b)}),a.render(!0)},a}(g),eq="pie-statistic";function t_(a){var f=a.chart,b=a.options,k=b.data,d=b.angleField,g=b.colorField,h=b.color,j=b.pieStyle,c=sH(k,d);if(tY(c,d)){var l="$$percentage$$";c=c.map(function(b){var a;return n(n({},b),((a={})[l]=1/c.length,a))}),f.data(c);var e=i({},a,{options:{xField:"1",yField:l,seriesField:g,isStack:!0,interval:{color:h,style:j},args:{zIndexReversed:!0,sortZIndex:!0}}});tl(e)}else{f.data(c);var e=i({},a,{options:{xField:"1",yField:d,seriesField:g,isStack:!0,interval:{color:h,style:j},args:{zIndexReversed:!0,sortZIndex:!0}}});tl(e)}return a}function t0(a){var b,d=a.chart,c=a.options,e=c.meta,f=c.colorField,g=i({},e);return d.scale(g,((b={})[f]={type:"cat"},b)),a}function t1(b){var c=b.chart,a=b.options,d=a.radius,e=a.innerRadius,f=a.startAngle,g=a.endAngle;return c.coordinate({type:"theta",cfg:{radius:d,innerRadius:e,startAngle:f,endAngle:g}}),b}function t2(b){var i=b.chart,c=b.options,d=c.label,e=c.colorField,f=c.angleField,g=i.geometries[0];if(d){var j=d.callback,k=fm(d,["callback"]),a=st(k);if(a.content){var o=a.content;a.content=function(a,g,h){var j=a[e],b=a[f],d=i.getScaleByField(f),c=null==d?void 0:d.scale(b);return fz(o)?o(n(n({},a),{percent:c}),g,h):fT(o)?sj(o,{value:b,name:j,percentage:f5(c)&&!fA(b)?(100*c).toFixed(2)+"%":null}):o}}var l={inner:"",outer:"pie-outer",spider:"pie-spider"},h=a.type?l[a.type]:"pie-outer",m=a.layout?fB(a.layout)?a.layout:[a.layout]:[];a.layout=(h?[{type:h}]:[]).concat(m),g.label({fields:e?[f,e]:[f],callback:j,cfg:n(n({},a),{offset:function(c,a){var b;switch(c){case"inner":if(b="-30%",fT(a)&&a.endsWith("%"))return .01*parseFloat(a)>0?b:a;return a<0?a:b;case"outer":if(b=12,fT(a)&&a.endsWith("%"))return .01*parseFloat(a)<0?b:a;return a>0?a:b;default:return a}}(a.type,a.offset),type:"pie"})})}else g.label(!1);return b}function t3(a){var f=a.innerRadius,d=a.statistic,h=a.angleField,j=a.colorField,k=a.meta,g=a.locale,l=sN(g);if(f&&d){var e=i({},tX.statistic,d),b=e.title,c=e.content;return!1!==b&&(b=i({},{formatter:function(a){var c=a?a[j]:fA(b.content)?l.get(["statistic","total"]):b.content;return(gB(k,[j,"formatter"])||function(a){return a})(c)}},b)),!1!==c&&(c=i({},{formatter:function(a,g){var b,i,d,e=a?a[h]:(b=g,i=h,d=null,I(b,function(a){"number"==typeof a[i]&&(d+=a[i])}),d),f=gB(k,[h,"formatter"])||function(a){return a};return a?f(e):fA(c.content)?f(e):c.content}},c)),i({},{statistic:{title:b,content:c}},a)}return a}function t4(a){var b=a.chart,c=t3(a.options),e=c.innerRadius,d=c.statistic;return b.getController("annotation").clear(!0),sh(tb())(a),e&&d&&sC(b,{statistic:d,plotType:"pie"}),a}function t5(c){var d=c.chart,b=c.options,a=b.tooltip,h=b.colorField,g=b.angleField,j=b.data;if(!1===a)d.tooltip(a);else if(d.tooltip(i({},a,{shared:!1})),tY(j,g)){var e=gB(a,"fields"),f=gB(a,"formatter");gv(gB(a,"fields"))&&(e=[h,g],f=f||function(a){return{name:a[h],value:gf(a[g])}}),d.geometries[0].tooltip(e.join("*"),tg(e,f))}return c}function t6(a){var d=a.chart,b=t3(a.options),c=b.interactions,e=b.statistic,f=b.annotations;return I(c,function(a){var b,c;if(!1===a.enable)d.removeInteraction(a.type);else if("pie-statistic-active"===a.type){var g=[];(null===(b=a.cfg)|| void 0===b?void 0:b.start)||(g=[{trigger:"element:mouseenter",action:eq+":change",arg:{statistic:e,annotations:f}},]),I(null===(c=a.cfg)|| void 0===c?void 0:c.start,function(a){g.push(n(n({},a),{arg:{statistic:e,annotations:f}}))}),d.interaction(a.type,i({},a.cfg,{start:g}))}else d.interaction(a.type,a.cfg||{})}),a}function er(a){return sh(s1("pieStyle"),t_,t0,s6,t1,s2,t5,t2,s7,t4,t6,s5)(a)}a(eq,ep),b("pie-statistic-active",{start:[{trigger:"element:mouseenter",action:"pie-statistic:change"}],end:[{trigger:"element:mouseleave",action:"pie-statistic:reset"}]}),a("pie-legend",eo),b("pie-legend-active",{start:[{trigger:"legend-item:mouseenter",action:"pie-legend:active"}],end:[{trigger:"legend-item:mouseleave",action:"pie-legend:reset"}]});var es=function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.type="pie",a}return fl(a,b),a.getDefaultOptions=function(){return tX},a.prototype.changeData=function(b){this.chart.emit(id.BEFORE_CHANGE_DATA,oK.fromData(this.chart,id.BEFORE_CHANGE_DATA,null));var d=this.options,a=this.options.angleField,e=sH(d.data,a),c=sH(b,a);tY(e,a)||tY(c,a)?this.update({data:b}):(this.updateOption({data:b}),this.chart.data(c),t4({chart:this.chart,options:this.options}),this.chart.render(!0)),this.chart.emit(id.AFTER_CHANGE_DATA,oK.fromData(this.chart,id.AFTER_CHANGE_DATA,null))},a.prototype.getDefaultOptions=function(){return a.getDefaultOptions()},a.prototype.getSchemaAdaptor=function(){return er},a}(c);function t7(a){var c=a.chart,b=a.options,d=b.data,e=b.sectorStyle,f=b.color;return c.data(d),sh(tl)(i({},a,{options:{marginRatio:1,interval:{style:e,color:f}}})),a}function t8(d){var i=d.chart,f=d.options,a=f.label,g=f.xField,e=sn(i,"interval");if(!1===a)e.label(!1);else if(fC(a)){var j=a.callback,k=a.fields,b=fm(a,["callback","fields"]),h=b.offset,c=b.layout;(void 0===h||h>=0)&&(c=c?fB(c)?c:[c]:[],b.layout=fw(c,function(a){return"limit-in-shape"!==a.type}),b.layout.length||delete b.layout),e.label({fields:k||[g],callback:j,cfg:st(b)})}else sl(aS.WARN,null===a,"the label option must be an Object."),e.label({fields:[g]});return d}function t9(a){var b=a.chart,c=a.options,d=c.legend,e=c.seriesField;return!1===d?b.legend(!1):e&&b.legend(e,d),a}function ua(b){var c=b.chart,a=b.options,d=a.radius,e=a.innerRadius,f=a.startAngle,g=a.endAngle;return c.coordinate({type:"polar",cfg:{radius:d,innerRadius:e,startAngle:f,endAngle:g}}),b}function ub(c){var b,a=c.options,d=a.xAxis,e=a.yAxis,f=a.xField,g=a.yField;return sh(ta(((b={})[f]=d,b[g]=e,b)))(c)}function uc(c){var a=c.chart,b=c.options,d=b.xAxis,e=b.yAxis,f=b.xField,g=b.yField;return d?a.axis(f,d):a.axis(f,!1),e?a.axis(g,e):a.axis(g,!1),c}function ud(a){sh(s1("sectorStyle"),t7,ub,t8,ua,uc,t9,s3,s4,s5,s6,tb(),s7)(a)}var ue=i({},c.getDefaultOptions(),{xAxis:!1,yAxis:!1,legend:{position:"right",radio:{}},sectorStyle:{stroke:"#fff",lineWidth:1},label:{layout:{type:"limit-in-shape"}},tooltip:{shared:!0,showMarkers:!1},interactions:[{type:"active-region"}]});!function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.type="rose",a}fl(a,b),a.getDefaultOptions=function(){return ue},a.prototype.changeData=function(a){this.updateOption({data:a}),this.chart.changeData(a)},a.prototype.getDefaultOptions=function(){return a.getDefaultOptions()},a.prototype.getSchemaAdaptor=function(){return ud}}(c);var uf={font:function(){return"serif"},padding:1,size:[500,500],spiral:"archimedean",timeInterval:3e3},ug=Math.PI/180;function uh(a){return a.text}function ui(){return"serif"}function uj(){return"normal"}function uk(a){return a.value}function ul(){return 90*~~(2*Math.random())}function um(){return 1}function un(o,a,l,j){if(!a.sprite){var d=o.context,f=o.ratio;d.clearRect(0,0,2048/f,2048/f);var g=0,h=0,k=0,y=l.length;for(--j;++j<y;){a=l[j],d.save(),d.font=a.style+" "+a.weight+" "+ ~~((a.size+1)/f)+"px "+a.font;var b=d.measureText(a.text+"m").width*f,c=a.size<<1;if(a.rotate){var p=Math.sin(a.rotate*ug),q=Math.cos(a.rotate*ug),r=b*q,s=b*p,t=c*q,u=c*p;b=Math.max(Math.abs(r+u),Math.abs(r-u))+31>>5<<5,c=~~Math.max(Math.abs(s+t),Math.abs(s-t))}else b=b+31>>5<<5;if(c>k&&(k=c),g+b>=2048&&(g=0,h+=k,k=0),h+c>=2048)break;d.translate((g+(b>>1))/f,(h+(c>>1))/f),a.rotate&&d.rotate(a.rotate*ug),d.fillText(a.text,0,0),a.padding&&(d.lineWidth=2*a.padding,d.strokeText(a.text,0,0)),d.restore(),a.width=b,a.height=c,a.xoff=g,a.yoff=h,a.x1=b>>1,a.y1=c>>1,a.x0=-a.x1,a.y0=-a.y1,a.hasText=!0,g+=b}for(var z=d.getImageData(0,0,2048/f,2048/f).data,m=[];--j>=0;)if((a=l[j]).hasText){for(var b=a.width,n=b>>5,c=a.y1-a.y0,e=0;e<c*n;e++)m[e]=0;if(null==(g=a.xoff))return;h=a.yoff;for(var v=0,w=-1,i=0;i<c;i++){for(var e=0;e<b;e++){var A=n*i+(e>>5),x=z[(h+i)*2048+(g+e)<<2]?1<<31-e%32:0;m[A]|=x,v|=x}v?w=i:(a.y0++,c--,i--,h++)}a.y1=a.y0+w,a.sprite=m.slice(0,(a.y1-a.y0)*n)}}}function uo(a,j,d){d>>=5;for(var e,k=a.sprite,c=a.width>>5,g=a.x-(c<<4),h=127&g,l=32-h,m=a.y1-a.y0,i=(a.y+a.y0)*d+(g>>5),f=0;f<m;f++){e=0;for(var b=0;b<=c;b++)if((e<<l|(b<c?(e=k[f*c+b])>>>h:0))&j[i+b])return!0;i+=d}return!1}function up(d,a){var b=d[0],c=d[1];a.x+a.x0<b.x&&(b.x=a.x+a.x0),a.y+a.y0<b.y&&(b.y=a.y+a.y0),a.x+a.x1>c.x&&(c.x=a.x+a.x1),a.y+a.y1>c.y&&(c.y=a.y+a.y1)}function uq(a,b){return a.x+a.x1>b[0].x&&a.x+a.x0<b[1].x&&a.y+a.y1>b[0].y&&a.y+a.y0<b[1].y}function et(a){var b=a[0]/a[1];return function(a){return[b*(a*=.1)*Math.cos(a),a*Math.sin(a)]}}function ur(c){for(var a=[],b=-1;++b<c;)a[b]=0;return a}function us(){return document.createElement("canvas")}function ut(a){return fz(a)?a:function(){return a}}var uu={archimedean:et,rectangular:function(a){var b=4*a[0]/a[1],c=0,d=0;return function(a){var e=a<0?-1:1;switch(Math.sqrt(1+4*e*a)-e&3){case 0:c+=b;break;case 1:d+=4;break;case 2:c-=b;break;default:d-=4}return[c,d]}}};function uv(){var b=[256,256],c=ui,d=uk,e=uj,f=ul,g=um,h=et,i=Math.random,j=[],k=1/0,l=uh,m=uj,n=us,a={};function o(m,a,e){for(var f,g,j,s=a.x,t=a.y,u=Math.sqrt(b[0]*b[0]+b[1]*b[1]),v=h(b),n=.5>i()?1:-1,w=-n;(f=v(w+=n))&&(g=~~f[0],j=~~f[1],!(Math.min(Math.abs(g),Math.abs(j))>=u));)if(a.x=s+g,a.y=t+j,!(a.x+a.x0<0)&&!(a.y+a.y0<0)&&!(a.x+a.x1>b[0])&&!(a.y+a.y1>b[1])&&(!e||!uo(a,m,b[0]))&&(!e||uq(a,e))){for(var x=a.sprite,d=a.width>>5,o=b[0]>>5,p=a.x-(d<<4),q=127&p,y=32-q,z=a.y1-a.y0,k=void 0,r=(a.y+a.y0)*o+(p>>5),l=0;l<z;l++){k=0;for(var c=0;c<=d;c++)m[r+c]|=k<<y|(c<d?(k=x[l*d+c])>>>q:0);r+=o}return delete a.sprite,!0}return!1}return a.start=function(){var h,q,p,r=b[0],s=b[1],t=(h=n(),h.width=h.height=1,q=Math.sqrt(h.getContext("2d").getImageData(0,0,1,1).data.length>>2),h.width=2048/q,h.height=2048/q,p=h.getContext("2d"),p.fillStyle=p.strokeStyle="red",p.textAlign="center",{context:p,ratio:q}),u=a.board?a.board:ur((b[0]>>5)*b[1]),v=j.length,w=[],x=j.map(function(a,b,h){return a.text=l.call(this,a,b,h),a.font=c.call(this,a,b,h),a.style=m.call(this,a,b,h),a.weight=e.call(this,a,b,h),a.rotate=f.call(this,a,b,h),a.size=~~d.call(this,a,b,h),a.padding=g.call(this,a,b,h),a}).sort(function(a,b){return b.size-a.size}),y=-1,z=a.board?[{x:0,y:0},{x:r,y:s},]:null;return function(){for(var d=Date.now();Date.now()-d<k&& ++y<v;){var c=x[y];c.x=r*(i()+.5)>>1,c.y=s*(i()+.5)>>1,un(t,c,x,y),c.hasText&&o(u,c,z)&&(w.push(c),z?a.hasImage||up(z,c):z=[{x:c.x+c.x0,y:c.y+c.y0},{x:c.x+c.x1,y:c.y+c.y1},],c.x-=b[0]>>1,c.y-=b[1]>>1)}a._tags=w,a._bounds=z}(),a},a.createMask=function(g){var h=document.createElement("canvas"),c=b[0],d=b[1];if(c&&d){var m=c>>5,k=ur((c>>5)*d);h.width=c,h.height=d;var l=h.getContext("2d");l.drawImage(g,0,0,g.width,g.height,0,0,c,d);for(var i=l.getImageData(0,0,c,d).data,f=0;f<d;f++)for(var e=0;e<c;e++){var n=m*f+(e>>5),j=f*c+e<<2,o=i[j]>=250&&i[j+1]>=250&&i[j+2]>=250,p=o?1<<31-e%32:0;k[n]|=p}a.board=k,a.hasImage=!0}},a.timeInterval=function(a){k=null==a?1/0:a},a.words=function(a){j=a},a.size=function(a){b=[+a[0],+a[1]]},a.font=function(a){c=ut(a)},a.fontWeight=function(a){e=ut(a)},a.rotate=function(a){f=ut(a)},a.spiral=function(a){h=uu[a]||a},a.fontSize=function(a){d=ut(a)},a.padding=function(a){g=ut(a)},a.random=function(a){i=ut(a)},a}function uw(k){var l,c,d,e,m,o,p,q,h,a=k.options,u=k.chart,b=u,v=b.width,w=b.height,x=b.padding,y=b.appendPadding,z=b.ele,f=a.data,A=a.imageMask,L=a.wordField,B=a.weightField,M=a.colorField,g=a.wordStyle,C=a.timeInterval,D=a.random,E=a.spiral,r=a.autoFit,F=a.placementStrategy;if(!f||!f.length)return[];var G=g.fontFamily,H=g.fontWeight,I=g.padding,J=g.fontSize,s=uA(f,B),K=[uD(s),uE(s)],t=f.map(function(a){return{text:a[L],value:a[B],color:a[M],datum:a}}),i={imageMask:A,font:G,fontSize:uz(J,K),fontWeight:H,size:ux({width:v,height:w,padding:x,appendPadding:y,autoFit:void 0===r||r,container:z}),padding:I,timeInterval:C,random:D,spiral:E,rotate:uB(a)};if(fz(F)){var j=t.map(function(a,b,c){return n(n(n({},a),{hasText:!!a.text,font:ut(i.font)(a,b,c),weight:ut(i.fontWeight)(a,b,c),rotate:ut(i.rotate)(a,b,c),size:ut(i.fontSize)(a,b,c),style:"normal"}),F.call(u,a,b,c))});return j.push({text:"",value:0,x:0,y:0,opacity:0}),j.push({text:"",value:0,x:i.size[0],y:i.size[1],opacity:0}),j}return q=t,h=gA({},uf,h=i),l=q,c=h,d=uv(),["font","fontSize","fontWeight","padding","rotate","size","spiral","timeInterval","random"].forEach(function(a){fA(c[a])||d[a](c[a])}),d.words(l),c.imageMask&&d.createMask(c.imageMask),(e=d.start()._tags).forEach(function(a){a.x+=c.size[0]/2,a.y+=c.size[1]/2}),o=(m=c.size)[0],p=m[1],e.push({text:"",value:0,x:0,y:0,opacity:0}),e.push({text:"",value:0,x:o,y:p,opacity:0}),e}function ux(a){var b=a.width,c=a.height,f=a.container,g=a.autoFit,h=a.padding,i=a.appendPadding;if(g){var e=sm(f);b=e.width,c=e.height}b=b||400,c=c||400;var d=uy({padding:h,appendPadding:i}),j=d[0],k=d[1],l=d[2],m=d[3],n=[b-(m+k),c-(j+l)];return n}function uy(c){var a=sI(c.padding),b=sI(c.appendPadding),d=a[0]+b[0],e=a[1]+b[1],f=a[2]+b[2],g=a[3]+b[3];return[d,e,f,g]}function uz(a,b){if(fz(a))return a;if(fB(a)){var e=a[0],f=a[1];if(!b)return function(){return(f+e)/2};var c=b[0],d=b[1];return d===c?function(){return(f+e)/2}:function(a){return(f-e)/(d-c)*(a.value-c)+e}}return function(){return a}}function uA(a,b){return a.map(function(a){return a[b]}).filter(function(a){return!("number"!=typeof a||isNaN(a))})}function uB(d){var b=uC(d),a=b.rotation,c=b.rotationSteps;if(!fB(a))return a;var e=a[0],f=a[1],g=1===c?0:(f-e)/(c-1);return function(){return f===e?f:Math.floor(Math.random()*c)*g}}function uC(b){var a=b.wordStyle.rotationSteps;return a<1&&(sl(aS.WARN,!1,"The rotationSteps option must be greater than or equal to 1."),a=1),{rotation:b.wordStyle.rotation,rotationSteps:a}}function uD(a){return Math.min.apply(Math,a)}function uE(a){return Math.max.apply(Math,a)}var eu="color",uF=i({},c.getDefaultOptions(),{timeInterval:2e3,legend:!1,tooltip:{showTitle:!1,showMarkers:!1,showCrosshairs:!1,fields:["text","value",eu],formatter:function(a){return{name:a.text,value:a.value}}},wordStyle:{fontFamily:"Verdana",fontWeight:"normal",padding:1,fontSize:[12,60],rotation:[0,90],rotationSteps:2,rotateRatio:.5}});function uG(a){var b=a.chart,c=a.options,e=c.colorField,d=c.color,f=uw(a);b.data(f);var g=i({},a,{options:{xField:"x",yField:"y",seriesField:e&&eu,rawFields:fz(d)&&fr(gB(c,"rawFields",[]),["datum"]),point:{color:d,shape:"word-cloud"}}}),h=tk(g).ext;return h.geometry.label(!1),b.coordinate().reflect("y"),b.axis(!1),a}function uH(a){return sh(ta({x:{nice:!1},y:{nice:!1}}))(a)}function uI(a){var b=a.chart,c=a.options,d=c.legend,e=c.colorField;return!1===d?b.legend(!1):e&&b.legend(eu,d),a}function uJ(a){sh(uG,uH,s3,uI,s4,s5,s6,s7)(a)}f("point","word-cloud",{draw:function(b,e){var a,f=b.x,g=b.y,c=e.addShape("text",{attrs:n(n({},(a=b,{fontSize:a.data.size,text:a.data.text,textAlign:"center",fontFamily:a.data.font,fontWeight:a.data.weight,fill:a.color||a.defaultStyle.stroke,textBaseline:"alphabetic"})),{x:f,y:g})}),d=b.data.rotate;return"number"==typeof d&&pq.rotate(c,d*Math.PI/180),c}}),function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.type="word-cloud",a}fl(a,b),a.getDefaultOptions=function(){return uF},a.prototype.changeData=function(a){this.updateOption({data:a}),this.options.imageMask?this.render():this.chart.changeData(uw({chart:this.chart,options:this.options}))},a.prototype.getDefaultOptions=function(){return a.getDefaultOptions()},a.prototype.render=function(){var a=this;return new Promise(function(e){var c=a.options.imageMask;if(!c){b.prototype.render.call(a),e();return}var f,d=function(c){a.options=n(n({},a.options),{imageMask:c||null}),b.prototype.render.call(a),e()};(f=c,new Promise(function(b,c){if(f instanceof HTMLImageElement){b(f);return}if(fT(f)){var a=new Image;a.crossOrigin="anonymous",a.src=f,a.onload=function(){b(a)},a.onerror=function(){sl(aS.ERROR,!1,"image %s load failed !!!",f),c()};return}sl(aS.WARN,void 0===f,"The type of imageMask option must be String or HTMLImageElement."),c()})).then(d).catch(d)})},a.prototype.getSchemaAdaptor=function(){return uJ},a.prototype.triggerResize=function(){var a=this;this.chart.destroyed||(this.execAdaptor(),window.setTimeout(function(){b.prototype.triggerResize.call(a)}))}}(c);var H=d(6645),uK={exp:H.regressionExp,linear:H.regressionLinear,loess:H.regressionLoess,log:H.regressionLog,poly:H.regressionPoly,pow:H.regressionPow,quad:H.regressionQuad},uL=function(d,a){var b=a.view,c=a.options,e=c.xField,f=c.yField,h=b.getScaleByField(e),i=b.getScaleByField(f),g=d.map(function(a){return b.getCoordinate().convert({x:h.scale(a[0]),y:i.scale(a[1])})});return function(a,f,j){var d=[],g=a[0],c=null;if(a.length<=2)return function(a,e){var b=[];if(a.length){b.push(["M",a[0].x,a[0].y]);for(var c=1,f=a.length;c<f;c+=1){var d=a[c];b.push(["L",d.x,d.y])}e&&b.push(["Z"])}return b}(a,f);for(var e=0,i=a.length;e<i;e++){var b=a[e];c&&c.x===b.x&&c.y===b.y||(d.push(b.x),d.push(b.y),c=b)}var h=function(g,k,l){for(var b,c,d,j=!!k,e=[],a=0,m=g.length;a<m;a+=2)e.push([g[a],g[a+1]]);for(var f=su(e,.4,j,l),h=e.length,i=[],a=0;a<h-1;a++)b=f[2*a],c=f[2*a+1],d=e[a+1],i.push(["C",b[0],b[1],c[0],c[1],d[0],d[1]]);return j&&(b=f[h],c=f[h+1],d=e[0],i.push(["C",b[0],b[1],c[0],c[1],d[0],d[1]])),i}(d,f,[[0,0],[1,1],]);return h.unshift(["M",g.x,g.y]),h}(g,!1)},uM=function(c){var d,a=c.options,h=a.xField,i=a.yField,e=a.data,f=a.regressionLine,g=f.type,b=f.algorithm;return d=b?fB(b)?b:b(e):uK[void 0===g?"linear":g]().x(function(a){return a[h]}).y(function(a){return a[i]})(e),uL(d,c)},uN=function(a){var d,f=a.meta,e=void 0===f?{}:f,b=a.xField,c=a.yField,g=a.data,i=g[0][b],j=g[0][c],k=i>0,l=j>0;function h(c,d){var f=gB(e,[c]);function b(a){return gB(f,a)}var a={};return"x"===d?(f5(i)&&(f5(b("min"))||(a.min=k?0:2*i),f5(b("max"))||(a.max=k?2*i:0)),a):(f5(j)&&(f5(b("min"))||(a.min=l?0:2*j),f5(b("max"))||(a.max=l?2*j:0)),a)}return n(n({},e),((d={})[b]=n(n({},e[b]),h(b,"x")),d[c]=n(n({},e[c]),h(c,"y")),d))};function uO(a){var l=a.data,b=void 0===l?[]:l,d=a.xField,e=a.yField;if(b.length){for(var f=!0,g=!0,h=b[0],c=void 0,j=1;j<b.length&&(c=b[j],h[d]!==c[d]&&(f=!1),h[e]!==c[e]&&(g=!1),f||g);j++)h=c;var k=[];f&&k.push(d),g&&k.push(e);var m=si(uN(a),k);return i({},a,{meta:m})}return a}function uP(d){var e=d.chart,a=d.options,j=a.data,f=a.type,k=a.color,l=a.shape,m=a.pointStyle,o=a.shapeField,g=a.colorField,p=a.xField,q=a.yField,h=a.sizeField,b=a.size,c=a.tooltip;h&&(b||(b=[2,8]),f5(b)&&(b=[b,b])),c&&!c.fields&&(c=n(n({},c),{fields:[p,q,g,h,o]})),e.data(j),tk(i({},d,{options:{seriesField:g,point:{color:k,shape:l,size:b,style:m},tooltip:c}}));var r=sn(e,"point");return f&&r.adjust(f),d}function uQ(c){var b,a=c.options,d=a.xAxis,e=a.yAxis,f=a.xField,g=a.yField,h=uO(a);return sh(ta(((b={})[f]=d,b[g]=e,b)))(i({},c,{options:h}))}function uR(b){var c=b.chart,a=b.options,d=a.xAxis,e=a.yAxis,f=a.xField,g=a.yField;return c.axis(f,d),c.axis(g,e),b}function uS(d){var b=d.chart,a=d.options,e=a.legend,h=a.colorField,f=a.shapeField,i=a.sizeField,c=a.shapeLegend,g=a.sizeLegend,j=!1!==e;return h&&b.legend(h,!!j&&e),f&&(c?b.legend(f,c):b.legend(f,!1!==c&&e)),i&&b.legend(i,!!g&&g),j||c||g||b.legend(!1),d}function uT(a){var e=a.chart,c=a.options,b=c.label,f=c.yField,d=sn(e,"point");if(b){var g=b.callback,h=fm(b,["callback"]);d.label({fields:[f],callback:g,cfg:st(h)})}else d.label(!1);return a}function uU(f){var b=f.options.quadrant,g=[];if(b){var c,a,h=b.xBaseline,d=void 0===h?0:h,j=b.yBaseline,e=void 0===j?0:j,m=b.labels,o=b.regionStyle,k=b.lineStyle,l=(c=d,{regionStyle:[{position:{start:[c,"max"],end:["max",a=e]},style:{fill:"#d8d0c0",opacity:.4}},{position:{start:["min","max"],end:[c,a]},style:{fill:"#a3dda1",opacity:.4}},{position:{start:["min",a],end:[c,"min"]},style:{fill:"#d8d0c0",opacity:.4}},{position:{start:[c,a],end:["max","min"]},style:{fill:"#a3dda1",opacity:.4}},],lineStyle:{stroke:"#9ba29a",lineWidth:1},labelStyle:[{position:["max",a],offsetX:-10,offsetY:-10,style:{textAlign:"right",textBaseline:"bottom",fontSize:14,fill:"#ccc"}},{position:["min",a],offsetX:10,offsetY:-10,style:{textAlign:"left",textBaseline:"bottom",fontSize:14,fill:"#ccc"}},{position:["min",a],offsetX:10,offsetY:10,style:{textAlign:"left",textBaseline:"top",fontSize:14,fill:"#ccc"}},{position:["max",a],offsetX:-10,offsetY:10,style:{textAlign:"right",textBaseline:"top",fontSize:14,fill:"#ccc"}},]});",,,".split(",").forEach(function(b,a){g.push(n(n({type:"region",top:!1},l.regionStyle[a].position),{style:i({},l.regionStyle[a].style,null==o?void 0:o[a])}),n({type:"text",top:!0},i({},l.labelStyle[a],null==m?void 0:m[a])))}),g.push({type:"line",top:!1,start:["min",e],end:["max",e],style:i({},l.lineStyle,k)},{type:"line",top:!1,start:[d,"min"],end:[d,"max"],style:i({},l.lineStyle,k)})}return sh(tb(g))(f)}function uV(a){var d=a.options,e=a.chart,b=d.regressionLine;if(b){var g=b.style,c=b.top,f=void 0!==c&&c,h={stroke:"#9ba29a",lineWidth:2,opacity:.5};e.annotation().shape({top:f,render:function(a,b){var c=a.addGroup({id:e.id+"-regression-line",name:"regression-line-group"}),f=uM({view:b,options:d});c.addShape("path",{name:"regression-line",attrs:n(n({path:f},h),g)})}})}return a}function uW(a){var c=a.chart,b=a.options.tooltip;return b?c.tooltip(b):!1===b&&c.tooltip(!1),a}function ev(a){return sh(uP,uQ,uR,uS,uW,uT,tI,s8,s9,s4,uU,s5,s6,uV)(a)}var uX=i({},c.getDefaultOptions(),{size:4,tooltip:{showTitle:!1,showMarkers:!1,showCrosshairs:!0,crosshairs:{type:"xy"}}});b("drag-move",{start:[{trigger:"plot:mousedown",action:"scale-translate:start"}],processing:[{trigger:"plot:mousemove",action:"scale-translate:translate",throttle:{wait:100,leading:!0,trailing:!1}},],end:[{trigger:"plot:mouseup",action:"scale-translate:end"}]});var ew=function(b){function a(c,d){var a=b.call(this,c,d)||this;return a.type="scatter",a.on(id.BEFORE_RENDER,function(d){var b,c,e=a,f=e.options,g=e.chart;if((null===(b=d.data)|| void 0===b?void 0:b.source)===aR.FILTER){var h=a.chart.filterData(a.chart.getData());uQ({chart:g,options:n(n({},f),{data:h})})}(null===(c=d.data)|| void 0===c?void 0:c.source)===aR.RESET&&uQ({chart:g,options:f})}),a}return fl(a,b),a.getDefaultOptions=function(){return uX},a.prototype.changeData=function(a){this.updateOption(uO(i({},this.options,{data:a})));var b=this.options;uQ({chart:this.chart,options:b}),this.chart.changeData(a)},a.prototype.getSchemaAdaptor=function(){return ev},a.prototype.getDefaultOptions=function(){return a.getDefaultOptions()},a}(c);function uY(c){var g=c.chart,a=c.options,h=a.data,j=a.lineStyle,d=a.color,b=a.point,e=a.area;g.data(h);var f=i({},c,{options:{line:{style:j,color:d},point:b?n({color:d},b):b,area:e?n({color:d},e):e,label:void 0}}),k=i({},f,{options:{tooltip:!1}}),l=(null==b?void 0:b.state)||a.state,m=i({},f,{options:{tooltip:!1,state:l}});return tj(f),tk(m),ti(k),c}function uZ(c){var b,a=c.options,d=a.xAxis,e=a.yAxis,f=a.xField,g=a.yField;return sh(ta(((b={})[f]=d,b[g]=e,b)))(c)}function u$(a){var c=a.chart,b=a.options,d=b.radius,e=b.startAngle,f=b.endAngle;return c.coordinate("polar",{radius:d,startAngle:e,endAngle:f}),a}function u_(b){var c=b.chart,a=b.options,d=a.xField,e=a.xAxis,f=a.yField,g=a.yAxis;return c.axis(d,e),c.axis(f,g),b}function u0(a){var e=a.chart,c=a.options,b=c.label,f=c.yField,d=sn(e,"line");if(b){var g=b.callback,h=fm(b,["callback"]);d.label({fields:[f],callback:g,cfg:st(h)})}else d.label(!1);return a}function u1(a){return sh(uY,uZ,s6,u$,u_,s2,s3,u0,s4,s5,tb())(a)}var ex=function(b){function a(){return null!==b&&b.apply(this,arguments)||this}return fl(a,b),Object.defineProperty(a.prototype,"name",{get:function(){return"radar-tooltip"},enumerable:!1,configurable:!0}),a.prototype.getTooltipItems=function(d){var a=this.getTooltipCfg(),h=a.shared,i=a.title,c=b.prototype.getTooltipItems.call(this,d);if(c.length>0){var e=this.view.geometries[0],f=e.dataArray,j=c[0].name,g=[];return f.forEach(function(a){a.forEach(function(c){var a=pq.getTooltipItems(c,e)[0];if(!h&&a&&a.name===j){var b=fA(i)?j:i;g.push(n(n({},a),{name:a.title,title:b}))}else if(h&&a){var b=fA(i)?a.name||j:i;g.push(n(n({},a),{name:a.title,title:b}))}})}),g}return[]},a}(bM);F("radar-tooltip",ex);var u2,b0,b1,ey=function(b){function a(){return null!==b&&b.apply(this,arguments)||this}return fl(a,b),a.prototype.init=function(){this.context.view.removeInteraction("tooltip")},a.prototype.show=function(){var a=this.context.event;this.getTooltipController().showTooltip({x:a.x,y:a.y})},a.prototype.hide=function(){this.getTooltipController().hideTooltip()},a.prototype.getTooltipController=function(){return this.context.view.getController("radar-tooltip")},a}(g);a("radar-tooltip",ey),b("radar-tooltip",{start:[{trigger:"plot:mousemove",action:"radar-tooltip:show"}],end:[{trigger:"plot:mouseleave",action:"radar-tooltip:hide"}]}),function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.type="radar",a}fl(a,b),a.prototype.changeData=function(a){this.updateOption({data:a}),this.chart.changeData(a)},a.prototype.getDefaultOptions=function(){return i({},b.prototype.getDefaultOptions.call(this),{xAxis:{label:{offset:15},grid:{line:{type:"line"}}},yAxis:{grid:{line:{type:"circle"}}},legend:{position:"top"},tooltip:{shared:!0,showCrosshairs:!0,showMarkers:!0,crosshairs:{type:"xy",line:{style:{stroke:"#565656",lineDash:[4]}},follow:!0}}})},a.prototype.getSchemaAdaptor=function(){return u1}}(c),(b0=aT||(aT={})).Left="Left",b0.Right="Right",(b1=aU||(aU={})).Line="line",b1.Column="column";var u3="left-axes-view",u4="right-axes-view",b2={nice:!0,label:{autoHide:!0,autoRotate:!1}},u5=n(n({},b2),{position:"left"}),u6=n(n({},b2),{position:"right",grid:null});function u7(a){return gB(a,"geometry")===aU.Line}function u8(a){return gB(a,"geometry")===aU.Column}function u9(b,c,a){return u8(a)?i({},{geometry:aU.Column,label:a.label&&a.isRange?{content:function(b){var a;return null===(a=b[c])|| void 0===a?void 0:a.join("-")}}:void 0},a):n({geometry:aU.Line},a)}function va(b,a){var c=b[0],d=b[1];if(fB(a)){var e=a[0],f=a[1];return[e,f]}var g=gB(a,c),h=gB(a,d);return[g,h]}function vb(a,b){return b===aT.Left?!1!==a&&i({},u5,a):b===aT.Right?!1!==a&&i({},u6,a):a}function vc(b){var c=b.view,e=b.geometryOption,f=b.yField,d=gB(b.legend,"marker"),h=sn(c,u7(e)?"line":"interval");if(!e.seriesField){var j=gB(c,"options.scales."+f+".alias")||f,g=h.getAttribute("color"),a=c.getTheme().defaultColor;g&&(a=pq.getMappingValue(g,j,gB(g,["values",0],a)));var k=(fz(d)?d:!gv(d)&&i({},{style:{stroke:a,fill:a}},d))||(u7(e)?{symbol:function(a,b,c){return[["M",a-c,b],["L",a+c,b],]},style:{lineWidth:2,r:6,stroke:a}}:{symbol:"square",style:{fill:a}});return[{value:f,name:j,marker:k,isGeometry:!0,viewId:c.id},]}return fR(h.getGroupAttributes(),function(a,b){var e=pq.getLegendItems(c,h,b,c.getTheme(),d);return a.concat(e)},[])}var vd=function(a,c){var f=c[0],g=c[1],d=a.getOptions().data,b=a.getXScale(),h=gK(d);if(b&&h){var j,i=fW(d,b.field),e=gK(i),k=Math.floor(f*(e-1)),l=Math.floor(g*(e-1));a.filter(b.field,function(e){var a,b,c,d=i.indexOf(e);return!(d> -1)||(a=d,b=k,a>=Math.min(b,c=l)&&a<=Math.max(b,c))}),a.getRootView().render(!0)}};function ve(f){var g,a=f.options,h=a.geometryOptions,d=void 0===h?[]:h,e=a.xField,b=a.yField,c=fZ(d,function(b){var a=b.geometry;return a===aU.Line|| void 0===a});return i({},{options:{geometryOptions:[],meta:((g={})[e]={type:"cat",sync:!0,range:c?[0,1]:void 0},g),tooltip:{showMarkers:c,showCrosshairs:c,shared:!0,crosshairs:{type:"x"}},interactions:c?[{type:"legend-visible-filter"}]:[{type:"legend-visible-filter"},{type:"active-region"}],legend:{position:"top-left"}}},f,{options:{yAxis:va(b,a.yAxis),geometryOptions:[u9(e,b[0],d[0]),u9(e,b[1],d[1]),],annotations:va(b,a.annotations)}})}function vf(a){var b,c,e=a.chart,d=a.options.geometryOptions,f={line:0,column:1};return[{type:null===(b=d[0])|| void 0===b?void 0:b.geometry,id:u3},{type:null===(c=d[1])|| void 0===c?void 0:c.geometry,id:u4},].sort(function(a,b){return-f[a.type]+f[b.type]}).forEach(function(a){return e.createView({id:a.id})}),a}function vg(b){var f=b.chart,a=b.options,g=a.xField,c=a.yField,d=a.geometryOptions,e=a.data,h=a.tooltip;return[n(n({},d[0]),{id:u3,data:e[0],yField:c[0]}),n(n({},d[1]),{id:u4,data:e[1],yField:c[1]}),].forEach(function(a){var e=a.id,c=a.data,b=a.yField,d=u8(a)&&a.isPercent,j=d?tx(c,b,g,b):c,k=sq(f,e).data(j),l=d?n({formatter:function(c){return{name:c[a.seriesField]||b,value:(100*Number(c[b])).toFixed(2)+"%"}}},h):h;!function(b){var c=b.options,f=b.chart,a=c.geometryOption,g=a.isStack,h=a.color,j=a.seriesField,k=a.groupField,l=a.isGroup,d=["xField","yField"];if(u7(a)){tj(i({},b,{options:n(n(n({},si(c,d)),a),{line:{color:a.color,style:a.lineStyle}})})),tk(i({},b,{options:n(n(n({},si(c,d)),a),{point:a.point&&n({color:h,shape:"circle"},a.point)})}));var e=[];l&&e.push({type:"dodge",dodgeBy:k||j,customOffset:0}),g&&e.push({type:"stack"}),e.length&&I(f.geometries,function(a){a.adjust(e)})}return u8(a)&&ek(i({},b,{options:n(n(n({},si(c,d)),a),{widthRatio:a.columnWidthRatio,interval:n(n({},si(a,["color"])),{style:a.columnStyle})})})),b}({chart:k,options:{xField:g,yField:b,tooltip:l,geometryOption:a}})}),b}function vh(a){var b,c=a.chart,d=a.options.geometryOptions,e=(null===(b=c.getTheme())|| void 0===b?void 0:b.colors10)||[],f=0;return c.once("beforepaint",function(){I(d,function(g,a){var b=sq(c,0===a?u3:u4);if(!g.color){var d=gB(b.getGroupScales(),[0,"values","length"],1),h=e.slice(f,f+d).concat(0===a?[]:e);b.geometries.forEach(function(a){g.seriesField?a.color(g.seriesField,h):a.color(h[0])}),f+=d}}),c.render(!0)}),a}function vi(a){var c,d,e=a.chart,b=a.options,f=b.xAxis,g=b.yAxis,h=b.xField,j=b.yField;return ta(((c={})[h]=f,c[j[0]]=g[0],c))(i({},a,{chart:sq(e,u3)})),ta(((d={})[h]=f,d[j[1]]=g[1],d))(i({},a,{chart:sq(e,u4)})),a}function vj(d){var a=d.chart,b=d.options,f=sq(a,u3),g=sq(a,u4),e=b.xField,c=b.yField,i=b.xAxis,h=b.yAxis;return a.axis(e,!1),a.axis(c[0],!1),a.axis(c[1],!1),f.axis(e,i),f.axis(c[0],vb(h[0],aT.Left)),g.axis(e,!1),g.axis(c[1],vb(h[1],aT.Right)),d}function vk(a){var b=a.chart,c=a.options.tooltip,d=sq(b,u3),e=sq(b,u4);return b.tooltip(c),d.tooltip({shared:!0}),e.tooltip({shared:!0}),a}function vl(a){var b=a.chart;return s4(i({},a,{chart:sq(b,u3)})),s4(i({},a,{chart:sq(b,u4)})),a}function vm(a){var b=a.chart,c=a.options.annotations,d=gB(c,[0]),e=gB(c,[1]);return tb(d)(i({},a,{chart:sq(b,u3),options:{annotations:d}})),tb(e)(i({},a,{chart:sq(b,u4),options:{annotations:e}})),a}function vn(a){var b=a.chart;return s6(i({},a,{chart:sq(b,u3)})),s6(i({},a,{chart:sq(b,u4)})),s6(a),a}function vo(a){var b=a.chart;return s5(i({},a,{chart:sq(b,u3)})),s5(i({},a,{chart:sq(b,u4)})),a}function vp(a){var b=a.chart,c=a.options.yAxis;return tc(i({},a,{chart:sq(b,u3),options:{yAxis:c[0]}})),tc(i({},a,{chart:sq(b,u4),options:{yAxis:c[1]}})),a}function vq(e){var a=e.chart,d=e.options,b=d.legend,c=d.geometryOptions,k=d.yField,l=d.data,f=sq(a,u3),g=sq(a,u4);if(!1===b)a.legend(!1);else if(fC(b)&& !0===b.custom)a.legend(b);else{var h=gB(c,[0,"legend"],b),j=gB(c,[1,"legend"],b);a.once("beforepaint",function(){var d=l[0].length?vc({view:f,geometryOption:c[0],yField:k[0],legend:h}):[],e=l[1].length?vc({view:g,geometryOption:c[1],yField:k[1],legend:j}):[];a.legend(i({},b,{custom:!0,items:d.concat(e)}))}),c[0].seriesField&&f.legend(c[0].seriesField,h),c[1].seriesField&&g.legend(c[1].seriesField,j),a.on("legend-item:click",function(d){var b=gB(d,"gEvent.delegateObject",{});if(b&&b.item){var c=b.item,h=c.value,e=c.isGeometry,f=c.viewId;if(e){if(fI(k,function(a){return a===h})> -1){var g=gB(sq(a,f),"geometries");I(g,function(a){a.changeVisible(!b.item.unchecked)})}}else{var i=gB(a.getController("legend"),"option.items",[]);I(a.views,function(b){I(b.getGroupScales(),function(a){a.values&&a.values.indexOf(h)> -1&&b.filter(a.field,function(a){return!fH(i,function(b){return b.value===a}).unchecked})}),a.render(!0)})}}})}return e}function vr(a){var b=a.chart,c=a.options.slider,d=sq(b,u3),e=sq(b,u4);return c&&(d.option("slider",c),d.on("slider:valuechanged",function(c){var a=c.event,b=a.value;!gw(b,a.originValue)&&vd(e,b)}),b.once("afterpaint",function(){if(!gj(c)){var a=c.start,b=c.end;(a||b)&&vd(e,[a,b])}})),a}function vs(a){return sh(ve,vf,vn,vg,vi,vj,vp,vk,vl,vm,vo,vh,vq,vr)(a)}!function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.type="dual-axes",a}fl(a,b),a.prototype.getDefaultOptions=function(){return i({},b.prototype.getDefaultOptions.call(this),{yAxis:[],syncViewPadding:!0})},a.prototype.getSchemaAdaptor=function(){return vs}}(c);var b3={showTitle:!1,shared:!0,showMarkers:!1,customContent:function(b,a){return""+gB(a,[0,"data","y"],0)},containerTpl:'<div class="g2-tooltip"><div class="g2-tooltip-list"></div></div>',itemTpl:"<span>{value}</span>",domStyles:{"g2-tooltip":{padding:"2px 4px",fontSize:"10px"}},showCrosshairs:!0,crosshairs:{type:"x"}},vt={appendPadding:2,tooltip:n({},b3),animation:{}};function vu(a){return gx(a||[],function(a,b){return{x:""+b,y:a}})}function vv(b){var c=b.chart,a=b.options,f=a.data,g=a.color,h=a.areaStyle,d=a.point,j=a.line,k=null==d?void 0:d.state,l=vu(f);c.data(l);var e=i({},b,{options:{xField:"x",yField:"y",area:{color:g,style:h},line:j,point:d}}),m=i({},e,{options:{tooltip:!1}}),n=i({},e,{options:{tooltip:!1,state:k}});return ti(e),tj(m),tk(n),c.axis(!1),c.legend(!1),b}function vw(d){var a,b,c=d.options,e=c.xAxis,f=c.yAxis,g=c.data,h=vu(g);return sh(ta(((a={}).x=e,a.y=f,a),((b={}).x={type:"cat"},b.y=sF(h,"y"),b)))(d)}function ez(a){return sh(s1("areaStyle"),vv,vw,s3,s6,s5,tb())(a)}function vx(a){var c=a.chart,b=a.options,f=b.data,g=b.color,h=b.lineStyle,d=b.point,j=null==d?void 0:d.state,k=vu(f);c.data(k);var e=i({},a,{options:{xField:"x",yField:"y",line:{color:g,style:h},point:d}}),l=i({},e,{options:{tooltip:!1,state:j}});return tj(e),tk(l),c.axis(!1),c.legend(!1),a}function eA(a){return sh(vx,vw,s6,s3,s5,tb())(a)}var eB=function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.type="tiny-line",a}return fl(a,b),a.getDefaultOptions=function(){return vt},a.prototype.changeData=function(a){this.updateOption({data:a});var b=this.chart;vw({chart:b,options:this.options}),b.changeData(vu(a))},a.prototype.getDefaultOptions=function(){return a.getDefaultOptions()},a.prototype.getSchemaAdaptor=function(){return eA},a}(c);function vy(a){var b=a.chart,c=a.options,d=c.data,e=c.color,f=c.columnStyle,g=c.columnWidthRatio,h=vu(d);b.data(h);var j=i({},a,{options:{xField:"x",yField:"y",widthRatio:g,interval:{style:f,color:e}}});return tl(j),b.axis(!1),b.legend(!1),b.interaction("element-active"),a}function eC(a){return sh(s6,s1("columnStyle"),vy,vw,s3,s5,tb())(a)}var vz={appendPadding:2,tooltip:n({},{showTitle:!1,shared:!0,showMarkers:!1,customContent:function(b,a){return""+gB(a,[0,"data","y"],0)},containerTpl:'<div class="g2-tooltip"><div class="g2-tooltip-list"></div></div>',itemTpl:"<span>{value}</span>",domStyles:{"g2-tooltip":{padding:"2px 4px",fontSize:"10px"}}}),animation:{}},eD=function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.type="tiny-column",a}return fl(a,b),a.getDefaultOptions=function(){return vz},a.prototype.changeData=function(a){this.updateOption({data:a});var b=this.chart;vw({chart:b,options:this.options}),b.changeData(vu(a))},a.prototype.getDefaultOptions=function(){return a.getDefaultOptions()},a.prototype.getSchemaAdaptor=function(){return eC},a}(c),vA={appendPadding:2,tooltip:n({},b3),color:"l(90) 0:#E5EDFE 1:#ffffff",areaStyle:{fillOpacity:.6},line:{size:1,color:"#5B8FF9"},animation:{}},eE=function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.type="tiny-area",a}return fl(a,b),a.getDefaultOptions=function(){return vA},a.prototype.changeData=function(a){this.updateOption({data:a});var b=this.chart;vw({chart:b,options:this.options}),b.changeData(vu(a))},a.prototype.getDefaultOptions=function(){return a.getDefaultOptions()},a.prototype.getSchemaAdaptor=function(){return ez},a}(c);function vB(c,a,d){if(1===d)return[0,a];var b=Math.floor(c/a);return[a*b,a*(b+1)]}function vC(j,e,c,a,k){var b=gp(j);fU(b,e);var f=fW(b,e),d=fO(f),g=d.max-d.min,h=c;if(!c&&a&&(h=a>1?g/(a-1):d.max),!c&&!a){var l,m=Math.ceil(Math.log((l=f).length)/Math.LN2)+1;h=g/m}var n={},i=f0(b,k);gv(i)?I(b,function(d){var b=vB(d[e],h,a),c=b[0]+"-"+b[1];gd(n,c)||(n[c]={range:b,count:0}),n[c].count+=1}):Object.keys(i).forEach(function(b){I(i[b],function(f){var d=vB(f[e],h,a),c=d[0]+"-"+d[1]+"-"+b;gd(n,c)||(n[c]={range:d,count:0},n[c][k]=b),n[c].count+=1})});var o=[];return I(n,function(a){o.push(a)}),o}var vD="range",vE="count",vF=i({},c.getDefaultOptions(),{columnStyle:{stroke:"#FFFFFF"},tooltip:{shared:!0,showMarkers:!1},interactions:[{type:"active-region"}]});function vG(b){var d=b.chart,a=b.options,f=a.data,g=a.binField,h=a.binNumber,j=a.binWidth,k=a.color,c=a.stackField,e=a.legend,l=a.columnStyle,m=vC(f,g,j,h,c);d.data(m);var n=i({},b,{options:{xField:vD,yField:vE,seriesField:c,isStack:!0,interval:{color:k,style:l}}});return tl(n),e&&c&&d.legend(c,e),b}function vH(b){var a,c=b.options,d=c.xAxis,e=c.yAxis;return sh(ta(((a={})[vD]=d,a[vE]=e,a)))(b)}function vI(b){var a=b.chart,c=b.options,d=c.xAxis,e=c.yAxis;return!1===d?a.axis(vD,!1):a.axis(vD,d),!1===e?a.axis(vE,!1):a.axis(vE,e),b}function vJ(a){var d=a.chart,e=a.options,b=e.label,c=sn(d,"interval");if(b){var f=b.callback,g=fm(b,["callback"]);c.label({fields:[vE],callback:f,cfg:st(g)})}else c.label(!1);return a}function eF(a){return sh(s6,s1("columnStyle"),vG,vH,vI,s7,vJ,s3,s4,s5)(a)}var eG=function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.type="histogram",a}return fl(a,b),a.getDefaultOptions=function(){return vF},a.prototype.changeData=function(b){this.updateOption({data:b});var a=this.options,c=a.binField,d=a.binNumber,e=a.binWidth,f=a.stackField;this.chart.changeData(vC(b,c,e,d,f))},a.prototype.getDefaultOptions=function(){return a.getDefaultOptions()},a.prototype.getSchemaAdaptor=function(){return eF},a}(c),eH=["#FAAD14","#E8EDF3"],vK={percent:.2,color:eH,animation:{}};function vL(a){var b=f3(sE(a)?a:0,0,1);return[{type:"current",percent:b},{type:"target",percent:1-b},]}function vM(a){var b=a.chart,c=a.options,e=c.percent,f=c.progressStyle,d=c.color,g=c.barWidthRatio;b.data(vL(e));var h=i({},a,{options:{xField:"1",yField:"percent",seriesField:"type",isStack:!0,widthRatio:g,interval:{style:f,color:fT(d)?[d,eH[1]]:d},args:{zIndexReversed:!0,sortZIndex:!0}}});return tl(h),b.tooltip(!1),b.axis(!1),b.legend(!1),a}function vN(a){return a.chart.coordinate("rect").transpose(),a}function eI(a){return sh(vM,ta({}),vN,s5,s6,tb())(a)}var eJ=function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.type="process",a}return fl(a,b),a.getDefaultOptions=function(){return vK},a.prototype.changeData=function(a){this.updateOption({percent:a}),this.chart.changeData(vL(a))},a.prototype.getDefaultOptions=function(){return a.getDefaultOptions()},a.prototype.getSchemaAdaptor=function(){return eI},a}(c);function vO(a){var c=a.chart,b=a.options,d=b.innerRadius,e=b.radius;return c.coordinate("theta",{innerRadius:d,radius:e}),a}function vP(c,g){var d=c.chart,b=c.options,h=b.innerRadius,e=b.statistic,f=b.percent,j=b.meta;if(d.getController("annotation").clear(!0),h&&e){var k=gB(j,["percent","formatter"])||function(a){return(100*a).toFixed(2)+"%"},a=e.content;a&&(a=i({},a,{content:fA(a.content)?k(f):a.content})),sC(d,{statistic:n(n({},e),{content:a}),plotType:"ring-progress"},{percent:f})}return g&&d.render(!0),c}function eK(a){return sh(vM,ta({}),vO,vP,s5,s6,tb())(a)}var vQ={percent:.2,innerRadius:.8,radius:.98,color:["#FAAD14","#E8EDF3"],statistic:{title:!1,content:{style:{fontSize:"14px",fontWeight:300,fill:"#4D4D4D",textAlign:"center",textBaseline:"middle"}}},animation:{}},eL=function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.type="ring-process",a}return fl(a,b),a.getDefaultOptions=function(){return vQ},a.prototype.changeData=function(a){this.chart.emit(id.BEFORE_CHANGE_DATA,oK.fromData(this.chart,id.BEFORE_CHANGE_DATA,null)),this.updateOption({percent:a}),this.chart.data(vL(a)),vP({chart:this.chart,options:this.options},!0),this.chart.emit(id.AFTER_CHANGE_DATA,oK.fromData(this.chart,id.AFTER_CHANGE_DATA,null))},a.prototype.getDefaultOptions=function(){return a.getDefaultOptions()},a.prototype.getSchemaAdaptor=function(){return eK},a}(c);function vR(c){var f=c.chart,a=c.options,k=a.data,l=a.type,m=a.xField,n=a.yField,d=a.colorField,e=a.sizeField,b=a.sizeRatio,g=a.shape,o=a.color,p=a.tooltip,q=a.heatmapStyle;f.data(k);var h="polygon";"density"===l&&(h="heatmap");var j=te(p,[m,n,d]),r=j.fields,s=j.formatter,t=1;return(b||0===b)&&(g||e?b<0||b>1?console.warn("sizeRatio is not in effect: It must be a number in [0,1]"):t=b:console.warn("sizeRatio is not in effect: Must define shape or sizeField first")),th(i({},c,{options:{type:h,colorField:d,tooltipFields:r,shapeField:e||"",label:void 0,mapping:{tooltip:s,shape:g&&(e?function(c){var a=k.map(function(a){return a[e]}),b=Math.min.apply(Math,a),d=Math.max.apply(Math,a);return[g,(gB(c,e)-b)/(d-b),t]}:function(){return[g,1,t]}),color:o||d&&f.getTheme().sequenceColors.join("-"),style:q}}})),c}function vS(c){var b,a=c.options,d=a.xAxis,e=a.yAxis,f=a.xField,g=a.yField;return sh(ta(((b={})[f]=d,b[g]=e,b)))(c)}function vT(c){var a=c.chart,b=c.options,d=b.xAxis,e=b.yAxis,f=b.xField,g=b.yField;return!1===d?a.axis(f,!1):a.axis(f,d),!1===e?a.axis(g,!1):a.axis(g,e),c}function vU(b){var c=b.chart,a=b.options,d=a.legend,f=a.colorField,g=a.sizeField,e=a.sizeLegend,h=!1!==d;return f&&c.legend(f,!!h&&d),g&&c.legend(g,void 0===e?d:e),h||e||c.legend(!1),b}function vV(a){var f=a.chart,b=a.options,c=b.label,d=b.colorField,g=b.type,e=sn(f,"density"===g?"heatmap":"polygon");if(c){if(d){var h=c.callback,i=fm(c,["callback"]);e.label({fields:[d],callback:h,cfg:st(i)})}}else e.label(!1);return a}function vW(a){var c=a.chart,d=a.options,b=d.coordinate,e=d.reflect;return b&&c.coordinate({type:b.type||"rect",cfg:b.cfg}),e&&c.coordinate().reflect(e),a}function vX(a){return sh(s6,s1("heatmapStyle"),vS,vW,vR,vT,vU,s3,vV,tb(),s4,s5,s7)(a)}var vY=i({},c.getDefaultOptions(),{type:"polygon",legend:!1,coordinate:{type:"rect"},xAxis:{tickLine:null,line:null,grid:{alignTick:!1,line:{style:{lineWidth:1,lineDash:null,stroke:"#f0f0f0"}}}},yAxis:{grid:{alignTick:!1,line:{style:{lineWidth:1,lineDash:null,stroke:"#f0f0f0"}}}}});f("polygon","circle",{draw:function(a,e){var c,d,f=a.x,g=a.y,b=this.parsePoints(a.points),h=Math.abs(b[2].x-b[1].x),i=Math.abs(b[1].y-b[0].y),j=Number(a.shape[1]),k=Number(a.shape[2]),l=(null===(c=a.style)|| void 0===c?void 0:c.fill)||a.color||(null===(d=a.defaultStyle)|| void 0===d?void 0:d.fill);return e.addShape("circle",{attrs:n(n(n({x:f,y:g,r:Math.min(h,i)/2*Math.sqrt(k)*Math.sqrt(j)},a.defaultStyle),a.style),{fill:l})})}}),f("polygon","square",{draw:function(a,f){var d,e,g=a.x,h=a.y,b=this.parsePoints(a.points),i=Math.abs(b[2].x-b[1].x),j=Math.abs(b[1].y-b[0].y),k=Number(a.shape[1]),l=Number(a.shape[2]),c=Math.min(i,j)*Math.sqrt(l)*Math.sqrt(k),m=(null===(d=a.style)|| void 0===d?void 0:d.fill)||a.color||(null===(e=a.defaultStyle)|| void 0===e?void 0:e.fill);return f.addShape("rect",{attrs:n(n(n({x:g-c/2,y:h-c/2,width:c,height:c},a.defaultStyle),a.style),{fill:m})})}}),function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.type="heatmap",a}fl(a,b),a.getDefaultOptions=function(){return vY},a.prototype.getSchemaAdaptor=function(){return vX},a.prototype.getDefaultOptions=function(){return a.getDefaultOptions()}}(c);var eM="$$range$$",vZ="outliers_view",v$=i({},c.getDefaultOptions(),{meta:((aV={})[eM]={min:0,alias:"low-q1-median-q3-high"},aV),interactions:[{type:"active-region"}],tooltip:{showMarkers:!1,shared:!0},boxStyle:{lineWidth:1}}),v_=function(b,a){var c=b;if(Array.isArray(a)){var d=a[0],e=a[1],f=a[2],g=a[3],h=a[4];c=gx(b,function(a){return a[eM]=[a[d],a[e],a[f],a[g],a[h]],a})}return c};function v0(c){var f=c.chart,b=c.options,g=b.xField,a=b.yField,e=b.groupField,h=b.color,j=b.tooltip,k=b.boxStyle;f.data(v_(b.data,a));var l=fB(a)?eM:a,m=a?fB(a)?a:[a]:[],d=j;!1!==d&&(d=i({},{fields:fB(a)?a:[]},d));var n=to(i({},c,{options:{xField:g,yField:l,seriesField:e,tooltip:d,rawFields:m,label:!1,schema:{shape:"box",color:h,style:k}}})).ext;return e&&n.geometry.adjust("dodge"),c}function v1(b){var e=b.chart,a=b.options,f=a.xField,g=a.data,d=a.outliersField,h=a.outliersStyle,i=a.padding,j=a.label;if(!d)return b;var c=e.createView({padding:i,id:vZ}),k=g.reduce(function(a,b){return b[d].forEach(function(e){var c;return a.push(n(n({},b),((c={})[d]=e,c)))}),a},[]);return c.data(k),tk({chart:c,options:{xField:f,yField:d,point:{shape:"circle",style:h},label:j}}),c.axis(!1),b}function v2(b){var c,d,k=b.chart,a=b.options,l=a.meta,m=a.xAxis,n=a.yAxis,o=a.xField,e=a.yField,f=a.outliersField,g=Array.isArray(e)?eM:e,h={};if(f){var j="$$y_outliers$$";h=((c={})[f]={sync:j,nice:!0},c[g]={sync:j,nice:!0},c)}var p=i(h,l,((d={})[o]=si(m,sR),d[g]=si(n,sR),d));return k.scale(p),b}function v3(c){var a=c.chart,b=c.options,d=b.xAxis,e=b.yAxis,f=b.xField,g=b.yField,h=Array.isArray(g)?eM:g;return!1===d?a.axis(f,!1):a.axis(f,d),!1===e?a.axis(eM,!1):a.axis(h,e),c}function v4(a){var b=a.chart,d=a.options,e=d.legend,c=d.groupField;return c?e?b.legend(c,e):b.legend(c,{position:"bottom"}):b.legend(!1),a}function v5(a){return sh(v0,v1,v2,v3,v4,s3,s4,s5,s6)(a)}!function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.type="box",a}fl(a,b),a.getDefaultOptions=function(){return v$},a.prototype.changeData=function(a){this.updateOption({data:a});var c=this.options.yField,b=this.chart.views.find(function(a){return a.id===vZ});b&&b.data(a),this.chart.changeData(v_(a,c))},a.prototype.getDefaultOptions=function(){return a.getDefaultOptions()},a.prototype.getSchemaAdaptor=function(){return v5}}(c);var eN=d(3843),v6=d.n(eN);function v7(a,b){var c=a.length*b;if(0===a.length)throw Error("quantile requires at least one data point.");if(b<0||b>1)throw Error("quantiles must be between 0 and 1");if(1===b)return a[a.length-1];if(0===b)return a[0];if(c%1!=0)return a[Math.ceil(c)-1];else if(a.length%2==0)return(a[c-1]+a[c])/2;else return a[c]}function v8(a,b,c){var d=a[b];a[b]=a[c],a[c]=d}function v9(b,e,a,c){for(a=a||0,c=c||b.length-1;c>a;){if(c-a>600){var f=c-a+1,j=e-a+1,l=Math.log(f),h=.5*Math.exp(2*l/3),k=.5*Math.sqrt(l*h*(f-h)/f);j-f/2<0&&(k*=-1);var m=Math.max(a,Math.floor(e-j*h/f+k)),n=Math.min(c,Math.floor(e+(f-j)*h/f+k));v9(b,e,m,n)}var i=b[e],g=a,d=c;for(v8(b,a,e),b[c]>i&&v8(b,a,c);g<d;){for(v8(b,g,d),g++,d--;b[g]<i;)g++;for(;b[d]>i;)d--}b[a]===i?v8(b,a,d):v8(b,++d,c),d<=e&&(a=d+1),e<=d&&(c=d-1)}}function wa(e,a){var b=e.slice();if(Array.isArray(a)){wc(b,a);for(var d=[],c=0;c<a.length;c++)d[c]=v7(b,a[c]);return d}var f=we(b.length,a);return wb(b,f,0,b.length-1),v7(b,a)}function wb(b,a,d,c){a%1==0?v9(b,a,d,c):(v9(b,a=Math.floor(a),d,c),v9(b,a+1,a+1,c))}function wc(e,h){for(var a=[0],f=0;f<h.length;f++)a.push(we(e.length,h[f]));a.push(e.length-1),a.sort(wd);for(var b=[0,a.length-1];b.length;){var c=Math.ceil(b.pop()),d=Math.floor(b.pop());if(!(c-d<=1)){var g=Math.floor((d+c)/2);wb(e,a[g],Math.floor(a[d]),Math.ceil(a[c])),b.push(d,g,g,c)}}}function wd(a,b){return a-b}function we(b,c){var a=b*c;return 1===c?b-1:0===c?0:a%1!=0?Math.ceil(a)-1:b%2==0?a-.5:a}var wf=function(a){return{low:fN(a),high:fM(a),q1:wa(a,.25),q3:wa(a,.75),median:wa(a,[.5]),minMax:[fN(a),fM(a)],quantile:[wa(a,.25),wa(a,.75)]}},wg=function(b,c){var a=v6().create(b,c);return{violinSize:a.map(function(a){return a.y}),violinY:a.map(function(a){return a.x})}},wh=function(a){var e=a.xField,i=a.yField,c=a.seriesField,d=a.data,b=a.kde,j={min:b.min,max:b.max,size:b.sampleSize,width:b.width};if(!c){var f=f0(d,e);return Object.keys(f).map(function(a){var b=f[a].map(function(a){return a[i]});return n(n({x:a},wg(b,j)),wf(b))})}var g=[],h=f0(d,c);return Object.keys(h).forEach(function(a){var b=f0(h[a],e);return Object.keys(b).forEach(function(d){var e,f=b[d].map(function(a){return a[i]});g.push(n(n(((e={x:d})[c]=a,e),wg(f,j)),wf(f)))})}),g},wi="violinY",wj="minMax",wk="quantile",wl="median",wm="violin_view",wn=i({},c.getDefaultOptions(),{syncViewPadding:!0,kde:{type:"triangular",sampleSize:32,width:3},violinStyle:{lineWidth:1,fillOpacity:.3,strokeOpacity:.75},xAxis:{grid:{line:null},tickLine:{alignTick:!1}},yAxis:{grid:{line:{style:{lineWidth:.5,lineDash:[4,4]}}}},legend:{position:"top-left"},tooltip:{showMarkers:!1}}),wo=["low","high","q1","q3","median"],wp=[{type:"dodge",marginRatio:1/32},];function wq(a){var b=a.chart,c=a.options;return b.data(wh(c)),a}function wr(c){var g,a,d,h,j,e,k,l,f,m,o,r=c.chart,b=c.options,s=b.seriesField,t=b.color,p=b.shape,u=b.violinStyle,v=b.tooltip,w=b.state,q=r.createView({id:wm});return d=(a=(g={chart:q,options:{xField:"x",yField:wi,seriesField:s||"x",sizeField:"violinSize",tooltip:n({fields:wo},v),violin:{style:u,color:t,shape:void 0===p?"violin":p},state:w}}).options).violin,h=a.xField,j=a.yField,e=a.seriesField,k=a.sizeField,l=a.tooltip,f=te(l,[h,j,e,k]),m=f.fields,o=f.formatter,d&&th(i({},g,{options:{type:"violin",colorField:e,tooltipFields:m,mapping:n({tooltip:o},d)}})),q.geometries[0].adjust(wp),c}function ws(b){var g=b.chart,c=b.options,h=c.seriesField,i=c.color,j=c.tooltip,a=c.box;if(!1===a)return b;var d=g.createView({id:"min_max_view"});tl({chart:d,options:{xField:"x",yField:wj,seriesField:h||"x",tooltip:n({fields:wo},j),state:"object"==typeof a?a.state:{},interval:{color:i,size:1,style:{lineWidth:0}}}}),d.geometries[0].adjust(wp);var e=g.createView({id:"quantile_view"});tl({chart:e,options:{xField:"x",yField:wk,seriesField:h||"x",tooltip:n({fields:wo},j),state:"object"==typeof a?a.state:{},interval:{color:i,size:8,style:{fillOpacity:1}}}}),e.geometries[0].adjust(wp);var f=g.createView({id:"median_view"});return tk({chart:f,options:{xField:"x",yField:wl,seriesField:h||"x",tooltip:n({fields:wo},j),state:"object"==typeof a?a.state:{},point:{color:i,size:1,style:{fill:"white",lineWidth:0}}}}),f.geometries[0].adjust(wp),e.axis(!1),d.axis(!1),f.axis(!1),f.legend(!1),d.legend(!1),e.legend(!1),b}function wt(c){var a,e=c.chart,d=c.options,f=d.meta,g=d.xAxis,b=d.yAxis,h=i({},f,((a={}).x=n(n({sync:!0},si(g,sR)),{type:"cat"}),a[wi]=n({sync:!0},si(b,sR)),a[wj]=n({sync:wi},si(b,sR)),a[wk]=n({sync:wi},si(b,sR)),a[wl]=n({sync:wi},si(b,sR)),a));return e.scale(h),c}function wu(b){var c=b.chart,d=b.options,e=d.xAxis,f=d.yAxis,a=sq(c,wm);return!1===e?a.axis("x",!1):a.axis("x",e),!1===f?a.axis(wi,!1):a.axis(wi,f),c.axis(!1),b}function wv(a){var b=a.chart,c=a.options,d=c.legend,g=c.seriesField,f=c.shape;if(!1===d)b.legend(!1);else{var h=g||"x",e=gF(d,["selected"]);f&&f.startsWith("hollow")||gB(e,["marker","style","lineWidth"])||gC(e,["marker","style","lineWidth"],0),b.legend(h,e),gB(d,"selected")&&I(b.views,function(a){return a.legend(h,d)})}return a}function ww(a){var b=sq(a.chart,wm);return tb()(n(n({},a),{chart:b})),a}function wx(a){var b=a.chart,c=a.options,d=c.animation;return I(b.views,function(a){"boolean"==typeof d?a.animate(d):a.animate(!0),I(a.geometries,function(a){a.animate(d)})}),a}function wy(a){return sh(s6,wq,wr,ws,wt,s3,wu,wv,s4,ww,wx)(a)}!function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.type="violin",a}fl(a,b),a.getDefaultOptions=function(){return wn},a.prototype.changeData=function(a){this.updateOption({data:a}),this.chart.changeData(wh(this.options))},a.prototype.getDefaultOptions=function(){return a.getDefaultOptions()},a.prototype.getSchemaAdaptor=function(){return wy}}(c);var wz={normal:function(a){return a},multiply:function(a,b){return a*b/255},screen:function(a,b){return 255*(1-(1-a/255)*(1-b/255))},overlay:function(b,a){return a<128?2*b*a/255:255*(1-2*(1-b/255)*(1-a/255))},darken:function(a,b){return a>b?b:a},lighten:function(a,b){return a>b?a:b},dodge:function(a,b){return 255===a?255:(a=255*(b/255)/(1-a/255))>255?255:a},burn:function(a,b){return 255===b?255:0===a?0:255*(1-Math.min(1,(1-b/255)/(a/255)))}},wA=function(a){if(!wz[a])throw Error("unknown blend mode "+a);return wz[a]};function wB(c){var b,a=c.replace("/s+/g","");return"string"!=typeof a||a.startsWith("rgba")||a.startsWith("#")?(a.startsWith("rgba")&&(b=a.replace("rgba(","").replace(")","").split(",")),a.startsWith("#")&&(b=lj.rgb2arr(a).concat([1])),b.map(function(a,b){return 3===b?Number(a):0|a})):lj.rgb2arr(lj.toRGB(a)).concat([1])}var wC=d(9916);function wD(f,h){var a,q=wF(f),e=q.filter(function(a){return wE(a,f)}),j=0,k=0,n=[];if(e.length>1){var r=wK(e);for(a=0;a<e.length;++a){var o=e[a];o.angle=Math.atan2(o.x-r.x,o.y-r.y)}e.sort(function(a,b){return b.angle-a.angle});var g=e[e.length-1];for(a=0;a<e.length;++a){var c=e[a];k+=(g.x+c.x)*(c.y-g.y);for(var v={x:(c.x+g.x)/2,y:(c.y+g.y)/2},i=null,l=0;l<c.parentIndex.length;++l)if(g.parentIndex.indexOf(c.parentIndex[l])> -1){var d=f[c.parentIndex[l]],w=Math.atan2(c.x-d.x,c.y-d.y),s=Math.atan2(g.x-d.x,g.y-d.y),p=s-w;p<0&&(p+=2*Math.PI);var t=s-p/2,m=wH(v,{x:d.x+d.radius*Math.sin(t),y:d.y+d.radius*Math.cos(t)});m>2*d.radius&&(m=2*d.radius),(null===i||i.width>m)&&(i={circle:d,width:m,p1:c,p2:g})}null!==i&&(n.push(i),j+=wG(i.circle.radius,i.width),g=c)}}else{var b=f[0];for(a=1;a<f.length;++a)f[a].radius<b.radius&&(b=f[a]);var u=!1;for(a=0;a<f.length;++a)if(wH(f[a],b)>Math.abs(b.radius-f[a].radius)){u=!0;break}u?j=k=0:(j=b.radius*b.radius*Math.PI,n.push({circle:b,p1:{x:b.x,y:b.y+b.radius},p2:{x:b.x-1e-10,y:b.y+b.radius},width:2*b.radius}))}return k/=2,h&&(h.area=j+k,h.arcArea=j,h.polygonArea=k,h.arcs=n,h.innerPoints=e,h.intersectionPoints=q),j+k}function wE(c,b){for(var a=0;a<b.length;++a)if(wH(c,b[a])>b[a].radius+1e-10)return!1;return!0}function wF(b){for(var e=[],a=0;a<b.length;++a)for(var c=a+1;c<b.length;++c)for(var f=wJ(b[a],b[c]),d=0;d<f.length;++d){var g=f[d];g.parentIndex=[a,c],e.push(g)}return e}function wG(a,b){return a*a*Math.acos(1-b/a)-(a-b)*Math.sqrt(b*(2*a-b))}function wH(a,b){return Math.sqrt((a.x-b.x)*(a.x-b.x)+(a.y-b.y)*(a.y-b.y))}function wI(a,b,c){return c>=a+b?0:c<=Math.abs(a-b)?Math.PI*Math.min(a,b)*Math.min(a,b):wG(a,a-(c*c-b*b+a*a)/(2*c))+wG(b,b-(c*c-a*a+b*b)/(2*c))}function wJ(b,c){var a=wH(b,c),d=b.radius,e=c.radius;if(a>=d+e||a<=Math.abs(d-e))return[];var f=(d*d-e*e+a*a)/(2*a),g=Math.sqrt(d*d-f*f),h=b.x+f*(c.x-b.x)/a,i=b.y+f*(c.y-b.y)/a,j=-(c.y-b.y)*(g/a),k=-(c.x-b.x)*(g/a);return[{x:h+j,y:i-k},{x:h-j,y:i+k},]}function wK(a){for(var b={x:0,y:0},c=0;c<a.length;++c)b.x+=a[c].x,b.y+=a[c].y;return b.x/=a.length,b.y/=a.length,b}function wL(a,b,c){return Math.min(a,b)*Math.min(a,b)*Math.PI<=c+1e-10?Math.abs(a-b):(0,wC.bisect)(function(d){return wI(a,b,d)-c},0,a+b)}function wM(b,a,e){var c=(0,wC.zerosM)(a.length,a.length),d=(0,wC.zerosM)(a.length,a.length);return b.filter(function(a){return 2==a.sets.length}).map(function(g){var b=e[g.sets[0]],f=e[g.sets[1]],i=Math.sqrt(a[b].size/Math.PI),j=Math.sqrt(a[f].size/Math.PI),k=wL(i,j,g.size);c[b][f]=c[f][b]=k;var h=0;g.size+1e-10>=Math.min(a[b].size,a[f].size)?h=1:g.size<=1e-10&&(h=-1),d[b][f]=d[f][b]=h}),{distances:c,constraints:d}}function wN(e,c,k,p){var a,l=0;for(a=0;a<c.length;++a)c[a]=0;for(a=0;a<k.length;++a)for(var f=e[2*a],g=e[2*a+1],b=a+1;b<k.length;++b){var h=e[2*b],i=e[2*b+1],j=k[a][b],m=p[a][b],n=(h-f)*(h-f)+(i-g)*(i-g),o=Math.sqrt(n),d=n-j*j;(!(m>0)||!(o<=j))&&(!(m<0)||!(o>=j))&&(l+=2*d*d,c[2*a]+=4*d*(f-h),c[2*a+1]+=4*d*(g-i),c[2*b]+=4*d*(h-f),c[2*b+1]+=4*d*(i-g))}return l}function wO(a,b){var c=wQ(a,b),d=b.lossFunction||wR;if(a.length>=8){var e=wP(a,b),f=d(e,a),g=d(c,a);f+1e-8<g&&(c=e)}return c}function wP(f,b){var a,e,g,o=(b=b||{}).restarts||10,c=[],j={};for(a=0;a<f.length;++a){var h=f[a];1==h.sets.length&&(j[h.sets[0]]=c.length,c.push(h))}var k=wM(f,c,j),d=k.distances,r=k.constraints,i=(0,wC.norm2)(d.map(wC.norm2))/d.length;d=d.map(function(a){return a.map(function(a){return a/i})});var p=function(a,b){return wN(a,b,d,r)};for(a=0;a<o;++a){var q=(0,wC.zeros)(2*d.length).map(Math.random);g=(0,wC.conjugateGradient)(p,q,b),(!e||g.fx<e.fx)&&(e=g)}var l=e.x,m={};for(a=0;a<c.length;++a){var n=c[a];m[n.sets[0]]={x:l[2*a]*i,y:l[2*a+1]*i,radius:Math.sqrt(n.size/Math.PI)}}if(b.history)for(a=0;a<b.history.length;++a)(0,wC.scale)(b.history[a].x,i);return m}function wQ(i,p){for(var b,C=p&&p.lossFunction?p.lossFunction:wR,c={},g={},a=0;a<i.length;++a){var n=i[a];1==n.sets.length&&(c[b=n.sets[0]]={x:1e10,y:1e10,rowid:Object.keys(c).length,size:n.size,radius:Math.sqrt(n.size/Math.PI)},g[b]=[])}i=i.filter(function(a){return 2==a.sets.length});for(var a=0;a<i.length;++a){var j=i[a],q=j.hasOwnProperty("weight")?j.weight:1,r=j.sets[0],s=j.sets[1];j.size+1e-10>=Math.min(c[r].size,c[s].size)&&(q=0),g[r].push({set:s,size:j.size,weight:q}),g[s].push({set:r,size:j.size,weight:q})}var k=[];for(b in g)if(g.hasOwnProperty(b)){for(var v=0,a=0;a<g[b].length;++a)v+=g[b][a].size*g[b][a].weight;k.push({set:b,size:v})}function w(a,b){return b.size-a.size}k.sort(w);var F={};function D(a){return a.set in F}function x(b,a){c[a].x=b.x,c[a].y=b.y,F[a]=!0}x({x:0,y:0},k[0].set);for(var a=1;a<k.length;++a){var l=k[a].set,h=g[l].filter(D);if(b=c[l],h.sort(w),0===h.length)throw"ERROR: missing pairwise overlap information";for(var f=[],d=0;d<h.length;++d){var e=c[h[d].set],m=wL(b.radius,e.radius,h[d].size);f.push({x:e.x+m,y:e.y}),f.push({x:e.x-m,y:e.y}),f.push({y:e.y+m,x:e.x}),f.push({y:e.y-m,x:e.x});for(var o=d+1;o<h.length;++o)for(var t=c[h[o].set],E=wL(b.radius,t.radius,h[o].size),y=wJ({x:e.x,y:e.y,radius:m},{x:t.x,y:t.y,radius:E}),u=0;u<y.length;++u)f.push(y[u])}for(var z=1e50,A=f[0],d=0;d<f.length;++d){c[l].x=f[d].x,c[l].y=f[d].y;var B=C(c,i);B<z&&(z=B,A=f[d])}x(A,l)}return c}function wR(d,e){var f=0;function i(a){return a.map(function(a){return d[a]})}for(var c=0;c<e.length;++c){var a=e[c],b=void 0;if(1!=a.sets.length){if(2==a.sets.length){var g=d[a.sets[0]],h=d[a.sets[1]];b=wI(g.radius,h.radius,wH(g,h))}else b=wD(i(a.sets));f+=(a.hasOwnProperty("weight")?a.weight:1)*(b-a.size)*(b-a.size)}}return f}function wS(e,b,f){var a,d,c=b[0].radius-wH(b[0],e);for(a=1;a<b.length;++a)(d=b[a].radius-wH(b[a],e))<=c&&(c=d);for(a=0;a<f.length;++a)(d=wH(f[a],e)-f[a].radius)<=c&&(c=d);return c}function wT(c,e){var a,d=[];for(a=0;a<c.length;++a){var b=c[a];d.push({x:b.x,y:b.y}),d.push({x:b.x+b.radius/2,y:b.y}),d.push({x:b.x-b.radius/2,y:b.y}),d.push({x:b.x,y:b.y+b.radius/2}),d.push({x:b.x,y:b.y-b.radius/2})}var h=d[0],j=wS(d[0],c,e);for(a=1;a<d.length;++a){var k=wS(d[a],c,e);k>=j&&(h=d[a],j=k)}var l=(0,wC.nelderMead)(function(a){return -1*wS({x:a[0],y:a[1]},c,e)},[h.x,h.y],{maxIterations:500,minErrorDelta:1e-10}).x,g={x:l[0],y:l[1]},i=!0;for(a=0;a<c.length;++a)if(wH(g,c[a])>c[a].radius){i=!1;break}for(a=0;a<e.length;++a)if(wH(g,e[a])<e[a].radius){i=!1;break}if(!i){if(1==c.length)g={x:c[0].x,y:c[0].y};else{var f={};wD(c,f),g=0===f.arcs.length?{x:0,y:-1e3,disjoint:!0}:1==f.arcs.length?{x:f.arcs[0].circle.x,y:f.arcs[0].circle.y}:e.length?wT(c,[]):wK(f.arcs.map(function(a){return a.p1}))}}return g}var wU="path",wV={appendPadding:[10,0,20,0],blendMode:"multiply",tooltip:{showTitle:!1,showMarkers:!1,fields:["id","size"],formatter:function(a){return{name:a.id,value:a.size}}},legend:{position:"top-left"},label:{style:{textAlign:"center",fill:"#fff"}},interactions:[{type:"legend-filter",enable:!1}],state:{active:{style:{stroke:"#000"}},selected:{style:{stroke:"#000",lineWidth:2}},inactive:{style:{fillOpacity:.3,strokeOpacity:.3}}},defaultInteractions:["tooltip","venn-legend-active"]},wW=J(function(a,b,d,e){var c=new Map,f=a.length;return b.forEach(function(b,h){if(1===b[e].length)c.set(b.id,a[(h+f)%f]);else{var g=b[e].map(function(a){return c.get(a)});c.set(b.id,g.slice(1).reduce(function(t,u){var h,i,j,v,g,c,k,l,m,a,e,n,o,p,b,f,q,r,s;return h=t,i=u,void 0===(j=d)&&(j="normal"),g=(v=wA(j),function(b,c){var a=[];return a[0]=v(b[0],c[0]),a[1]=v(b[1],c[1]),a[2]=v(b[2],c[2]),a})(wB(h),wB(i)),c=wB(h),k=c[0],l=c[1],m=c[2],a=c[3],e=wB(i),n=e[0],o=e[1],p=e[2],b=e[3],f=Number((a+b*(1-a)).toFixed(2)),q=Math.round((a*(1-b)*(k/255)+a*b*(g[0]/255)+(1-a)*b*(n/255))/f*255),r=Math.round((a*(1-b)*(l/255)+a*b*(g[1]/255)+(1-a)*b*(o/255))/f*255),s=Math.round((a*(1-b)*(m/255)+a*b*(g[2]/255)+(1-a)*b*(p/255))/f*255),"rgba("+q+", "+r+", "+s+", "+f+")"},g[0]))}}),c},function(){for(var b=[],a=0;a<arguments.length;a++)b[a]=arguments[a];return JSON.stringify(b)});f("schema","venn",{draw:function(a,e){var b,f=ku(a.data[wU]),g=i({},(b=a).defaultStyle,{fill:b.color},b.style),c=e.addGroup({name:"venn-shape"});c.addShape("path",{attrs:n(n({},g),{path:f}),name:"venn-path"});var d=a.customInfo,h=d.offsetX,j=d.offsetY,k=pq.transform(null,[["t",h,j]]);return c.setMatrix(k),c},getMarker:function(b){var a=b.color;return{symbol:"circle",style:{lineWidth:0,stroke:a,fill:a,r:4}}}});var eO=function(b){function a(){return null!==b&&b.apply(this,arguments)||this}return fl(a,b),a.prototype.getLabelPoint=function(a,i,d){var b=a.data,e=b.x,f=b.y,c=a.customLabelInfo,g=c.offsetX,h=c.offsetY;return{content:a.content[d],x:e+g,y:f+h}},a}(ah);function wX(a){a&&a.geometries[0].elements.forEach(function(a){a.shape.toFront()})}Y("venn",eO);var eP=function(b){function a(){return null!==b&&b.apply(this,arguments)||this}return fl(a,b),a.prototype.syncElementsPos=function(){wX(this.context.view)},a.prototype.active=function(){b.prototype.active.call(this),this.syncElementsPos()},a.prototype.toggle=function(){b.prototype.toggle.call(this),this.syncElementsPos()},a.prototype.reset=function(){b.prototype.reset.call(this),this.syncElementsPos()},a}(ag("element-active")),eQ=ag("element-highlight"),eR=function(b){function a(){return null!==b&&b.apply(this,arguments)||this}return fl(a,b),a.prototype.syncElementsPos=function(){wX(this.context.view)},a.prototype.highlight=function(){b.prototype.highlight.call(this),this.syncElementsPos()},a.prototype.toggle=function(){b.prototype.toggle.call(this),this.syncElementsPos()},a.prototype.clear=function(){b.prototype.clear.call(this),this.syncElementsPos()},a.prototype.reset=function(){b.prototype.reset.call(this),this.syncElementsPos()},a}(eQ),eS=ag("element-selected"),eT=ag("element-single-selected"),eU=function(b){function a(){return null!==b&&b.apply(this,arguments)||this}return fl(a,b),a.prototype.syncElementsPos=function(){wX(this.context.view)},a.prototype.selected=function(){b.prototype.selected.call(this),this.syncElementsPos()},a.prototype.toggle=function(){b.prototype.toggle.call(this),this.syncElementsPos()},a.prototype.reset=function(){b.prototype.reset.call(this),this.syncElementsPos()},a}(eS),eV=function(b){function a(){return null!==b&&b.apply(this,arguments)||this}return fl(a,b),a.prototype.syncElementsPos=function(){wX(this.context.view)},a.prototype.selected=function(){b.prototype.selected.call(this),this.syncElementsPos()},a.prototype.toggle=function(){b.prototype.toggle.call(this),this.syncElementsPos()},a.prototype.reset=function(){b.prototype.reset.call(this),this.syncElementsPos()},a}(eT);function wY(b,c,f){var g=b.chart,d=b.options,h=d.blendMode,i=d.setsField,e=g.getTheme(),j=e.colors10,k=e.colors20,a=f;fB(a)||(a=c.filter(function(a){return 1===a[i].length}).length<=10?j:k);var l=wW(a,c,h,i);return function(b){return l.get(b)||a[0]}}function wZ(a){var f=a.chart,b=a.options,c=b.legend,d=b.appendPadding,g=b.padding,e=sI(d);return!1!==c&&(e=sJ(d,gB(c,"position"),40)),f.appendPadding=sK([e,g]),a}function w$(b){var a=b.options.data;a||(sl(aS.WARN,!1,"warn: %s","\u6570\u636E\u4E0D\u80FD\u4E3A\u7A7A"),a=[]);var d=a.filter(function(a){return 1===a.sets.length}).map(function(a){return a.sets[0]}),c=a.filter(function(a){return function(c,b){for(var a=0;a<b.length;a++)if(!c.includes(b[a]))return!1;return!0}(d,a.sets)});return gw(c,a)||sl(aS.WARN,!1,"warn: %s","\u4EA4\u96C6\u4E2D\u4E0D\u80FD\u51FA\u73B0\u4E0D\u5B58\u5728\u7684\u96C6\u5408, \u8BF7\u8F93\u5165\u5408\u6CD5\u6570\u636E"),gs({},b,{options:{data:c}})}function w_(a){var d=a.chart,b=a.options,l=b.pointStyle,m=b.setsField,e=b.sizeField,c=sI(d.appendPadding),f=c[0],o=c[1],p=c[2],g=c[3],h=d.viewBBox,q=h.width,r=h.height,j=function(b,e,f,c){void 0===c&&(c=0);var d=b.data,h=b.setsField,i=b.sizeField;if(0===d.length)return sl(aS.WARN,!1,"warn: %s","\u6570\u636E\u4E0D\u80FD\u4E3A\u7A7A"),[];var a=d.map(function(a){var b;return n(n({},a),((b={sets:a[h]||[],size:a[i]})[wU]="",b.id="",b))});a.sort(function(a,b){return a.sets.length-b.sets.length});var g=function(d,h,i,e){var p,j,f=[],m=[];for(var k in d)d.hasOwnProperty(k)&&(m.push(k),f.push(d[k]));h-=2*e,i-=2*e;var n=(p=f,j=function(c){var a=Math.max.apply(null,p.map(function(a){return a[c]+a.radius})),b=Math.min.apply(null,p.map(function(a){return a[c]-a.radius}));return{max:a,min:b}},{xRange:j("x"),yRange:j("y")}),a=n.xRange,b=n.yRange;if(a.max==a.min||b.max==b.min)return console.log("not scaling solution: zero size detected"),d;for(var q=h/(a.max-a.min),c=Math.min(i/(b.max-b.min),q),r=(h-(a.max-a.min)*c)/2,s=(i-(b.max-b.min)*c)/2,o={},g=0;g<f.length;++g){var l=f[g];o[m[g]]={radius:c*l.radius,x:e+r+(l.x-a.min)*c,y:e+s+(l.y-b.min)*c}}return o}(function(e,a){(a=a||{}).maxIterations=a.maxIterations||500;var b,i=a.initialLayout||wO,j=a.lossFunction||wR;e=function i(b){b=b.slice();var a,g,c,e,d=[],h={};for(a=0;a<b.length;++a){var f=b[a];1==f.sets.length?d.push(f.sets[0]):2==f.sets.length&&(c=f.sets[0],e=f.sets[1],h[[c,e]]=!0,h[[e,c]]=!0)}for(d.sort(function(a,b){return a>b?1:-1}),a=0;a<d.length;++a)for(c=d[a],g=a+1;g<d.length;++g)[c,e=d[g]]in h||b.push({sets:[c,e],size:0});return b}(e);var c=i(e,a),f=[],g=[];for(b in c)c.hasOwnProperty(b)&&(f.push(c[b].x),f.push(c[b].y),g.push(b));for(var h=(0,wC.nelderMead)(function(b){for(var d={},a=0;a<g.length;++a){var f=g[a];d[f]={x:b[2*a],y:b[2*a+1],radius:c[f].radius}}return j(d,e)},f,a).x,d=0;d<g.length;++d)c[b=g[d]].x=h[2*d],c[b].y=h[2*d+1];return c}(a),e,f,c),j=function(b,f){for(var h={},o=function(e){var d={},a=[];for(var h in e)a.push(h),d[h]=[];for(var b=0;b<a.length;b++)for(var f=e[a[b]],c=b+1;c<a.length;++c){var g=e[a[c]],i=wH(f,g);i+g.radius<=f.radius+1e-10?d[a[c]].push(a[b]):i+f.radius<=g.radius+1e-10&&d[a[b]].push(a[c])}return d}(b),c=0;c<f.length;++c){for(var a=f[c].sets,i={},j={},d=0;d<a.length;++d){i[a[d]]=!0;for(var k=o[a[d]],g=0;g<k.length;++g)j[k[g]]=!0}var l=[],m=[];for(var e in b)e in i?l.push(b[e]):e in j||m.push(b[e]);var n=wT(l,m);h[a]=n,n.disjoint&&f[c].size>0&&console.log("WARNING: area "+a+" not represented on screen")}return h}(g,a);return a.forEach(function(a){var c=a.sets,d=c.join(",");a.id=d;var b=function p(n){var j={};wD(n,j);var a=j.arcs;if(0===a.length)return"M 0 0";if(1==a.length){var k,l,b,c,d,e,g=a[0].circle;return k=g.x,l=g.y,b=g.radius,c=[],d=k-b,e=l,c.push("M",d,e),c.push("A",b,b,0,1,0,d+2*b,e),c.push("A",b,b,0,1,0,d,e),c.join(" ")}for(var m=["\nM",a[0].p2.x,a[0].p2.y],h=0;h<a.length;++h){var f=a[h],i=f.circle.radius,o=f.width>i;m.push("\nA",i,i,0,o?1:0,1,f.p1.x,f.p1.y)}return m.join(" ")}(c.map(function(a){return g[a]}));/[zZ]$/.test(b)||(b+=" Z"),a[wU]=b,gA(a,j[d]||{x:0,y:0})}),a}(b,Math.max(q-(o+g),0),Math.max(r-(f+p),0),0);d.data(j);var s=to(i({},a,{options:{xField:"x",yField:"y",sizeField:e,seriesField:"id",rawFields:[m,e],schema:{shape:"venn",style:l}}})).ext,k=s.geometry;k.customInfo({offsetX:g,offsetY:f});var t=function(b,c){var a=b.options.color;if("function"!=typeof a){var d="string"==typeof a?[a]:a,e=wY(b,c,d);return function(a){return e(a.id)}}return a}(a,j);return"function"==typeof t&&k.color("id",function(b){var c=j.find(function(a){return a.id===b}),d=wY(a,j)(b);return t(c,d)}),a}function w0(a){var c=a.chart,b=a.options.label,d=sI(c.appendPadding),f=d[0],g=d[3],e=sn(c,"schema");if(b){var h=b.callback,i=fm(b,["callback"]);e.label({fields:["id"],callback:h,cfg:gs({},st(i),{type:"venn",customLabelInfo:{offsetX:g,offsetY:f}})})}else e.label(!1);return a}function w1(a){var b=a.chart,c=a.options,d=c.legend,e=c.sizeField;return b.legend("id",d),b.legend(e,!1),a}function w2(a){return a.chart.axis(!1),a}function w3(a){var d=a.options,b=a.chart,c=d.interactions;if(c){var e={"legend-active":"venn-legend-active","legend-highlight":"venn-legend-highlight"};s4(i({},a,{options:{interactions:c.map(function(a){return n(n({},a),{type:e[a.type]||a.type})})}}))}return b.removeInteraction("legend-active"),b.removeInteraction("legend-highlight"),a}function w4(a){return sh(wZ,s6,w$,w_,w0,ta({}),w1,w2,s3,w3,s5)(a)}a("venn-element-active",eP),a("venn-element-highlight",eR),a("venn-element-selected",eU),a("venn-element-single-selected",eV),b("venn-element-active",{start:[{trigger:"element:mouseenter",action:"venn-element-active:active"}],end:[{trigger:"element:mouseleave",action:"venn-element-active:reset"}]}),b("venn-element-highlight",{start:[{trigger:"element:mouseenter",action:"venn-element-highlight:highlight"}],end:[{trigger:"element:mouseleave",action:"venn-element-highlight:reset"}]}),b("venn-element-selected",{start:[{trigger:"element:click",action:"venn-element-selected:toggle"}],rollback:[{trigger:"dblclick",action:["venn-element-selected:reset"]}]}),b("venn-element-single-selected",{start:[{trigger:"element:click",action:"venn-element-single-selected:toggle"}],rollback:[{trigger:"dblclick",action:["venn-element-single-selected:reset"]}]}),b("venn-legend-active",{start:[{trigger:"legend-item:mouseenter",action:["list-active:active","venn-element-active:active"]}],end:[{trigger:"legend-item:mouseleave",action:["list-active:reset","venn-element-active:reset"]}]}),b("venn-legend-highlight",{start:[{trigger:"legend-item:mouseenter",action:["legend-item-highlight:highlight","venn-element-highlight:highlight"]},],end:[{trigger:"legend-item:mouseleave",action:["legend-item-highlight:reset","venn-element-highlight:reset"]}]}),!function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.type="venn",a}fl(a,b),a.getDefaultOptions=function(){return wV},a.prototype.getDefaultOptions=function(){return a.getDefaultOptions()},a.prototype.getSchemaAdaptor=function(){return w4},a.prototype.triggerResize=function(){this.chart.destroyed||(this.chart.forceFit(),this.chart.clear(),this.execAdaptor(),this.chart.render(!0))}}(c);var w5="$$stock-range$$",w6="trend",w7="down",w8=i({},c.getDefaultOptions(),{tooltip:{showMarkers:!1,showCrosshairs:!0,shared:!0,crosshairs:{type:"xy",follow:!0,text:function(b,c,e){var a;if("x"===b){var d=e[0];a=d?d.title:c}else a=c;return{position:"y"===b?"start":"end",content:a,style:{fill:"#dfdfdf"}}},textBackground:{padding:[2,4],style:{fill:"#666"}}}},interactions:[{type:"tooltip"}],legend:{position:"top-left"},risingFill:"#ef5350",fallingFill:"#26a69a"});function w9(a,b){return gx(a,function(a){if(fB(b)){var c=b[0],d=b[1],e=b[2],f=b[3];a[w6]=a[c]<=a[d]?"up":w7,a[w5]=[a[c],a[d],a[e],a[f]]}return a})}function xa(b){var e=b.chart,a=b.options,d=a.yField,f=a.data,g=a.risingFill,h=a.fallingFill,j=a.tooltip,k=a.stockStyle;e.data(w9(f,d));var c=j;return!1!==c&&(c=i({},{fields:d},c)),to(i({},b,{options:{schema:{shape:"candle",color:[g,h],style:k},yField:w5,seriesField:w6,rawFields:d,tooltip:c}})),b}function xb(b){var c,d,f=b.chart,a=b.options,g=a.meta,h=a.xAxis,j=a.yAxis,e=a.xField,k=((c={})[e]={type:"timeCat",tickCount:6},c[w6]={values:["up",w7]},c),l=i(k,g,((d={})[e]=si(h,sR),d[w5]=si(j,sR),d));return f.scale(l),b}function xc(b){var a=b.chart,c=b.options,d=c.xAxis,e=c.yAxis,f=c.xField;return!1===d?a.axis(f,!1):a.axis(f,d),!1===e?a.axis(w5,!1):a.axis(w5,e),b}function xd(a){var b=a.chart,c=a.options.tooltip;return!1!==c?b.tooltip(c):b.tooltip(!1),a}function xe(a){var c=a.chart,b=a.options.legend;return b?c.legend(w6,b):!1===b&&c.legend(!1),a}function eW(a){sh(s6,xa,xb,xc,xd,xe,s4,s5,tb(),s8)(a)}var eX=function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.type="stock",a}return fl(a,b),a.getDefaultOptions=function(){return w8},a.prototype.getDefaultOptions=function(){return a.getDefaultOptions()},a.prototype.getSchemaAdaptor=function(){return eW},a.prototype.changeData=function(a){this.updateOption({data:a});var b=this.options.yField;this.chart.changeData(w9(a,b))},a}(c),xf="$$percentage$$",eY="$$mappingValue$$",xg="$$conversion$$",xh="$$totalPercentage$$",xi="$$x$$",xj="$$y$$",xk={appendPadding:[0,80],minSize:0,maxSize:1,meta:((aW={})[eY]={min:0,max:1,nice:!1},aW),label:{style:{fill:"#fff",fontSize:12}},tooltip:{showTitle:!1,showMarkers:!1,shared:!1},conversionTag:{offsetX:10,offsetY:0,style:{fontSize:12,fill:"rgba(0,0,0,0.45)"}}};function xl(e,f,a){var g=[],b=a.yField,c=a.maxSize,d=a.minSize,h=gB(f7(f,b),[b]),i=f5(c)?c:1,j=f5(d)?d:0;return gx(e,function(a,d){var c=(a[b]||0)/h;return a[xf]=c,a[eY]=(i-j)*c+j,a[xg]=[gB(e,[d-1,b]),a[b]],a})}function xm(a){return function(b){var d=b.chart,c=b.options.conversionTag,e=d.getOptions().data;if(c){var f=c.formatter;e.forEach(function(b,g){if(!(g<=0||Number.isNaN(b[eY]))){var h=a(b,g,e,{top:!0,text:{content:fz(f)?f(b,e):f,offsetX:c.offsetX,offsetY:c.offsetY,position:"end",autoRotate:!1,style:n({textAlign:"start",textBaseline:"middle"},c.style)}});d.annotation().line(h)}})}return b}}function xn(b){var e=b.chart,a=b.options,c=a.data,d=void 0===c?[]:c,f=a.yField,g=a.maxSize,h=a.minSize,i=xl(d,d,{yField:f,maxSize:g,minSize:h});return e.data(i),b}function xo(b){var g=b.chart,a=b.options,c=a.xField,h=a.yField,i=a.color,j=a.tooltip,k=a.label,d=a.shape,l=a.funnelStyle,m=a.state,e=te(j,[c,h]),f=e.fields,n=e.formatter;th({chart:g,options:{type:"interval",xField:c,yField:eY,colorField:c,tooltipFields:fB(f)&&f.concat([xf,xg]),mapping:{shape:void 0===d?"funnel":d,tooltip:n,color:i,style:l},label:k,state:m}});var o=sn(b.chart,"interval");return o.adjust("symmetric"),b}function xp(a){var b=a.chart,c=a.options,d=c.isTransposed;return b.coordinate({type:"rect",actions:d?[]:[["transpose"],["scale",1,-1]]}),a}function xq(a){var b=a.options.maxSize;return xm(function(d,a,f,e){var c=b-(b-d[eY])/2;return n(n({},e),{start:[a-.5,c],end:[a-.5,c+.05]})})(a),a}function xr(a){return sh(xn,xo,xp,xq)(a)}function xs(a){var b,c=a.chart,d=a.options,e=d.data,f=d.yField;return c.data(void 0===e?[]:e),c.scale(((b={})[f]={sync:!0},b)),a}function xt(b){var d=b.chart,a=b.options,g=a.data,h=a.xField,j=a.yField,k=a.color,e=a.compareField,c=a.isTransposed,l=a.tooltip,m=a.maxSize,n=a.minSize,o=a.label,p=a.funnelStyle,q=a.state,f=a.showFacetTitle;return d.facet("mirror",{fields:[e],transpose:!c,padding:c?0:[32,0,0,0],showTitle:f,eachView:function(b,d){var a=c?d.rowIndex:d.columnIndex;c||b.coordinate({type:"rect",actions:[["transpose"],["scale",0===a?-1:1,-1]]});var s=xl(d.data,g,{yField:j,maxSize:m,minSize:n});b.data(s);var f=te(l,[h,j,e]),r=f.fields,t=f.formatter;th({chart:b,options:{type:"interval",xField:h,yField:eY,colorField:h,tooltipFields:fB(r)&&r.concat([xf,xg]),mapping:{shape:"funnel",tooltip:t,color:k,style:p},label:!1!==o&&i({},c?{offset:0===a?10:-23,position:0===a?"bottom":"top"}:{offset:10,position:"left",style:{textAlign:0===a?"end":"start"}},o),state:q}})}}),b}function xu(a){var c=a.chart,b=a.options,d=b.conversionTag,e=b.isTransposed;return c.once("beforepaint",function(){c.views.forEach(function(a,c){xm(function(a,b,g,f){return i({},f,{start:[b-.5,a[eY]],end:[b-.5,a[eY]+.05],text:e?{style:{textAlign:"start"}}:{offsetX:!1!==d?(0===c?-1:1)*d.offsetX:0,style:{textAlign:0===c?"end":"start"}}})})(i({},{chart:a,options:b}))})}),a}function xv(a){var b,c=a.chart,d=a.options,e=d.data,f=d.yField;return c.data(void 0===e?[]:e),c.scale(((b={})[f]={sync:!0},b)),a}function xw(a){var c=a.chart,b=a.options,d=b.seriesField,e=b.isTransposed,f=b.showFacetTitle;return c.facet("rect",{fields:[d],padding:[e?0:32,10,0,10],showTitle:f,eachView:function(b,c){xr(i({},a,{chart:b,options:{data:c.data}}))}}),a}function xx(a){var f=a.chart,c=a.options,d=c.data,b=void 0===d?[]:d,e=c.yField,h=fR(b,function(a,b){return a+(b[e]||0)},0),i=f7(b,e)[e],g=gx(b,function(a,f){var d=[],c=[];if(a[xh]=(a[e]||0)/h,f){var g=b[f-1][xi],j=b[f-1][xj];d[0]=g[3],c[0]=j[3],d[1]=g[2],c[1]=j[2]}else d[0]=-0.5,c[0]=1,d[1]=.5,c[1]=1;return c[2]=c[1]-a[xh],d[2]=(c[2]+1)/4,c[3]=c[2],d[3]=-d[2],a[xi]=d,a[xj]=c,a[xf]=(a[e]||0)/i,a[xg]=[gB(b,[f-1,e]),a[e]],a});return f.data(g),a}function xy(b){var f=b.chart,a=b.options,c=a.xField,g=a.yField,h=a.color,i=a.tooltip,j=a.label,k=a.funnelStyle,l=a.state,d=te(i,[c,g]),e=d.fields,m=d.formatter;return th({chart:f,options:{type:"polygon",xField:xi,yField:xj,colorField:c,tooltipFields:fB(e)&&e.concat([xf,xg]),label:j,state:l,mapping:{tooltip:m,color:h,style:k}}}),b}function xz(a){var b=a.chart,c=a.options,d=c.isTransposed;return b.coordinate({type:"rect",actions:d?[["transpose"],["reflect","x"]]:[]}),a}function xA(a){return xm(function(a,c,d,b){return n(n({},b),{start:[a[xi][1],a[xj][1]],end:[a[xi][1]+.05,a[xj][1]]})})(a),a}function xB(d){var e,a=d.options,b=a.compareField,c=a.xField,f=a.yField,g=a.locale,h=a.funnelStyle,j=a.data,k=sN(g);return(b||h)&&(e=function(a){return i({},b&&{lineWidth:1,stroke:"#fff"},fz(h)?h(a):h)}),i({options:{label:b?{fields:[c,f,b,xf,xg],formatter:function(a){return""+a[f]}}:{fields:[c,f,xf,xg],offset:0,position:"middle",formatter:function(a){return a[c]+" "+a[f]}},tooltip:{title:c,formatter:function(a){return{name:a[c],value:a[f]}}},conversionTag:{formatter:function(a){return k.get(["conversionTag","label"])+": "+tD.apply(void 0,a[xg])}}}},d,{options:{funnelStyle:e,data:gp(j)}})}function xC(a){var c,d,e,b=a.options,f=b.compareField,g=b.dynamicHeight,h=b.seriesField;return h?(c=a,sh(xv,xw)(c)):f?(d=a,sh(xs,xt,xu)(d)):g?(e=a,sh(xx,xy,xz,xA)(e)):xr(a)}function xD(c){var b,a=c.options,d=a.xAxis,e=a.yAxis,f=a.xField,g=a.yField;return sh(ta(((b={})[f]=d,b[g]=e,b)))(c)}function xE(a){return a.chart.axis(!1),a}function xF(a){var b=a.chart,c=a.options.legend;return!1===c?b.legend(!1):b.legend(c),a}function eZ(a){return sh(xB,xC,xD,xE,s3,s4,xF,s5,s6,tb())(a)}var e$=function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.type="funnel",a}return fl(a,b),a.getDefaultOptions=function(){return xk},a.prototype.getDefaultOptions=function(){return a.getDefaultOptions()},a.prototype.getSchemaAdaptor=function(){return eZ},a.prototype.setState=function(c,d,a){void 0===a&&(a=!0);var b=sp(this.chart);I(b,function(b){d(b.getData())&&b.setState(c,a)})},a.prototype.getStates=function(){var a=sp(this.chart),b=[];return I(a,function(a){var c=a.getData();I(a.getStates(),function(d){b.push({data:c,state:d,geometry:a.geometry,element:a})})}),b},a.CONVERSATION_FIELD=xg,a.PERCENT_FIELD=xf,a.TOTAL_PERCENT_FIELD=xh,a}(c);function xG(a){return[{percent:a,type:"liquid"}]}function xH(c){var b=c.chart,a=c.options,e=a.percent,f=a.liquidStyle,d=a.radius,g=a.outline,h=a.wave,j=a.shape,k=a.animation;b.scale({percent:{min:0,max:1}}),b.data(xG(e));var l=a.color||b.getTheme().defaultColor,m=i({},c,{options:{xField:"type",yField:"percent",widthRatio:d,interval:{color:l,style:f,shape:"liquid-fill-gauge"}}}),n=tl(m).ext,o=n.geometry,p=b.getTheme().background;return o.customInfo({radius:d,outline:g,wave:h,shape:j,background:p,animation:k}),b.legend(!1),b.axis(!1),b.tooltip(!1),c}function xI(b,g){var c=b.chart,d=b.options,e=d.statistic,f=d.percent,h=d.meta;c.getController("annotation").clear(!0);var j=gB(h,["percent","formatter"])||function(a){return(100*a).toFixed(2)+"%"},a=e.content;return a&&(a=i({},a,{content:fA(a.content)?j(f):a.content})),sC(c,{statistic:n(n({},e),{content:a}),plotType:"liquid"},{percent:f}),g&&c.render(!0),b}function xJ(a){return sh(s6,s1("liquidStyle"),xH,xI,ta({}),s5,s4)(a)}var xK={radius:.9,statistic:{title:!1,content:{style:{opacity:.75,fontSize:"30px",lineHeight:"30px",textAlign:"center"}}},outline:{border:2,distance:0},wave:{count:3,length:192},shape:"circle"};function xL(a,d,b,c){return 0===d?[[a+.5*b/Math.PI/2,c/2],[a+.5*b/Math.PI,c],[a+b/4,c],]:1===d?[[a+.5*b/Math.PI/2*(Math.PI-2),c],[a+.5*b/Math.PI/2*(Math.PI-1),c/2],[a+b/4,0],]:2===d?[[a+.5*b/Math.PI/2,-c/2],[a+.5*b/Math.PI,-c],[a+b/4,-c],]:[[a+.5*b/Math.PI/2*(Math.PI-2),-c],[a+.5*b/Math.PI/2*(Math.PI-1),-c/2],[a+b/4,0],]}function xM(e,g,h,l,m,n,i){for(var j=4*Math.ceil(2*e/h*4),b=[],c=l;c< -(2*Math.PI);)c+=2*Math.PI;for(;c>0;)c-=2*Math.PI;var d=n-e+(c=c/Math.PI/2*h)-2*e;b.push(["M",d,g]);for(var k=0,f=0;f<j;++f){var o=f%4,a=xL(f*h/4,o,h,m);b.push(["C",a[0][0]+d,-a[0][1]+g,a[1][0]+d,-a[1][1]+g,a[2][0]+d,-a[2][1]+g,]),f===j-1&&(k=a[2][0])}return b.push(["L",k+d,i+e]),b.push(["L",d,i+e]),b.push(["Z"]),b}var xN={pin:function(b,g,m,n){var h=2*m/3,c=Math.max(h,n),a=h/2,i=a+g-c/2,d=Math.asin(a/((c-a)*.85)),j=Math.cos(d)*a,e=b-j,f=i+Math.sin(d)*a,k=b,l=i+a/Math.sin(d);return"\n      M "+e+" "+f+"\n      A "+a+" "+a+" 0 1 1 "+(e+2*j)+" "+f+"\n      Q "+k+" "+l+" "+b+" "+(g+c/2)+"\n      Q "+k+" "+l+" "+e+" "+f+"\n      Z \n    "},circle:function(c,d,e,f){var b=e/2,a=f/2;return"\n      M "+c+" "+(d-a)+" \n      a "+b+" "+a+" 0 1 0 0 "+2*a+"\n      a "+b+" "+a+" 0 1 0 0 "+ -(2*a)+"\n      Z\n    "},diamond:function(a,b,e,f){var c=f/2,d=e/2;return"\n      M "+a+" "+(b-c)+"\n      L "+(a+d)+" "+b+"\n      L "+a+" "+(b+c)+"\n      L "+(a-d)+" "+b+"\n      Z\n    "},triangle:function(a,b,e,f){var c=f/2,d=e/2;return"\n      M "+a+" "+(b-c)+"\n      L "+(a+d)+" "+(b+c)+"\n      L "+(a-d)+" "+(b+c)+"\n      Z\n    "},rect:function(a,b,e,f){var c=f/2,d=e/2*.618;return"\n      M "+(a-d)+" "+(b-c)+"\n      L "+(a+d)+" "+(b-c)+"\n      L "+(a+d)+" "+(b+c)+"\n      L "+(a-d)+" "+(b+c)+"\n      Z\n    "}};function xO(b,a,c){return b.length>1?a+"_"+c:""+a}function xP(a){var e=a.data,h=a.xField,i=a.measureField,j=a.rangeField,k=a.targetField,f=a.layout,c=[],d=[];e.forEach(function(a,g){var b=[a[j]].flat();b.sort(function(a,b){return a-b}),b.forEach(function(f,d){var e,i=0===d?f:b[d]-b[d-1];c.push(((e={rKey:j+"_"+d})[h]=h?a[h]:String(g),e[j]=i,e))});var e=[a[i]].flat();e.forEach(function(d,f){var b;c.push(((b={mKey:xO(e,i,f)})[h]=h?a[h]:String(g),b[i]=d,b))});var f=[a[k]].flat();f.forEach(function(d,e){var b;c.push(((b={tKey:xO(f,k,e)})[h]=h?a[h]:String(g),b[k]=d,b))}),d.push(a[j],a[i],a[k])});var b=Math.min.apply(Math,d.flat(1/0)),g=Math.max.apply(Math,d.flat(1/0));return b=b>0?0:b,"vertical"===f&&c.reverse(),{min:b,max:g,ds:c}}function xQ(b){var d=b.chart,a=b.options,e=a.bulletStyle,l=a.targetField,m=a.rangeField,o=a.measureField,f=a.xField,g=a.color,k=a.layout,c=a.size,h=a.label,j=xP(a),p=j.min,q=j.max,r=j.ds;d.data(r);var s=i({},b,{options:{xField:f,yField:m,seriesField:"rKey",isStack:!0,label:gB(h,"range"),interval:{color:gB(g,"range"),style:gB(e,"range"),size:gB(c,"range")}}});tl(s),d.geometries[0].tooltip(!1);var t=i({},b,{options:{xField:f,yField:o,seriesField:"mKey",isStack:!0,label:gB(h,"measure"),interval:{color:gB(g,"measure"),style:gB(e,"measure"),size:gB(c,"measure")}}});tl(t);var u=i({},b,{options:{xField:f,yField:l,seriesField:"tKey",label:gB(h,"target"),point:{color:gB(g,"target"),style:gB(e,"target"),size:fz(gB(c,"target"))?function(a){return gB(c,"target")(a)/2}:gB(c,"target")/2,shape:"horizontal"===k?"line":"hyphen"}}});return tk(u),"horizontal"===k&&d.coordinate().transpose(),n(n({},b),{ext:{data:{min:p,max:q}}})}function xR(e){var f,b,a=e.options,g=e.ext,h=a.xAxis,i=a.yAxis,j=a.targetField,k=a.rangeField,c=a.measureField,l=a.xField,d=g.data;return sh(ta(((f={})[l]=h,f[c]=i,f),((b={})[c]={min:null==d?void 0:d.min,max:null==d?void 0:d.max,sync:!0},b[j]={sync:""+c},b[k]={sync:""+c},b)))(e)}function xS(c){var a=c.chart,b=c.options,d=b.xAxis,e=b.yAxis,f=b.xField,g=b.measureField,h=b.rangeField,i=b.targetField;return a.axis(""+h,!1),a.axis(""+i,!1),!1===d?a.axis(""+f,!1):a.axis(""+f,d),!1===e?a.axis(""+g,!1):a.axis(""+g,e),c}function xT(b){var a=b.chart,c=b.options.legend;return a.removeInteraction("legend-filter"),a.legend(c),a.legend("rKey",!1),a.legend("mKey",!1),a.legend("tKey",!1),b}function xU(c){var h=c.chart,b=c.options,a=b.label,i=b.measureField,j=b.targetField,k=b.rangeField,d=h.geometries,e=d[0],f=d[1],g=d[2];return gB(a,"range")?e.label(""+k,n({layout:[{type:"limit-in-plot"}]},st(a.range))):e.label(!1),gB(a,"measure")?f.label(""+i,n({layout:[{type:"limit-in-plot"}]},st(a.measure))):f.label(!1),gB(a,"target")?g.label(""+j,n({layout:[{type:"limit-in-plot"}]},st(a.target))):g.label(!1),c}function xV(a){sh(xQ,xR,xS,xT,s6,xU,s3,s4,s5)(a)}f("interval","liquid-fill-gauge",{draw:function(c,e){var h,f,a,b,i=c.customInfo,g=i,u=g.radius,j=g.shape,o=g.background,v=g.animation,k=i.outline,p=i.wave,l=k.border,w=k.distance,x=p.count,y=p.length,z=fR(c.points,function(a,b){return Math.min(a,b.x)},1/0),d=this.parsePoint({x:.5,y:.5}),q=this.parsePoint({x:z,y:.5}),A=d.x-q.x,r=Math.min(A,q.y*u),B=(f=n({opacity:1},(h=c).style),h.color&&!f.fill&&(f.fill=h.color),f),C=(a=gA({},c,k),b=gA({},{fill:"#fff",fillOpacity:0,lineWidth:4},a.style),a.color&&!b.stroke&&(b.stroke=a.color),f5(a.opacity)&&(b.opacity=b.strokeOpacity=a.opacity),b),s=r-l/2,D="function"==typeof j?j:xN[j]||xN.circle,m=D(d.x,d.y,2*s,2*s),t=e.addGroup({name:"waves"}),E=t.setClip({type:"path",attrs:{path:m}});return function(j,k,l,b,e,m,n,o,f,p){for(var q=e.fill,r=e.opacity,a=n.getBBox(),s=a.maxX-a.minX,t=a.maxY-a.minY,c=0;c<b;c++){var u,x,v,g=b<=1?0:c/(b-1),h=m.addShape("path",{name:"waterwave-path",attrs:{path:xM(o,a.minY+t*l,f,0,s/32,j,k),fill:q,opacity:(u=.2,(.2+(.9-.2)*(v=g))*r)}});try{if(!1===p)return;var d,y,i,w=t$([["t",f,0]]);h.stopAnimate(),h.animate({matrix:w},{duration:(d=2500,i=g,d+(5e3-d)*i),repeat:!0})}catch(z){console.warn("off-screen group animate error!")}}}(d.x,d.y,1-c.points[1].y,x,B,t,E,2*r,y,v),e.addShape("path",{name:"distance",attrs:{path:m,fill:"transparent",lineWidth:l+2*w,stroke:"transparent"===o?"#fff":o}}),e.addShape("path",{name:"wrap",attrs:gA(C,{path:m,fill:"transparent",lineWidth:l})}),e}}),function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.type="liquid",a}fl(a,b),a.getDefaultOptions=function(){return xK},a.prototype.getDefaultOptions=function(){return a.getDefaultOptions()},a.prototype.changeData=function(a){this.chart.emit(id.BEFORE_CHANGE_DATA,oK.fromData(this.chart,id.BEFORE_CHANGE_DATA,null)),this.updateOption({percent:a}),this.chart.data(xG(a)),xI({chart:this.chart,options:this.options},!0),this.chart.emit(id.AFTER_CHANGE_DATA,oK.fromData(this.chart,id.AFTER_CHANGE_DATA,null))},a.prototype.getSchemaAdaptor=function(){return xJ}}(c);var xW=i({},c.getDefaultOptions(),{layout:"horizontal",size:{range:30,measure:20,target:20},xAxis:{tickLine:!1,line:null},bulletStyle:{range:{fillOpacity:.5}},label:{measure:{position:"right"}},tooltip:{showMarkers:!1}});!function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.type="bullet",a}fl(a,b),a.getDefaultOptions=function(){return xW},a.prototype.changeData=function(b){this.updateOption({data:b});var a=xP(this.options),c=a.min,d=a.max,e=a.ds;xR({options:this.options,ext:{data:{min:c,max:d}},chart:this.chart}),this.chart.changeData(e)},a.prototype.getSchemaAdaptor=function(){return xV},a.prototype.getDefaultOptions=function(){return a.getDefaultOptions()}}(c);var e_="nodeIndex",e0="childNodeCount",e1="nodeAncestor",xX="Invalid field: it must be a string!";function xY(c,d){var b=c.field,a=c.fields;if(fT(b))return b;if(fB(b))return console.warn(xX),b[0];if(console.warn(xX+" will try to get fields instead."),fT(a))return a;if(fB(a)&&a.length)return a[0];if(d)return d;throw TypeError(xX)}function xZ(a){var c,d,b=[];return a&&a.each?a.each(function(a){a.parent!==c?(c=a.parent,d=0):d+=1;var e,f,g=fw(((null===(e=a.ancestors)|| void 0===e?void 0:e.call(a))||[]).map(function(a){return b.find(function(b){return b.name===a.name})||a}),function(c){var b=c.depth;return b>0&&b<a.depth});a[e1]=g,a[e0]=(null===(f=a.children)|| void 0===f?void 0:f.length)||0,a[e_]=d,b.push(a)}):a&&a.eachNode&&a.eachNode(function(a){b.push(a)}),b}var x$="ancestor-node",x_="value",e2="path",x0=[e2,e_,e1,e0,"name","depth","height",],x1=i({},c.getDefaultOptions(),{innerRadius:0,radius:.85,hierarchyConfig:{field:"value"},tooltip:{shared:!0,showMarkers:!1,offset:20,showTitle:!1},legend:!1,sunburstStyle:{lineWidth:.5,stroke:"#FFF"},drilldown:{enabled:!0}}),x2="drilldown-bread-crumb",x3={position:"top-left",dividerText:"/",textStyle:{fontSize:12,fill:"rgba(0, 0, 0, 0.65)",cursor:"pointer"},activeTextStyle:{fill:"#87B5FF"}},x4="hierarchy-data-transform-params",e3=function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.name="drill-down",a.historyCache=[],a.breadCrumbGroup=null,a.breadCrumbCfg=x3,a}return fl(a,b),a.prototype.click=function(){var a=gB(this.context,["event","data","data"]);if(!a)return!1;this.drill(a),this.drawBreadCrumb()},a.prototype.resetPosition=function(){if(this.breadCrumbGroup){var a=this.context.view.getCoordinate(),c=this.breadCrumbGroup,d=c.getBBox(),e=this.getButtonCfg().position,b={x:a.start.x,y:a.end.y-(d.height+10)};a.isPolar&&(b={x:0,y:0}),"bottom-left"===e&&(b={x:a.start.x,y:a.start.y});var f=pq.transform(null,[["t",b.x+0,b.y+d.height+5]]);c.setMatrix(f)}},a.prototype.back=function(){gK(this.historyCache)&&this.backTo(this.historyCache.slice(0,-1))},a.prototype.reset=function(){this.historyCache[0]&&this.backTo(this.historyCache.slice(0,1)),this.historyCache=[],this.hideCrumbGroup()},a.prototype.drill=function(b){var d=this.context.view,e=gB(d,["interactions","drill-down","cfg","transformData"],function(a){return a}),g=e(n({data:b.data},b[x4]));d.changeData(g);for(var f=[],a=b;a;){var c=a.data;f.unshift({id:c.name+"_"+a.height+"_"+a.depth,name:c.name,children:e(n({data:c},b[x4]))}),a=a.parent}this.historyCache=(this.historyCache||[]).slice(0,-1).concat(f)},a.prototype.backTo=function(a){if(a&&!(a.length<=0)){var b=this.context.view,c=fY(a).children;b.changeData(c),a.length>1?(this.historyCache=a,this.drawBreadCrumb()):(this.historyCache=[],this.hideCrumbGroup())}},a.prototype.getButtonCfg=function(){var a=gB(this.context.view,["interactions","drill-down","cfg","drillDownConfig"]);return i(this.breadCrumbCfg,null==a?void 0:a.breadCrumb,this.cfg)},a.prototype.drawBreadCrumb=function(){this.drawBreadCrumbGroup(),this.resetPosition(),this.breadCrumbGroup.show()},a.prototype.drawBreadCrumbGroup=function(){var b=this,c=this.getButtonCfg(),a=this.historyCache;this.breadCrumbGroup?this.breadCrumbGroup.clear():this.breadCrumbGroup=this.context.view.foregroundGroup.addGroup({name:x2});var d=0;a.forEach(function(e,g){var f=b.breadCrumbGroup.addShape({type:"text",id:e.id,name:x2+"_"+e.name+"_text",attrs:n(n({text:0!==g||fA(c.rootText)?e.name:c.rootText},c.textStyle),{x:d,y:0})});if(d+=f.getBBox().width+4,f.on("click",function(d){var c,e=d.target.get("id");if(e!==(null===(c=fY(a))|| void 0===c?void 0:c.id)){var f=a.slice(0,a.findIndex(function(a){return a.id===e})+1);b.backTo(f)}}),f.on("mouseenter",function(d){var b;d.target.get("id")!==(null===(b=fY(a))|| void 0===b?void 0:b.id)?f.attr(c.activeTextStyle):f.attr({cursor:"default"})}),f.on("mouseleave",function(){f.attr(c.textStyle)}),g<a.length-1){var h=b.breadCrumbGroup.addShape({type:"text",name:c.name+"_"+e.name+"_divider",attrs:n(n({text:c.dividerText},c.textStyle),{x:d,y:0})}).getBBox();d+=h.width+4}})},a.prototype.hideCrumbGroup=function(){this.breadCrumbGroup&&this.breadCrumbGroup.hide()},a.prototype.destroy=function(){this.breadCrumbGroup&&this.breadCrumbGroup.remove(),b.prototype.destroy.call(this)},a}(g);function x5(a){a.x0=Math.round(a.x0),a.y0=Math.round(a.y0),a.x1=Math.round(a.x1),a.y1=Math.round(a.y1)}function x6(b,c,f,g,h){for(var a,d=b.children,e=-1,i=d.length,j=b.value&&(g-c)/b.value;++e<i;)(a=d[e]).y0=f,a.y1=h,a.x0=c,a.x1=c+=a.value*j}function x7(){var b=1,c=1,d=0,e=!1;function a(a){var g=a.height+1;return a.x0=a.y0=d,a.x1=b,a.y1=c/g,a.eachBefore(f(c,g)),e&&a.eachBefore(x5),a}function f(a,b){return function(c){c.children&&x6(c,c.x0,a*(c.depth+1)/b,c.x1,a*(c.depth+2)/b);var e=c.x0,f=c.y0,g=c.x1-d,h=c.y1-d;g<e&&(e=g=(e+g)/2),h<f&&(f=h=(f+h)/2),c.x0=e,c.y0=f,c.x1=g,c.y1=h}}return a.round=function(b){return arguments.length?(e=!!b,a):e},a.size=function(d){return arguments.length?(b=+d[0],c=+d[1],a):[b,c]},a.padding=function(b){return arguments.length?(d=+b,a):d},a}function x8(d){var a=0,b=d.children,c=b&&b.length;if(c)for(;--c>=0;)a+=b[c].value;else a=1;d.value=a}function x9(a,b){if(a===b)return a;var c=a.ancestors(),d=b.ancestors(),e=null;for(a=c.pop(),b=d.pop();a===b;)e=a,a=c.pop(),b=d.pop();return e}function e4(e,b){e instanceof Map?(e=[void 0,e],void 0===b&&(b=yb)):void 0===b&&(b=ya);for(var c,f,a,d,g,h=new aO(e),i=[h];c=i.pop();)if((a=b(c.data))&&(g=(a=Array.from(a)).length))for(c.children=a,d=g-1;d>=0;--d)i.push(f=a[d]=new aO(a[d])),f.parent=c,f.depth=c.depth+1;return h.eachBefore(yd)}function ya(a){return a.children}function yb(a){return Array.isArray(a)?a[1]:null}function yc(a){void 0!==a.data.value&&(a.value=a.data.value),a.data=a.data.data}function yd(a){var b=0;do a.height=b;while((a=a.parent)&&a.height< ++b)}function aO(a){this.data=a,this.depth=this.height=0,this.parent=null}aO.prototype=e4.prototype={constructor:aO,count:function(){return this.eachAfter(x8)},each:function(a,b){let c=-1;for(let d of this)a.call(b,d,++c,this);return this},eachAfter:function(g,h){for(var c,b,d,a=this,e=[a],f=[],i=-1;a=e.pop();)if(f.push(a),c=a.children)for(b=0,d=c.length;b<d;++b)e.push(c[b]);for(;a=f.pop();)g.call(h,a,++i,this);return this},eachBefore:function(e,f){for(var c,a,b=this,d=[b],g=-1;b=d.pop();)if(e.call(f,b,++g,this),c=b.children)for(a=c.length-1;a>=0;--a)d.push(c[a]);return this},find:function(b,c){let d=-1;for(let a of this)if(b.call(c,a,++d,this))return a},sum:function(a){return this.eachAfter(function(b){for(var d=+a(b.data)||0,c=b.children,e=c&&c.length;--e>=0;)d+=c[e].value;b.value=d})},sort:function(a){return this.eachBefore(function(b){b.children&&b.children.sort(a)})},path:function(b){for(var a=this,d=x9(a,b),c=[a];a!==d;)a=a.parent,c.push(a);for(var e=c.length;b!==d;)c.splice(e,0,b),b=b.parent;return c},ancestors:function(){for(var a=this,b=[a];a=a.parent;)b.push(a);return b},descendants:function(){return Array.from(this)},leaves:function(){var a=[];return this.eachBefore(function(b){b.children||a.push(b)}),a},links:function(){var a=this,b=[];return a.each(function(c){c!==a&&b.push({source:c.parent,target:c})}),b},copy:function(){return e4(this).eachBefore(yc)},[Symbol.iterator]:function*(){var e,d,a,f,b=this,c=[b];do for(e=c.reverse(),c=[];b=e.pop();)if(yield b,d=b.children)for(a=0,f=d.length;a<f;++a)c.push(d[a]);while(c.length)}};var ye={field:"value",size:[1,1],round:!1,padding:0,sort:function(a,b){return b.value-a.value},as:["x","y"],ignoreParentValue:!0};function yf(e,a){var f,b=(a=gA({},ye,a)).as;if(!fB(b)||2!==b.length)throw TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');try{f=xY(a)}catch(g){console.warn(g)}var c,d=(c=e,x7().size(a.size).round(a.round).padding(a.padding)(e4(c).sum(function(b){return gK(b.children)?a.ignoreParentValue?0:b[f]-fR(b.children,function(a,b){return a+b[f]},0):b[f]}).sort(a.sort))),h=b[0],i=b[1];return d.each(function(a){var c,d;a[h]=[a.x0,a.x1,a.x1,a.x0],a[i]=[a.y1,a.y1,a.y0,a.y0],a.name=a.name||(null===(c=a.data)|| void 0===c?void 0:c.name)||(null===(d=a.data)|| void 0===d?void 0:d.label),a.data.name=a.name,["x0","x1","y0","y1"].forEach(function(c){-1===b.indexOf(c)&&delete a[c]})}),xZ(d)}function yg(a,b){return a.parent===b.parent?1:2}function yh(a,b){return a+b.x}function yi(a,b){return Math.max(a,b.y)}function yj(){var b=yg,c=1,d=1,e=!1;function a(a){var h,i=0;a.eachAfter(function(a){var d,e,c=a.children;c?(a.x=(d=c).reduce(yh,0)/d.length,a.y=1+(e=c).reduce(yi,0)):(a.x=h?i+=b(a,h):0,a.y=0,h=a)});var f=function(a){for(var b;b=a.children;)a=b[0];return a}(a),g=function(a){for(var b;b=a.children;)a=b[b.length-1];return a}(a),j=f.x-b(f,g)/2,k=g.x+b(g,f)/2;return a.eachAfter(e?function(b){b.x=(b.x-a.x)*c,b.y=(a.y-b.y)*d}:function(b){b.x=(b.x-j)/(k-j)*c,b.y=(1-(a.y?b.y/a.y:1))*d})}return a.separation=function(c){return arguments.length?(b=c,a):b},a.size=function(b){return arguments.length?(e=!1,c=+b[0],d=+b[1],a):e?null:[c,d]},a.nodeSize=function(b){return arguments.length?(e=!0,c=+b[0],d=+b[1],a):e?[c,d]:null},a}function yk(c){for(var d,a,b=0,f=(c=function(a){for(var d,c,b=a.length;b;)c=Math.random()*b--|0,d=a[b],a[b]=a[c],a[c]=d;return a}(Array.from(c))).length,e=[];b<f;)d=c[b],a&&yn(a,d)?++b:(a=yp(e=yl(e,d)),b=0);return a}function yl(a,c){var b,d;if(yo(c,a))return[c];for(b=0;b<a.length;++b)if(ym(c,a[b])&&yo(yr(a[b],c),a))return[a[b],c];for(b=0;b<a.length-1;++b)for(d=b+1;d<a.length;++d)if(ym(yr(a[b],a[d]),c)&&ym(yr(a[b],c),a[d])&&ym(yr(a[d],c),a[b])&&yo(ys(a[b],a[d],c),a))return[a[b],a[d],c];throw Error()}function ym(a,b){var c=a.r-b.r,d=b.x-a.x,e=b.y-a.y;return c<0||c*c<d*d+e*e}function yn(a,b){var c=a.r-b.r+1e-9*Math.max(a.r,b.r,1),d=b.x-a.x,e=b.y-a.y;return c>0&&c*c>d*d+e*e}function yo(c,b){for(var a=0;a<b.length;++a)if(!yn(c,b[a]))return!1;return!0}function yp(a){switch(a.length){case 1:return yq(a[0]);case 2:return yr(a[0],a[1]);case 3:return ys(a[0],a[1],a[2])}}function yq(a){return{x:a.x,y:a.y,r:a.r}}function yr(a,b){var f=a.x,g=a.y,h=a.r,i=b.x,j=b.y,k=b.r,c=i-f,d=j-g,l=k-h,e=Math.sqrt(c*c+d*d);return{x:(f+i+c/e*l)/2,y:(g+j+d/e*l)/2,r:(e+h+k)/2}}function ys(j,k,l){var b=j.x,c=j.y,a=j.r,m=k.x,n=k.y,o=k.r,p=l.x,q=l.y,r=l.r,s=b-m,t=b-p,u=c-n,v=c-q,y=o-a,z=r-a,A=b*b+c*c-a*a,B=A-m*m-n*n+o*o,C=A-p*p-q*q+r*r,d=t*u-s*v,e=(u*C-v*B)/(2*d)-b,f=(v*y-u*z)/d,g=(t*B-s*C)/(2*d)-c,h=(s*z-t*y)/d,w=f*f+h*h-1,i=2*(a+e*f+g*h),D=e*e+g*g-a*a,x=-(w?(i+Math.sqrt(i*i-4*w*D))/(2*w):D/i);return{x:b+e+f*x,y:c+g+h*x,r:x}}function yt(j,c,b){var a,d,f,g,h=j.x-c.x,i=j.y-c.y,e=h*h+i*i;e?(d=c.r+b.r,d*=d,g=j.r+b.r,d>(g*=g)?(a=(e+g-d)/(2*e),f=Math.sqrt(Math.max(0,g/e-a*a)),b.x=j.x-a*h-f*i,b.y=j.y-a*i+f*h):(a=(e+d-g)/(2*e),f=Math.sqrt(Math.max(0,d/e-a*a)),b.x=c.x+a*h-f*i,b.y=c.y+a*i+f*h)):(b.x=c.x+b.r,b.y=c.y)}function yu(a,b){var c=a.r+b.r-1e-6,d=b.x-a.x,e=b.y-a.y;return c>0&&c*c>d*d+e*e}function yv(c){var a=c._,b=c.next._,d=a.r+b.r,e=(a.x*b.r+b.x*a.r)/d,f=(a.y*b.r+b.y*a.r)/d;return e*e+f*f}function yw(a){this._=a,this.next=null,this.previous=null}function yx(e){var a,b,c,h,j,m,d,f,g,k,l,i;if(!(h=(e="object"==typeof(i=e)&&"length"in i?i:Array.from(i)).length))return 0;if((a=e[0]).x=0,a.y=0,!(h>1))return a.r;if(b=e[1],a.x=-b.r,b.x=a.r,b.y=0,!(h>2))return a.r+b.r;yt(b,a,c=e[2]),a=new yw(a),b=new yw(b),c=new yw(c),a.next=c.previous=b,b.next=a.previous=c,c.next=b.previous=a;pack:for(d=3;d<h;++d){yt(a._,b._,c=e[d]),c=new yw(c),f=b.next,g=a.previous,k=b._.r,l=a._.r;do if(k<=l){if(yu(f._,c._)){b=f,a.next=b,b.previous=a,--d;continue pack}k+=f._.r,f=f.next}else{if(yu(g._,c._)){(a=g).next=b,b.previous=a,--d;continue pack}l+=g._.r,g=g.previous}while(f!==g.next)for(c.previous=a,c.next=b,a.next=b.previous=b=c,j=yv(a);(c=c.next)!==b;)(m=yv(c))<j&&(a=c,j=m);b=a.next}for(a=[b._],c=b;(c=c.next)!==b;)a.push(c._);for(d=0,c=yk(a);d<h;++d)a=e[d],a.x-=c.x,a.y-=c.y;return c.r}function yy(a){return yx(a),a}function yz(a){if("function"!=typeof a)throw Error();return a}function yA(){return 0}function yB(a){return function(){return a}}function yC(a){return Math.sqrt(a.value)}function yD(){var b=null,c=1,d=1,e=yA;function a(a){return a.x=c/2,a.y=d/2,b?a.eachBefore(yE(b)).eachAfter(yF(e,.5)).eachBefore(yG(1)):a.eachBefore(yE(yC)).eachAfter(yF(yA,1)).eachAfter(yF(e,a.r/Math.min(c,d))).eachBefore(yG(Math.min(c,d)/(2*a.r))),a}return a.radius=function(d){var c;return arguments.length?(b=null==(c=d)?null:yz(c),a):b},a.size=function(b){return arguments.length?(c=+b[0],d=+b[1],a):[c,d]},a.padding=function(b){return arguments.length?(e="function"==typeof b?b:yB(+b),a):e},a}function yE(a){return function(b){b.children||(b.r=Math.max(0,+a(b)||0))}}function yF(a,b){return function(f){if(e=f.children){var e,c,g,h=e.length,d=a(f)*b||0;if(d)for(c=0;c<h;++c)e[c].r+=d;if(g=yx(e),d)for(c=0;c<h;++c)e[c].r-=d;f.r=g+d}}}function yG(a){return function(b){var c=b.parent;b.r*=a,c&&(b.x=c.x+a*b.x,b.y=c.y+a*b.y)}}var yH={depth:-1},yI={};function yJ(a){return a.id}function yK(a){return a.parentId}function yL(){var b=yJ,c=yK;function a(j){var h,a,f,g,e,d,k,i=Array.from(j),l=i.length,m=new Map;for(a=0;a<l;++a)h=i[a],e=i[a]=new aO(h),null!=(d=b(h,a,j))&&(d+="")&&(k=e.id=d,m.set(k,m.has(k)?yI:e)),null!=(d=c(h,a,j))&&(d+="")&&(e.parent=d);for(a=0;a<l;++a)if(d=(e=i[a]).parent){if(!(g=m.get(d)))throw Error("missing: "+d);if(g===yI)throw Error("ambiguous: "+d);g.children?g.children.push(e):g.children=[e],e.parent=g}else{if(f)throw Error("multiple roots");f=e}if(!f)throw Error("no root");if(f.parent=yH,f.eachBefore(function(a){a.depth=a.parent.depth+1,--l}).eachBefore(yd),f.parent=null,l>0)throw Error("cycle");return f}return a.id=function(c){return arguments.length?(b=yz(c),a):b},a.parentId=function(b){return arguments.length?(c=yz(b),a):c},a}function yM(a,b){return a.parent===b.parent?1:2}function yN(a){var b=a.children;return b?b[0]:a.t}function yO(b){var a=b.children;return a?a[a.length-1]:b.t}function yP(c,a,b){var d=b/(a.i-c.i);a.c-=d,a.s+=b,c.c+=d,a.z+=b,a.m+=b}function yQ(a,b,c){return a.a.parent===b.parent?a.a:c}function e5(a,b){this._=a,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=b}function yR(){var b=yM,c=1,d=1,e=null;function a(a){var h=function(h){for(var b,e,d,a,f,c=new e5(h,0),g=[c];b=g.pop();)if(d=b._.children)for(b.children=Array(f=d.length),a=f-1;a>=0;--a)g.push(e=b.children[a]=new e5(d[a],a)),e.parent=b;return(c.parent=new e5(null,0)).children=[c],c}(a);if(h.eachAfter(f),h.parent.m=-h.z,h.eachBefore(g),e)a.eachBefore(i);else{var j=a,k=a,m=a;a.eachBefore(function(a){a.x<j.x&&(j=a),a.x>k.x&&(k=a),a.depth>m.depth&&(m=a)});var l=j===k?1:b(j,k)/2,n=l-j.x,o=c/(k.x+l+n),p=d/(m.depth||1);a.eachBefore(function(a){a.x=(a.x+n)*o,a.y=a.depth*p})}return a}function f(a){var d=a.children,e=a.parent.children,c=a.i?e[a.i-1]:null;if(d){!function(e){for(var a,b=0,f=0,c=e.children,d=c.length;--d>=0;)a=c[d],a.z+=b,a.m+=b,b+=a.s+(f+=a.c)}(a);var f=(d[0].z+d[d.length-1].z)/2;c?(a.z=c.z+b(a._,c._),a.m=a.z-f):a.z=f}else c&&(a.z=c.z+b(a._,c._));a.parent.A=h(a,c,a.parent.A||e[0])}function g(a){a._.x=a.z+a.parent.m,a.m+=a.parent.m}function h(f,l,i){if(l){for(var g,a=f,d=f,c=l,e=a.parent.children[0],h=a.m,j=d.m,k=c.m,m=e.m;c=yO(c),a=yN(a),c&&a;)e=yN(e),(d=yO(d)).a=f,(g=c.z+k-a.z-h+b(c._,a._))>0&&(yP(yQ(c,f,i),f,g),h+=g,j+=g),k+=c.m,h+=a.m,m+=e.m,j+=d.m;c&&!yO(d)&&(d.t=c,d.m+=k-j),a&&!yN(e)&&(e.t=a,e.m+=h-m,i=f)}return i}function i(a){a.x*=c,a.y=a.depth*d}return a.separation=function(c){return arguments.length?(b=c,a):b},a.size=function(b){return arguments.length?(e=!1,c=+b[0],d=+b[1],a):e?null:[c,d]},a.nodeSize=function(b){return arguments.length?(e=!0,c=+b[0],d=+b[1],a):e?[c,d]:null},a}function yS(b,f,c,g,h){for(var a,d=b.children,e=-1,i=d.length,j=b.value&&(h-c)/b.value;++e<i;)(a=d[e]).x0=f,a.x1=g,a.y0=c,a.y1=c+=a.value*j}e5.prototype=Object.create(aO.prototype);var b4=(1+Math.sqrt(5))/2;function yT(w,t,j,k,n,o){for(var l,c,f,g,a,h,i,p,q,u,d,v=[],m=t.children,r=0,b=0,s=m.length,e=t.value;r<s;){f=n-j,g=o-k;do a=m[b++].value;while(!a&&b<s)for(h=i=a,d=a*a*(u=Math.max(g/f,f/g)/(e*w)),q=Math.max(i/d,d/h);b<s;++b){if(a+=c=m[b].value,c<h&&(h=c),c>i&&(i=c),d=a*a*u,p=Math.max(i/d,d/h),p>q){a-=c;break}q=p}v.push(l={value:a,dice:f<g,children:m.slice(r,b)}),l.dice?x6(l,j,k,n,e?k+=g*a/e:o):yS(l,j,k,e?j+=f*a/e:n,o),e-=a,r=b}return v}var yU=function b(c){function a(a,b,d,e,f){yT(c,a,b,d,e,f)}return a.ratio=function(a){return b((a=+a)>1?a:1)},a}(b4);function yV(){var b=yU,c=!1,d=1,e=1,f=[0],g=yA,h=yA,i=yA,j=yA,k=yA;function a(a){return a.x0=a.y0=0,a.x1=d,a.y1=e,a.eachBefore(l),f=[0],c&&a.eachBefore(x5),a}function l(a){var c=f[a.depth],d=a.x0+c,e=a.y0+c,l=a.x1-c,m=a.y1-c;l<d&&(d=l=(d+l)/2),m<e&&(e=m=(e+m)/2),a.x0=d,a.y0=e,a.x1=l,a.y1=m,a.children&&(c=f[a.depth+1]=g(a)/2,d+=k(a)-c,e+=h(a)-c,l-=i(a)-c,m-=j(a)-c,l<d&&(d=l=(d+l)/2),m<e&&(e=m=(e+m)/2),b(a,d,e,l,m))}return a.round=function(b){return arguments.length?(c=!!b,a):c},a.size=function(b){return arguments.length?(d=+b[0],e=+b[1],a):[d,e]},a.tile=function(c){return arguments.length?(b=yz(c),a):b},a.padding=function(b){return arguments.length?a.paddingInner(b).paddingOuter(b):a.paddingInner()},a.paddingInner=function(b){return arguments.length?(g="function"==typeof b?b:yB(+b),a):g},a.paddingOuter=function(b){return arguments.length?a.paddingTop(b).paddingRight(b).paddingBottom(b).paddingLeft(b):a.paddingTop()},a.paddingTop=function(b){return arguments.length?(h="function"==typeof b?b:yB(+b),a):h},a.paddingRight=function(b){return arguments.length?(i="function"==typeof b?b:yB(+b),a):i},a.paddingBottom=function(b){return arguments.length?(j="function"==typeof b?b:yB(+b),a):j},a.paddingLeft=function(b){return arguments.length?(k="function"==typeof b?b:yB(+b),a):k},a}function yW(c,g,h,i,j){var a,d,e=c.children,b=e.length,f=Array(b+1);for(f[0]=d=a=0;a<b;++a)f[a+1]=d+=e[a].value;function k(b,l,g,h,i,c,d){if(b>=l-1){var m=e[b];m.x0=h,m.y0=i,m.x1=c,m.y1=d;return}for(var r=f[b],o=g/2+r,a=b+1,p=l-1;a<p;){var q=a+p>>>1;f[q]<o?a=q+1:p=q}o-f[a-1]<f[a]-o&&b+1<a&& --a;var j=f[a]-r,n=g-j;if(c-h>d-i){var s=g?(h*n+c*j)/g:c;k(b,a,j,h,i,s,d),k(a,l,n,s,i,c,d)}else{var t=g?(i*n+d*j)/g:d;k(b,a,j,h,i,c,t),k(a,l,n,h,t,c,d)}}k(0,b,c.value,g,h,i,j)}function yX(a,b,c,d,e){(1&a.depth?yS:x6)(a,b,c,d,e)}var yY=function b(c){function a(f,b,d,g,h){if((i=f._squarify)&&i.ratio===c)for(var i,a,k,j,l,m=-1,n=i.length,e=f.value;++m<n;){for(k=(a=i[m]).children,j=a.value=0,l=k.length;j<l;++j)a.value+=k[j].value;a.dice?x6(a,b,d,g,e?d+=(h-d)*a.value/e:h):yS(a,b,d,e?b+=(g-b)*a.value/e:g,h),e-=a.value}else f._squarify=i=yT(c,f,b,d,g,h),i.ratio=c}return a.ratio=function(a){return b((a=+a)>1?a:1)},a}(b4),yZ={field:"value",tile:"treemapSquarify",size:[1,1],round:!1,ignoreParentValue:!0,padding:0,paddingInner:0,paddingOuter:0,paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0,as:["x","y"],sort:function(a,b){return b.value-a.value},ratio:.5*(1+Math.sqrt(5))};function y$(g,a){var h,b=(a=gA({},yZ,a)).as;if(!fB(b)||2!==b.length)throw TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');try{h=xY(a)}catch(i){console.warn(i)}var c,d,e,j=(c=a.tile,d=a.ratio,"treemapSquarify"===c?a7[c].ratio(d):a7[c]),f=(e=g,yV().tile(j).size(a.size).round(a.round).padding(a.padding).paddingInner(a.paddingInner).paddingOuter(a.paddingOuter).paddingTop(a.paddingTop).paddingRight(a.paddingRight).paddingBottom(a.paddingBottom).paddingLeft(a.paddingLeft)(e4(e).sum(function(b){return a.ignoreParentValue&&b.children?0:b[h]}).sort(a.sort))),k=b[0],l=b[1];return f.each(function(a){a[k]=[a.x0,a.x1,a.x1,a.x0],a[l]=[a.y1,a.y1,a.y0,a.y0],["x0","x1","y0","y1"].forEach(function(c){-1===b.indexOf(c)&&delete a[c]})}),xZ(f)}function y_(a){var e=a.data,i=a.colorField,j=a.rawFields,b=a.hierarchyConfig,c=void 0===b?{}:b,k=c.activeDepth,f=a.seriesField,d=a.type||"partition",g=({partition:yf,treemap:y$})[d](e,n(n({field:f||"value"},gF(c,["activeDepth"])),{type:"hierarchy."+d,as:["x","y"]})),h=[];return g.forEach(function(a){if(0===a.depth||k>0&&a.depth>k)return null;for(var e,g,l,m,o,p,q=a.data.name,b=n({},a);b.depth>1;)q=(null===(g=b.parent.data)|| void 0===g?void 0:g.name)+" / "+q,b=b.parent;var d=n(n(n({},si(a.data,fr(j||[],[c.field]))),((e={})[e2]=q,e[x$]=b.data.name,e)),a);f&&(d[f]=a.data[f]||(null===(m=null===(l=a.parent)|| void 0===l?void 0:l.data)|| void 0===m?void 0:m[f])),i&&(d[i]=a.data[i]||(null===(p=null===(o=a.parent)|| void 0===o?void 0:o.data)|| void 0===p?void 0:p[i])),d.ext=c,d[x4]={hierarchyConfig:c,colorField:i,rawFields:j},h.push(d)}),h}function y0(b){var c,f=b.chart,a=b.options,g=a.color,d=a.colorField,h=a.sunburstStyle,e=a.rawFields,j=y_(a);return f.data(j),h&&(c=function(a){return i({},{fillOpacity:Math.pow(.85,a.depth)},fz(h)?h(a):h)}),tm(i({},b,{options:{xField:"x",yField:"y",seriesField:void 0===d?x$:d,rawFields:fV(fr(x0,void 0===e?[]:e)),polygon:{color:g,style:c}}})),b}function y1(a){return a.chart.axis(!1),a}function y2(b){var e=b.chart,f=b.options,a=f.label,c=sn(e,"polygon");if(a){var d=a.fields,g=void 0===d?["name"]:d,h=a.callback,i=fm(a,["fields","callback"]);c.label({fields:g,callback:h,cfg:st(i)})}else c.label(!1);return b}function y3(a){var d=a.chart,b=a.options,e=b.innerRadius,f=b.radius,c=b.reflect,g=d.coordinate({type:"polar",cfg:{innerRadius:e,radius:f}});return c&&g.reflect(c),a}function y4(a){var b,c=a.options,d=c.hierarchyConfig,e=c.meta;return sh(ta({},((b={})[x_]=gB(e,gB(d,["field"],"value")),b)))(a)}function y5(a){var d=a.chart,b=a.options.tooltip;if(!1===b)d.tooltip(!1);else{var c=b;gB(b,"fields")||(c=i({},{customItems:function(a){return a.map(function(a){var b=gB(d.getOptions(),"scales"),c=gB(b,[e2,"formatter"],function(a){return a}),e=gB(b,[x_,"formatter"],function(a){return a});return n(n({},a),{name:c(a.data[e2]),value:e(a.data.value)})})}},c)),d.tooltip(c)}return a}function y6(c){var a,b,d,e=c.chart,g=c.options,f=g.drilldown;return s4({chart:e,options:(b=(a=g).drilldown,d=a.interactions,(null==b?void 0:b.enabled)?i({},a,{interactions:fr(void 0===d?[]:d,[{type:"drill-down",cfg:{drillDownConfig:b,transformData:y_}},])}):a)}),(null==f?void 0:f.enabled)&&(e.appendPadding=sJ(e.appendPadding,gB(f,["breadCrumb","position"]))),c}function y7(a){return sh(s6,s1("sunburstStyle"),y0,y1,y4,s2,y3,y5,y2,y6,s5,tb())(a)}function b5(b){var a=gB(b,["event","data","data"],{});return fB(a.children)&&a.children.length>0}function b6(b){var a=b.view.getCoordinate(),c=a.innerRadius;if(c){var d=b.event,f=d.x,g=d.y,e=a.center,h=e.x,i=e.y,j=a.getRadius()*c,k=Math.sqrt(Math.pow(h-f,2)+Math.pow(i-g,2));return k<j}return!1}a("drill-down-action",e3),b("drill-down",{showEnable:[{trigger:"element:mouseenter",action:"cursor:pointer",isEnable:b5},{trigger:"element:mouseleave",action:"cursor:default"},{trigger:"element:mouseleave",action:"cursor:pointer",isEnable:b6},],start:[{trigger:"element:click",isEnable:b5,action:["drill-down-action:click"]},{trigger:"afterchangesize",action:["drill-down-action:resetPosition"]},{trigger:"click",isEnable:b6,action:["drill-down-action:back"]},]}),function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.type="sunburst",a}fl(a,b),a.getDefaultOptions=function(){return x1},a.prototype.getDefaultOptions=function(){return a.getDefaultOptions()},a.prototype.getSchemaAdaptor=function(){return y7},a.SUNBURST_ANCESTOR_FIELD=x$,a.SUNBURST_PATH_FIELD=e2,a.NODE_ANCESTORS_FIELD=e1}(c);var e6="range",y8="type",e7="percent",y9="indicator-view",za="range-view",zb={percent:0,range:{ticks:[]},innerRadius:.9,radius:.95,startAngle:-7/6*Math.PI,endAngle:1/6*Math.PI,syncViewPadding:!0,axis:{line:null,label:{offset:-24,style:{textAlign:"center",textBaseline:"middle"}},subTickLine:{length:-8},tickLine:{length:-12},grid:null},indicator:{pointer:{style:{lineWidth:5,lineCap:"round"}},pin:{style:{r:9.75,lineWidth:4.5,fill:"#fff"}}},statistic:{title:!1},meta:((al={})[e6]={sync:"v"},al[e7]={sync:"v",tickCount:5,tickInterval:.2},al),animation:!1};function zc(b){var a;return[((a={})[e7]=f3(b,0,1),a)]}function zd(a,d){var b,e,c=gB(d,["ticks"],[]);return b=gK(c)?c:[0,f3(a,0,1),1],e=a,b.map(function(d,c){var a;return(a={})[e6]=d-(b[c-1]||0),a[y8]=""+c,a[e7]=e,a}).filter(function(a){return!!a[e6]})}function ze(c){var d=c.chart,a=c.options,h=a.percent,i=a.range,j=a.radius,k=a.innerRadius,l=a.startAngle,m=a.endAngle,n=a.axis,e=a.indicator,p=a.gaugeStyle,q=a.type,r=a.meter,f=i.color,o=i.width;if(e){var s=zc(h),b=d.createView({id:y9});b.data(s),b.point().position(e7+"*1").shape(e.shape||"gauge-indicator").customInfo({defaultColor:d.getTheme().defaultColor,indicator:e}),b.coordinate("polar",{startAngle:l,endAngle:m,radius:k*j}),b.axis(e7,n),b.scale(e7,si(n,sR))}var t=zd(h,a.range),g=d.createView({id:za});g.data(t);var u=fT(f)?[f,"#f0f0f0"]:f;return tl({chart:g,options:{xField:"1",yField:e6,seriesField:y8,rawFields:[e7],isStack:!0,interval:{color:u,style:p,shape:"meter"===q?"meter-gauge":null},args:{zIndexReversed:!0,sortZIndex:!0},minColumnWidth:o,maxColumnWidth:o}}).ext.geometry.customInfo({meter:r}),g.coordinate("polar",{innerRadius:k,radius:j,startAngle:l,endAngle:m}).transpose(),c}function zf(b){var a;return sh(ta(((a={range:{min:0,max:1,maxLimit:1,minLimit:0}})[e7]={},a)))(b)}function zg(a,h){var b=a.chart,d=a.options,c=d.statistic,e=d.percent;if(b.getController("annotation").clear(!0),c){var f=c.content,g=void 0;f&&(g=i({},{content:(100*e).toFixed(2)+"%",style:{opacity:.75,fontSize:"30px",lineHeight:1,textAlign:"center",color:"rgba(44,53,66,0.85)"}},f)),sD(b,{statistic:n(n({},c),{content:g})},{percent:e})}return h&&b.render(!0),a}function zh(a){var b=a.chart,c=a.options.tooltip;return c?b.tooltip(i({showTitle:!1,showMarkers:!1,containerTpl:'<div class="g2-tooltip"><div class="g2-tooltip-list"></div></div>',domStyles:{"g2-tooltip":{padding:"4px 8px",fontSize:"10px"}},customContent:function(b,a){return(100*gB(a,[0,"data",e7],0)).toFixed(2)+"%"}},c)):b.tooltip(!1),a}function zi(a){return a.chart.legend(!1),a}function e8(a){return sh(s6,s5,ze,zf,zh,zg,s4,tb(),zi)(a)}f("point","gauge-indicator",{draw:function(b,i){var d=b.customInfo,j=d.indicator,e=d.defaultColor,f=j,g=f.pointer,h=f.pin,c=i.addGroup(),a=this.parsePoint({x:0,y:0});return g&&c.addShape("line",{name:"pointer",attrs:n({x1:a.x,y1:a.y,x2:b.x,y2:b.y,stroke:e},g.style)}),h&&c.addShape("circle",{name:"pin",attrs:n({x:a.x,y:a.y,stroke:e},h.style)}),c}}),f("interval","meter-gauge",{draw:function(f,t){var i=f.customInfo.meter,j=void 0===i?{}:i,k=j.steps,c=void 0===k?50:k,l=j.stepRatio,a=void 0===l?.5:l;c=c<1?1:c,a=f3(a,0,1);var m=this.coordinate,n=m.startAngle,u=m.endAngle,d=0;a>0&&a<1&&(d=(u-n)/c/(a/(1-a)+1-1/c));for(var e=d/(1-a)*a,o=t.addGroup(),p=this.coordinate.getCenter(),q=this.coordinate.getRadius(),r=pq.getAngle(f,this.coordinate),v=r.startAngle,s=r.endAngle,b=v;b<s;){var g=void 0,h=(b-n)%(e+d);h<e?g=b+(e-h):(b+=e+d-h,g=b+e);var w=pq.getSectorPath(p.x,p.y,q,b,Math.min(g,s),q*this.coordinate.innerRadius);o.addShape("path",{name:"meter-gauge",attrs:{path:w,fill:f.color,stroke:f.color,lineWidth:.5}}),b=g+d}return o}});var e9=function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.type="gauge",a}return fl(a,b),a.getDefaultOptions=function(){return zb},a.prototype.changeData=function(a){this.chart.emit(id.BEFORE_CHANGE_DATA,oK.fromData(this.chart,id.BEFORE_CHANGE_DATA,null)),this.updateOption({percent:a});var b=this.chart.views.find(function(a){return a.id===y9});b&&b.data(zc(a));var c=this.chart.views.find(function(a){return a.id===za});c&&c.data(zd(a,this.options.range)),zg({chart:this.chart,options:this.options},!0),this.chart.emit(id.AFTER_CHANGE_DATA,oK.fromData(this.chart,id.AFTER_CHANGE_DATA,null))},a.prototype.getDefaultOptions=function(){return a.getDefaultOptions()},a.prototype.getSchemaAdaptor=function(){return e8},a}(c),zj="$$yField$$",zk="$$diffField$$",zl="$$absoluteField$$",zm="$$isTotal$$",zn={label:{},leaderLine:{style:{lineWidth:1,stroke:"#8c8c8c",lineDash:[4,2]}},total:{style:{fill:"rgba(0, 0, 0, 0.25)"}},interactions:[{type:"element-active"}],risingFill:"#f4664a",fallingFill:"#30bf78",waterfallStyle:{fill:"rgba(0, 0, 0, 0.25)"},yAxis:{grid:{line:{style:{lineDash:[4,2]}}}}};function zo(a,b,c,d){return(function(c,g,h,d,e){var a,b=[];if(fR(c,function(c,a){sl(aS.WARN,f5(a[h]),a[h]+" is not a valid number");var e,f=gn(a[h])?null:a[h];return b.push(n(n({},a),((e={})[d]=[c,c+f],e))),c+f},0),b.length&&e){var f=gB(b,[[c.length-1],d,[1]]);b.push(((a={})[g]=e.label,a[h]=f,a[d]=[0,f],a))}return b})(a,b,c,zj,d).map(function(b,d){var c;return fC(b)?n(n({},b),((c={})[zl]=b[zj][1],c[zk]=b[zj][1]-b[zj][0],c[zm]=d===a.length,c)):b})}function zp(a){var b=a.options,e=b.locale,c=b.total,d=sN(e).get(["waterfall","total"]);return c&&"string"!=typeof c.label&&d&&(a.options.total.label=d),a}function zq(b){var e=b.chart,a=b.options,f=a.data,c=a.xField,d=a.yField,g=a.total,h=a.leaderLine,j=a.columnWidthRatio,k=a.waterfallStyle,n=a.risingFill,o=a.fallingFill,l=a.color;e.data(zo(f,c,d,g));var m=i({},b,{options:{xField:c,yField:zj,seriesField:c,rawFields:[d,zk,zm,zj],widthRatio:j,interval:{style:k,shape:"waterfall",color:l||function(a){return gB(a,[zm])?gB(g,["style","fill"],""):gB(a,[zj,1])-gB(a,[zj,0])>0?n:o}}}});return tl(m).ext.geometry.customInfo({leaderLine:h}),b}function zr(f){var b,c,a=f.options,j=a.xAxis,g=a.yAxis,k=a.xField,d=a.yField,h=a.meta,e=i({},{alias:d},gB(h,d));return sh(ta(((b={})[k]=j,b[d]=g,b[zj]=g,b),i({},h,((c={})[zj]=e,c[zk]=e,c[zl]=e,c))))(f)}function zs(c){var a=c.chart,b=c.options,e=b.xAxis,d=b.yAxis,f=b.xField,g=b.yField;return!1===e?a.axis(f,!1):a.axis(f,e),!1===d?(a.axis(g,!1),a.axis(zj,!1)):(a.axis(g,d),a.axis(zj,d)),c}function zt(b){var c=b.chart,a=b.options,e=a.legend,d=a.total,h=a.risingFill,j=a.fallingFill,k=a.locale,f=sN(k);if(!1===e)c.legend(!1);else{var g=[{name:f.get(["general","increase"]),value:"increase",marker:{symbol:"square",style:{r:5,fill:h}}},{name:f.get(["general","decrease"]),value:"decrease",marker:{symbol:"square",style:{r:5,fill:j}}},];d&&g.push({name:d.label||"",value:"total",marker:{symbol:"square",style:i({},{r:5},gB(d,"style"))}}),c.legend(i({},{custom:!0,position:"top",items:g},e)),c.removeInteraction("legend-filter")}return b}function zu(a){var f=a.chart,b=a.options,c=b.label,g=b.labelMode,d=b.xField,e=sn(f,"interval");if(c){var h=c.callback,i=fm(c,["callback"]);e.label({fields:"absolute"===g?[zl,d]:[zk,d],callback:h,cfg:st(i)})}else e.label(!1);return a}function zv(b){var c=b.chart,d=b.options,a=d.tooltip,g=d.xField,e=d.yField;if(!1!==a){c.tooltip(n({showCrosshairs:!1,showMarkers:!1,shared:!0,fields:[e]},a));var f=c.geometries[0];(null==a?void 0:a.formatter)?f.tooltip(g+"*"+e,a.formatter):f.tooltip(e)}else c.tooltip(!1);return b}function zw(a){return sh(zp,s6,zq,zr,zs,zt,zv,zu,s7,s4,s5,tb())(a)}function zx(b){var c=b.chart,a=b.options,h=a.barStyle,d=a.color,j=a.tooltip,e=a.colorField,f=a.type,k=a.xField,g=a.yField,l=a.data,m=sH(l,g);c.data(m);var n=i({},b,{options:{tooltip:j,seriesField:e,interval:{style:h,color:d,shape:"line"===f?"line":"intervel"},minColumnWidth:a.minBarWidth,maxColumnWidth:a.maxBarWidth,columnBackground:a.barBackground}});return tl(n),"line"===f&&tk({chart:c,options:{xField:k,yField:g,seriesField:e,point:{shape:"circle",color:d}}}),b}function zy(e){var f,g,l,m,h,i,o,p,j,c,d,a=e.options,b=a.yField,q=a.xField,k=a.data,r=a.isStack,s=a.isGroup,t=a.colorField,u=a.maxAngle,v=r&&!s&&t?(g=k,l=q,m=b,h=[],g.forEach(function(a){var b=h.find(function(b){return b[l]===a[l]});b?b[m]+=a[m]||null:h.push(n({},a))}),h):k,w=sH(v,b);return sh(ta(((f={})[b]={min:0,max:(i=u,o=b,c=(j=(p=w).map(function(a){return a[o]}).filter(function(a){return void 0!==a})).length>0?Math.max.apply(Math,j):0,d=Math.abs(i)%360,d?360*c/d:c)},f)))(e)}function zz(b){var c=b.chart,a=b.options,d=a.radius,e=a.innerRadius,f=a.startAngle,g=a.endAngle;return c.coordinate({type:"polar",cfg:{radius:d,innerRadius:e,startAngle:f,endAngle:g}}).transpose(),b}function zA(a){var c=a.chart,b=a.options,d=b.xField,e=b.xAxis;return c.axis(d,e),a}function zB(a){var e=a.chart,c=a.options,b=c.label,f=c.yField,d=sn(e,"interval");if(b){var g=b.callback,h=fm(b,["callback"]);d.label({fields:[f],callback:g,cfg:n(n({},st(h)),{type:"polar"})})}else d.label(!1);return a}function zC(a){return sh(s1("barStyle"),zx,zy,zA,zz,s4,s5,s6,s3,s2,tb(),zB)(a)}f("interval","waterfall",{draw:function(b,h){var e,j=b.customInfo,c=b.points,a=b.nextPoints,f=h.addGroup(),k=this.parsePath(function(c){for(var a=[],b=0;b<c.length;b++){var d=c[b];if(d){var f=0===b?"M":"L";a.push([f,d.x,d.y])}}var e=c[0];return a.push(["L",e.x,e.y]),a.push(["z"]),a}(c)),l=i({},(e=b).defaultStyle,e.style,{fill:e.color});f.addShape("path",{attrs:n(n({},l),{path:k})});var g=gB(j,"leaderLine");if(g&&a){var d=[["M",c[2].x,c[2].y],["L",a[0].x,a[0].y],];c[2].y===a[1].y&&(d[1]=["L",a[1].x,a[1].y]),d=this.parsePath(d),f.addShape("path",{attrs:n({path:d},g.style||{})})}return f}}),function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.type="waterfall",a}fl(a,b),a.getDefaultOptions=function(){return zn},a.prototype.changeData=function(b){var a=this.options,c=a.xField,d=a.yField,e=a.total;this.updateOption({data:b}),this.chart.changeData(zo(b,c,d,e))},a.prototype.getSchemaAdaptor=function(){return zw},a.prototype.getDefaultOptions=function(){return a.getDefaultOptions()}}(c);var zD=i({},c.getDefaultOptions(),{interactions:[{type:"element-active"}],legend:!1,tooltip:{showMarkers:!1},xAxis:{grid:null,tickLine:null,line:null},maxAngle:240});!function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.type="radial-bar",a}fl(a,b),a.getDefaultOptions=function(){return zD},a.prototype.changeData=function(a){this.updateOption({data:a}),zy({chart:this.chart,options:this.options}),this.chart.changeData(a)},a.prototype.getDefaultOptions=function(){return a.getDefaultOptions()},a.prototype.getSchemaAdaptor=function(){return zC}}(c);var zE="first-axes-view",zF="second-axes-view",zG="series-field-key";function zH(j,f,g,k,h){var i=[];f.forEach(function(a){k.forEach(function(c){var b,d=((b={})[j]=c[j],b[g]=a,b[a]=c[a],b);i.push(d)})});var a=Object.values(f0(i,g)),b=a[0],c=void 0===b?[]:b,d=a[1],e=void 0===d?[]:d;return h?[c.reverse(),e.reverse()]:[c,e]}function zI(a){return"vertical"!==a}function zJ(k,i,c){var d=i[0],e=i[1],a=d.autoPadding,b=e.autoPadding,j=k.__axisPosition,g=j.layout,h=j.position;if(zI(g)&&"top"===h&&(d.autoPadding=c.instance(a.top,0,a.bottom,a.left),e.autoPadding=c.instance(b.top,a.left,b.bottom,0)),zI(g)&&"bottom"===h&&(d.autoPadding=c.instance(a.top,a.right/2+5,a.bottom,a.left),e.autoPadding=c.instance(b.top,b.right,b.bottom,a.right/2+5)),!zI(g)&&"bottom"===h){var f=a.left>=b.left?a.left:b.left;d.autoPadding=c.instance(a.top,a.right,a.bottom/2+5,f),e.autoPadding=c.instance(a.bottom/2+5,b.right,b.bottom,f)}if(!zI(g)&&"top"===h){var f=a.left>=b.left?a.left:b.left;d.autoPadding=c.instance(a.top,a.right,0,f),e.autoPadding=c.instance(0,b.right,a.top,f)}}function zK(d){var e,b,c=d.chart,a=d.options,q=a.data,f=a.xField,g=a.yField,j=a.color,k=a.barStyle,l=a.widthRatio,h=a.legend,m=a.layout,n=zH(f,g,zG,q,zI(m));h?c.legend(zG,h):!1===h&&c.legend(!1);var o=n[0],p=n[1];zI(m)?((e=c.createView({region:{start:{x:0,y:0},end:{x:.5,y:1}},id:zE})).coordinate().transpose().reflect("x"),(b=c.createView({region:{start:{x:.5,y:0},end:{x:1,y:1}},id:zF})).coordinate().transpose(),e.data(o),b.data(p)):(e=c.createView({region:{start:{x:0,y:0},end:{x:1,y:.5}},id:zE}),b=c.createView({region:{start:{x:0,y:.5},end:{x:1,y:1}},id:zF}),b.coordinate().reflect("y"),e.data(o),b.data(p));var r=i({},d,{chart:e,options:{widthRatio:l,xField:f,yField:g[0],seriesField:zG,interval:{color:j,style:k}}});tl(r);var s=i({},d,{chart:b,options:{xField:f,yField:g[1],seriesField:zG,widthRatio:l,interval:{color:j,style:k}}});return tl(s),d}function zL(b){var g,d,e,a=b.options,f=b.chart,h=a.xAxis,j=a.yAxis,k=a.xField,c=a.yField,l=sq(f,zE),m=sq(f,zF),n={};return fD((null==a?void 0:a.meta)||{}).map(function(b){gB(null==a?void 0:a.meta,[b,"alias"])&&(n[b]=a.meta[b].alias)}),f.scale(((g={})[zG]={sync:!0,formatter:function(a){return gB(n,a,a)}},g)),ta(((d={})[k]=h,d[c[0]]=j[c[0]],d))(i({},b,{chart:l})),ta(((e={})[k]=h,e[c[1]]=j[c[1]],e))(i({},b,{chart:m})),b}function zM(g){var h=g.chart,b=g.options,c=b.xAxis,i=b.yAxis,d=b.xField,a=b.yField,j=b.layout,e=sq(h,zE),f=sq(h,zF);return(null==c?void 0:c.position)==="bottom"?f.axis(d,n(n({},c),{label:{formatter:function(){return""}}})):f.axis(d,!1),!1===c?e.axis(d,!1):e.axis(d,n({position:zI(j)?"top":"bottom"},c)),!1===i?(e.axis(a[0],!1),f.axis(a[1],!1)):(e.axis(a[0],i[a[0]]),f.axis(a[1],i[a[1]])),h.__axisPosition={position:e.getOptions().axes[d].position,layout:j},g}function zN(a){var b=a.chart;return s4(i({},a,{chart:sq(b,zE)})),s4(i({},a,{chart:sq(b,zF)})),a}function zO(a){var b=a.chart,c=a.options,d=c.yField,e=c.yAxis;return tc(i({},a,{chart:sq(b,zE),options:{yAxis:e[d[0]]}})),tc(i({},a,{chart:sq(b,zF),options:{yAxis:e[d[1]]}})),a}function zP(a){var b=a.chart;return s6(i({},a,{chart:sq(b,zE)})),s6(i({},a,{chart:sq(b,zF)})),s6(a),a}function zQ(a){var b=a.chart;return s5(i({},a,{chart:sq(b,zE)})),s5(i({},a,{chart:sq(b,zF)})),a}function zR(c){var d,e,w=this,h=c.chart,f=c.options,g=f.label,j=f.yField,q=f.layout,r=sq(h,zE),s=sq(h,zF),k=sn(r,"interval"),l=sn(s,"interval");if(g){var m=g.callback,a=fm(g,["callback"]);a.position||(a.position="middle"),void 0===a.offset&&(a.offset=2);var b=n({},a);if(zI(q)){var o=(null===(d=b.style)|| void 0===d?void 0:d.textAlign)||("middle"===a.position?"center":"left");a.style=i({},a.style,{textAlign:o});var t={left:"right",right:"left",center:"center"};b.style=i({},b.style,{textAlign:t[o]})}else{var u={top:"bottom",bottom:"top",middle:"middle"};"string"==typeof a.position?a.position=u[a.position]:"function"==typeof a.position&&(a.position=function(){for(var c=[],b=0;b<arguments.length;b++)c[b]=arguments[b];return u[a.position.apply(w,c)]});var p=(null===(e=b.style)|| void 0===e?void 0:e.textBaseline)||"bottom";b.style=i({},b.style,{textBaseline:p});var v={top:"bottom",bottom:"top",middle:"middle"};a.style=i({},a.style,{textBaseline:v[p]})}k.label({fields:[j[0]],callback:m,cfg:st(b)}),l.label({fields:[j[1]],callback:m,cfg:st(a)})}else k.label(!1),l.label(!1);return c}function zS(a){return sh(zK,zL,zM,zO,zP,zR,s3,zN,zQ)(a)}function zT(a,b){if(fB(a))return a.find(function(a){return a.type===b})}function zU(b,c){var a=zT(b,c);return a&& !1!==a.enable}function zV(a){var b=a.interactions,c=a.drilldown;return gB(c,"enabled")||zU(b,"treemap-drill-down")}function zW(a){var b=a.data,f=a.colorField,g=a.enableDrillDown,c=a.hierarchyConfig,d=y$(b,n(n({},c),{type:"hierarchy.treemap",field:"value",as:["x","y"]})),e=[];return d.forEach(function(a){if(0===a.depth||g&&1!==a.depth|| !g&&a.children)return null;var h=a.ancestors().map(function(a){return{data:a.data,height:a.height,value:a.value}}),j=g&&fB(b.path)?h.concat(b.path.slice(1)):h,d=Object.assign({},a.data,n({x:a.x,y:a.y,depth:a.depth,value:a.value,path:j},a));if(!a.data[f]&&a.parent){var i=a.ancestors().find(function(a){return a.data[f]});d[f]=null==i?void 0:i.data[f]}else d[f]=a.data[f];d[x4]={hierarchyConfig:c,colorField:f,enableDrillDown:g},e.push(d)}),e}function zX(a){return i({options:{rawFields:["value"],tooltip:{fields:["name","value",a.options.colorField,"path"],formatter:function(a){return{name:a.name,value:a.value}}}}},a)}function zY(b){var c=b.chart,a=b.options,d=a.color,e=a.colorField,f=a.rectStyle,g=a.hierarchyConfig,h=a.rawFields,j=zW({data:a.data,colorField:a.colorField,enableDrillDown:zV(a),hierarchyConfig:g});return c.data(j),tm(i({},b,{options:{xField:"x",yField:"y",seriesField:e,rawFields:h,polygon:{color:d,style:f}}})),c.coordinate().reflect("y"),b}function zZ(a){return a.chart.axis(!1),a}function z$(d){var a,f,e,g,b=d.chart,c=d.options,j=c.interactions,k=c.drilldown;s4({chart:b,options:(f=(a=c).drilldown,e=a.interactions,g=zV(a),g?i({},a,{interactions:fr(void 0===e?[]:e,[{type:"drill-down",cfg:{drillDownConfig:f,transformData:zW}},])}):a)});var h=zT(j,"view-zoom");h&&(!1!==h.enable?b.getCanvas().on("mousewheel",function(a){a.preventDefault()}):b.getCanvas().off("mousewheel"));var l=zV(c);return l&&(b.appendPadding=sJ(b.appendPadding,gB(k,["breadCrumb","position"]))),d}function z_(a){return sh(zX,s6,s1("rectStyle"),zY,zZ,s2,s3,z$,s5,tb())(a)}!function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.type="bidirectional-bar",a}fl(a,b),a.getDefaultOptions=function(){return i({},b.getDefaultOptions.call(this),{syncViewPadding:zJ})},a.prototype.changeData=function(a){void 0===a&&(a=[]),this.chart.emit(id.BEFORE_CHANGE_DATA,oK.fromData(this.chart,id.BEFORE_CHANGE_DATA,null)),this.updateOption({data:a});var b=this.options,d=b.xField,e=b.yField,f=b.layout,c=zH(d,e,zG,a,zI(f)),g=c[0],h=c[1],i=sq(this.chart,zE),j=sq(this.chart,zF);i.data(g),j.data(h),this.chart.render(!0),this.chart.emit(id.AFTER_CHANGE_DATA,oK.fromData(this.chart,id.AFTER_CHANGE_DATA,null))},a.prototype.getDefaultOptions=function(){return a.getDefaultOptions()},a.prototype.getSchemaAdaptor=function(){return zS},a.SERIES_FIELD_KEY=zG}(c);var z0={colorField:"name",rectStyle:{lineWidth:1,stroke:"#fff"},hierarchyConfig:{tile:"treemapSquarify"},label:{fields:["name"],layout:{type:"limit-in-shape"}},tooltip:{showMarkers:!1,showTitle:!1},drilldown:{enabled:!1,breadCrumb:{position:"bottom-left",rootText:"\u521D\u59CB",dividerText:"/",textStyle:{fontSize:12,fill:"rgba(0, 0, 0, 0.65)",cursor:"pointer"},activeTextStyle:{fill:"#87B5FF"}}}};function z1(a){return a.target.depth}function fa(a,b){return a.sourceLinks.length?a.depth:b-1}function z2(a){return function(){return a}}function z3(b,d){for(var c=0,a=0;a<b.length;a++)c+=d(b[a]);return c}function z4(c,d){for(var a=-1/0,b=0;b<c.length;b++)a=Math.max(d(c[b]),a);return a}function z5(a,b){return z7(a.source,b.source)||a.index-b.index}function z6(a,b){return z7(a.target,b.target)||a.index-b.index}function z7(a,b){return a.y0-b.y0}function z8(a){return a.value}function z9(a){return a.index}function Aa(a){return a.nodes}function Ab(a){return a.links}function Ac(c,a){var b=c.get(a);if(!b)throw Error("missing: "+a);return b}function Ad(k){for(var l=k.nodes,b=0,g=l;b<g.length;b++){for(var c=g[b],d=c.y0,h=d,e=0,i=c.sourceLinks;e<i.length;e++){var a=i[e];a.y0=d+a.width/2,d+=a.width}for(var f=0,j=c.targetLinks;f<j.length;f++){var a=j[f];a.y1=h+a.width/2,h+=a.width}}}!function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.type="treemap",a}fl(a,b),a.getDefaultOptions=function(){return z0},a.prototype.changeData=function(c){var a=this.options,e=a.colorField,f=a.interactions,g=a.hierarchyConfig;this.updateOption({data:c});var d,b,h=zW({data:c,colorField:e,enableDrillDown:zU(f,"treemap-drill-down"),hierarchyConfig:g});this.chart.changeData(h),d=this.chart,b=d.interactions["drill-down"],b&&b.context.actions.find(function(a){return"drill-down-action"===a.name}).reset()},a.prototype.getDefaultOptions=function(){return a.getDefaultOptions()},a.prototype.getSchemaAdaptor=function(){return z_}}(c);var Ae={left:function(a){return a.depth},right:function(a,b){return b-1-a.height},center:function(a){return a.targetLinks.length?a.depth:a.sourceLinks.length?f8(a.sourceLinks,z1)-1:0},justify:fa},Af={nodeId:function(a){return a.index},nodeAlign:"justify",nodeWidth:.008,nodePadding:.03,nodeSort:void 0};function Ag(a,C,D){var g,E,F=a.dataType,h=a.data,i=a.sourceField,j=a.targetField,G=a.weightField,H=a.nodeAlign,I=a.nodeSort,J=a.nodePadding,K=a.nodePaddingRatio,L=a.nodeWidth,M=a.nodeWidthRatio,N=a.nodeDepth,k=a.rawFields,O=void 0===k?[]:k;g="node-link"===(E=F)?h:sG(function(a,d,e){if(!fB(a))return[];var f,k,l,g,h,i,m,n,j,b=[],c=(f=a,k=d,l=e,g=[],f.forEach(function(a){var b=a[k],c=a[l];g.includes(b)||g.push(b),g.includes(c)||g.push(c)}),g),o=(h=a,i=c,m=d,n=e,j={},i.forEach(function(a){j[a]={},i.forEach(function(b){j[a][b]=0})}),h.forEach(function(a){j[a[m]][a[n]]=1}),j),p={};function q(a){p[a]=1,c.forEach(function(c){if(0!=o[a][c]){if(1==p[c])b.push(a+"_"+c);else{if(-1==p[c])return;q(c)}}}),p[a]=-1}return c.forEach(function(a){p[a]=0}),c.forEach(function(a){-1!=p[a]&&q(a)}),0!==b.length&&console.warn("sankey data contains circle, "+b.length+" records removed.",b),a.filter(function(a){return 0>b.findIndex(function(b){return b===a[d]+"_"+a[e]})})}(h,i,j),i,j,G,O);var d,l,m,e,o,p,q,r,P,b,s,t,u,v,w,x,c,y,f,z,A,B=(q={nodeAlign:H,nodePadding:(d=J,l=K,m=D,sE(d)?d/m:l),nodeWidth:(e=L,o=M,p=C,sE(e)?e/p:o),nodeSort:I,nodeDepth:N},r=g,s=(b=gA({},Af,P=q)).nodeId,t=b.nodeSort,u=b.nodeAlign,v=b.nodeWidth,w=b.nodePadding,x=b.nodeDepth,y=(function(){var b,c,d,e,f=0,g=0,h=1,i=1,j=24,k=8,l=z9,m=fa,n=Aa,o=Ab,p=6;function a(b){var a={nodes:n(b),links:o(b)};return q(a),r(a),s(a),t(a),u(a),Ad(a),a}function q(c){var a=c.nodes,g=c.links;a.forEach(function(a,b){a.index=b,a.sourceLinks=[],a.targetLinks=[]});var j=new Map(a.map(function(a){return[l(a),a]}));if(g.forEach(function(a,d){a.index=d;var b=a.source,c=a.target;"object"!=typeof b&&(b=a.source=Ac(j,b)),"object"!=typeof c&&(c=a.target=Ac(j,c)),b.sourceLinks.push(a),c.targetLinks.push(a)}),null!=d)for(var b=0,e=a;b<e.length;b++){var f=e[b],h=f.sourceLinks,i=f.targetLinks;h.sort(d),i.sort(d)}}function r(d){for(var e=d.nodes,b=0,c=e;b<c.length;b++){var a=c[b];a.value=void 0===a.fixedValue?Math.max(z3(a.sourceLinks,z8),z3(a.targetLinks,z8)):a.fixedValue}}function s(g){for(var a=g.nodes,h=a.length,c=new Set(a),e=new Set,i=0;c.size;){if(c.forEach(function(b){b.depth=i;for(var a=0,c=b.sourceLinks;a<c.length;a++){var d=c[a].target;e.add(d)}}),++i>h)throw Error("circular link");c=e,e=new Set}if(b)for(var j=Math.max(z4(a,function(a){return a.depth})+1,0),f=void 0,d=0;d<a.length;d++)(f=a[d]).depth=b.call(null,f,j)}function t(d){for(var b=d.nodes,e=b.length,a=new Set(b),c=new Set,f=0;a.size;){if(a.forEach(function(b){b.height=f;for(var a=0,d=b.targetLinks;a<d.length;a++){var e=d[a].source;c.add(e)}}),++f>e)throw Error("circular link");a=c,c=new Set}}function u(n){var a=function(o){for(var k=o.nodes,e=Math.max(z4(k,function(a){return a.depth})+1,0),p=(h-f-j)/(e-1),b=Array(e).fill(0).map(function(){return[]}),g=0,l=k;g<l.length;g++){var a=l[g],d=Math.max(0,Math.min(e-1,Math.floor(m.call(null,a,e))));a.layer=d,a.x0=f+d*p,a.x1=a.x0+j,b[d]?b[d].push(a):b[d]=[a]}if(c)for(var i=0,n=b;i<n.length;i++)n[i].sort(c);return b}(n);e=Math.min(k,(i-g)/(z4(a,function(a){return a.length})-1)),function(k){for(var l=function(c,d){for(var a=1/0,b=0;b<c.length;b++)a=Math.min(d(c[b]),a);return a}(k,function(a){return(i-g-(a.length-1)*e)/z3(a,z8)}),f=0,m=k;f<m.length;f++){for(var c=m[f],b=g,h=0,n=c;h<n.length;h++){var a=n[h];a.y0=b,a.y1=b+a.value*l,b=a.y1+e;for(var j=0,o=a.sourceLinks;j<o.length;j++){var p=o[j];p.width=p.value*l}}b=(i-b+e)/(c.length+1);for(var d=0;d<c.length;++d){var a=c[d];a.y0+=b*(d+1),a.y1+=b*(d+1)}B(c)}}(a);for(var b=0;b<p;++b){var d=Math.pow(.99,b),l=Math.max(1-d,(b+1)/p);w(a,d,l),v(a,d,l)}}function v(h,p,q){for(var d=1,r=h.length;d<r;++d){for(var b=h[d],e=0,i=b;e<i.length;e++){for(var a=i[e],j=0,f=0,g=0,k=a.targetLinks;g<k.length;g++){var l=k[g],m=l.source,n=l.value*(a.layer-m.layer);j+=C(m,a)*n,f+=n}if(f>0){var o=(j/f-a.y0)*p;a.y0+=o,a.y1+=o,A(a)}}void 0===c&&b.sort(z7),b.length&&x(b,q)}}function w(h,p,q){for(var r=h.length,d=r-2;d>=0;--d){for(var b=h[d],e=0,i=b;e<i.length;e++){for(var a=i[e],j=0,f=0,g=0,k=a.sourceLinks;g<k.length;g++){var l=k[g],m=l.target,n=l.value*(m.layer-a.layer);j+=D(a,m)*n,f+=n}if(f>0){var o=(j/f-a.y0)*p;a.y0+=o,a.y1+=o,A(a)}}void 0===c&&b.sort(z7),b.length&&x(b,q)}}function x(a,b){var c=a.length>>1,d=a[c];z(a,d.y0-e,c-1,b),y(a,d.y1+e,c+1,b),z(a,i,a.length-1,b),y(a,g,0,b)}function y(d,f,b,g){for(;b<d.length;++b){var a=d[b],c=(f-a.y0)*g;c>1e-6&&(a.y0+=c,a.y1+=c),f=a.y1+e}}function z(f,d,b,g){for(;b>=0;--b){var a=f[b],c=(a.y1-d)*g;c>1e-6&&(a.y0-=c,a.y1-=c),d=a.y0-e}}function A(c){var g=c.sourceLinks,h=c.targetLinks;if(void 0===d){for(var a=0,e=h;a<e.length;a++)e[a].source.sourceLinks.sort(z6);for(var b=0,f=g;b<f.length;b++)f[b].target.targetLinks.sort(z5)}}function B(e){if(void 0===d)for(var a=0,b=e;a<b.length;a++){var c=b[a],f=c.sourceLinks,g=c.targetLinks;f.sort(z6),g.sort(z5)}}function C(a,h){for(var b=a.y0-(a.sourceLinks.length-1)*e/2,c=0,i=a.sourceLinks;c<i.length;c++){var j=i[c],d=j.target,f=j.width;if(d===h)break;b+=f+e}for(var g=0,k=h.targetLinks;g<k.length;g++){var l=k[g],d=l.source,f=l.width;if(d===a)break;b-=f}return b}function D(h,a){for(var b=a.y0-(a.targetLinks.length-1)*e/2,c=0,i=a.targetLinks;c<i.length;c++){var j=i[c],d=j.source,f=j.width;if(d===h)break;b+=f+e}for(var g=0,k=h.sourceLinks;g<k.length;g++){var l=k[g],d=l.target,f=l.width;if(d===a)break;b-=f}return b}return a.update=function(a){return Ad(a),a},a.nodeId=function(b){return arguments.length?(l="function"==typeof b?b:z2(b),a):l},a.nodeAlign=function(b){return arguments.length?(m="function"==typeof b?b:z2(b),a):m},a.nodeDepth=function(c){return arguments.length?(b=c,a):b},a.nodeSort=function(b){return arguments.length?(c=b,a):c},a.nodeWidth=function(b){return arguments.length?(j=+b,a):j},a.nodePadding=function(b){return arguments.length?(k=e=+b,a):k},a.nodes=function(b){return arguments.length?(n="function"==typeof b?b:z2(b),a):n},a.links=function(b){return arguments.length?(o="function"==typeof b?b:z2(b),a):o},a.linkSort=function(b){return arguments.length?(d=b,a):d},a.size=function(b){return arguments.length?(f=g=0,h=+b[0],i=+b[1],a):[h-f,i-g]},a.extent=function(b){return arguments.length?(f=+b[0][0],h=+b[1][0],g=+b[0][1],i=+b[1][1],a):[[f,g],[h,i],]},a.iterations=function(b){return arguments.length?(p=+b,a):p},a})().nodeSort(t).nodeWidth(v).nodePadding(w).nodeDepth(x).nodeAlign((fT(c=u)?Ae[c]:fz(c)?c:null)||fa).extent([[0,0],[1,1],]).nodeId(s),f=y(r),z=f.nodes.map(function(a){var b=a.x0,c=a.x1,d=a.y0,e=a.y1;return a.x=[b,c,c,b],a.y=[d,d,e,e],a}).filter(function(a){return null!==a.name}),A=f.links.map(function(a){var e=a.source,f=a.target,c=e.x1,d=f.x0;a.x=[c,c,d,d];var b=a.width/2;return a.y=[a.y0+b,a.y0-b,a.y1+b,a.y1-b],a}).filter(function(a){var b=a.source,c=a.target;return null!==b.name&&null!==c.name}),{nodes:z,links:A}),Q=B.nodes,R=B.links;return{nodes:Q.map(function(a){return n(n({},si(a,fr(["x","y","name"],O))),{isNode:!0})}),edges:R.map(function(a){return n(n({source:a.source.name,target:a.target.name,name:a.source.name||a.target.name},si(a,fr(["x","y","value"],O))),{isNode:!1})})}}var Ah="name",Ai="nodes",Aj="edges";function Ak(a){var b=a.options.rawFields,c=void 0===b?[]:b;return i({},{options:{tooltip:{fields:fV(fr(["name","source","target","value","isNode"],c))},label:{fields:fV(fr(["x","name"],c))}}},a)}function Al(c){var a=c.chart,b=c.options,e=b.color,i=b.nodeStyle,j=b.edgeStyle,k=b.label,d=b.tooltip,l=b.nodeState,m=b.edgeState;a.legend(!1),a.tooltip(d),a.axis(!1),a.coordinate().reflect("y");var f=Ag(b,a.width,a.height),n=f.nodes,o=f.edges,g=a.createView({id:Aj});g.data(o),tn({chart:g,options:{xField:"x",yField:"y",seriesField:Ah,edge:{color:e,style:j,shape:"arc"},tooltip:d,state:m}});var h=a.createView({id:Ai});return h.data(n),tm({chart:h,options:{xField:"x",yField:"y",seriesField:Ah,polygon:{color:e,style:i},label:k,tooltip:d,state:l}}),a.interaction("element-active"),a.scale({x:{sync:!0,nice:!0,min:0,max:1,minLimit:0,maxLimit:1},y:{sync:!0,nice:!0,min:0,max:1,minLimit:0,maxLimit:1},name:{sync:"color",type:"cat"}}),c}function Am(b){var a=b.chart,c=b.options.animation;return"boolean"==typeof c?a.animate(c):a.animate(!0),fr(a.views[0].geometries,a.views[1].geometries).forEach(function(a){a.animate(c)}),b}function An(a){var b=a.chart,d=a.options.nodeDraggable,c="sankey-node-draggable";return d?b.interaction(c):b.removeInteraction(c),a}function Ao(a){var c=a.chart,b=a.options,d=b.interactions,e=void 0===d?[]:d,f=[].concat(e,b.nodeInteractions||[]),g=[].concat(e,b.edgeInteractions||[]),h=sq(c,Ai),i=sq(c,Aj);return f.forEach(function(a){(null==a?void 0:a.enable)=== !1?h.removeInteraction(a.type):h.interaction(a.type,a.cfg||{})}),g.forEach(function(a){(null==a?void 0:a.enable)=== !1?i.removeInteraction(a.type):i.interaction(a.type,a.cfg||{})}),a}function Ap(a){return sh(Ak,Al,Ao,An,Am,s6)(a)}var fb=function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.isDragging=!1,a}return fl(a,b),a.prototype.isNodeElement=function(){var a=gB(this.context,"event.target");if(a){var b=a.get("element");return b&&b.getModel().data.isNode}return!1},a.prototype.getNodeView=function(){return sq(this.context.view,Ai)},a.prototype.getEdgeView=function(){return sq(this.context.view,Aj)},a.prototype.getCurrentDatumIdx=function(a){return this.getNodeView().geometries[0].elements.indexOf(a)},a.prototype.start=function(){if(this.isNodeElement()){this.prevPoint={x:gB(this.context,"event.x"),y:gB(this.context,"event.y")};var b=this.context.event.target.get("element"),a=this.getCurrentDatumIdx(b);-1!==a&&(this.currentElementIdx=a,this.context.isDragging=!0,this.isDragging=!0,this.prevNodeAnimateCfg=this.getNodeView().getOptions().animate,this.prevEdgeAnimateCfg=this.getEdgeView().getOptions().animate,this.getNodeView().animate(!1),this.getEdgeView().animate(!1))}},a.prototype.translate=function(){if(this.isDragging){var i=this.context.view,c={x:gB(this.context,"event.x"),y:gB(this.context,"event.y")},j=c.x-this.prevPoint.x,k=c.y-this.prevPoint.y,a=this.getNodeView(),d=a.geometries[0].elements[this.currentElementIdx];if(d&&d.getModel()){var b=d.getModel().data,l=a.getOptions().data,e=a.getCoordinate(),o={x:j/e.getWidth(),y:k/e.getHeight()},m=n(n({},b),{x:b.x.map(function(a){return a+o.x}),y:b.y.map(function(a){return a+o.y})}),f=fr(l);f[this.currentElementIdx]=m,a.data(f);var p=b.name,g=this.getEdgeView(),h=g.getOptions().data;h.forEach(function(a){a.source===p&&(a.x[0]+=o.x,a.x[1]+=o.x,a.y[0]+=o.y,a.y[1]+=o.y),a.target===p&&(a.x[2]+=o.x,a.x[3]+=o.x,a.y[2]+=o.y,a.y[3]+=o.y)}),g.data(h),this.prevPoint=c,i.render(!0)}}},a.prototype.end=function(){this.isDragging=!1,this.context.isDragging=!1,this.prevPoint=null,this.currentElementIdx=null,this.getNodeView().animate(this.prevNodeAnimateCfg),this.getEdgeView().animate(this.prevEdgeAnimateCfg)},a}(g);a("sankey-node-drag",fb),b("sankey-node-draggable",{showEnable:[{trigger:"polygon:mouseenter",action:"cursor:pointer"},{trigger:"polygon:mouseleave",action:"cursor:default"},],start:[{trigger:"polygon:mousedown",action:"sankey-node-drag:start"}],processing:[{trigger:"plot:mousemove",action:"sankey-node-drag:translate"},{isEnable:function(a){return a.isDragging},trigger:"plot:mousemove",action:"cursor:move"},],end:[{trigger:"plot:mouseup",action:"sankey-node-drag:end"}]}),function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.type="sankey",a}fl(a,b),a.getDefaultOptions=function(){return{appendPadding:8,syncViewPadding:!0,nodeStyle:{opacity:1,fillOpacity:1,lineWidth:1},edgeStyle:{opacity:.3,lineWidth:0},edgeState:{active:{style:{opacity:.8,lineWidth:0}}},label:{formatter:function(a){return a.name},callback:function(b){var a=1===b[1];return{style:{fill:"#545454",textAlign:a?"end":"start"},offsetX:a?-8:8}},layout:[{type:"hide-overlap"},]},tooltip:{showTitle:!1,showMarkers:!1,shared:!1,showContent:function(a){return!gB(a,[0,"data","isNode"])},formatter:function(a){var b=a.source,c=a.target,d=a.value;return{name:b+" -> "+c,value:d}}},nodeWidthRatio:.008,nodePaddingRatio:.01,animation:{appear:{animation:"wave-in"},enter:{animation:"wave-in"}}}},a.prototype.changeData=function(b){this.updateOption({data:b});var a=Ag(this.options,this.chart.width,this.chart.height),c=a.nodes,d=a.edges,e=sq(this.chart,Ai),f=sq(this.chart,Aj);e.changeData(c),f.changeData(d)},a.prototype.getSchemaAdaptor=function(){return Ap},a.prototype.getDefaultOptions=function(){return a.getDefaultOptions()}}(c);var Aq={y:0,nodeWidthRatio:.05,weight:!1,nodePaddingRatio:.1,id:function(a){return a.id},source:function(a){return a.source},target:function(a){return a.target},sourceWeight:function(a){return a.value||1},targetWeight:function(a){return a.value||1},sortBy:null},Ar="name",As="source",At={nodeStyle:{opacity:1,fillOpacity:1,lineWidth:1},edgeStyle:{opacity:.5,lineWidth:2},label:{fields:["x","name"],callback:function(a,b){var c;return{labelEmit:!0,style:{fill:"#8c8c8c"},offsetX:(a[0]+a[1])/2>.5?-4:4,content:b}}},tooltip:{showTitle:!1,showMarkers:!1,fields:["source","target","value","isNode"],showContent:function(a){return!gB(a,[0,"data","isNode"])},formatter:function(a){var b=a.source,c=a.target,d=a.value;return{name:b+" -> "+c,value:d}}},interactions:[{type:"element-active"},],weight:!0,nodePaddingRatio:.1,nodeWidthRatio:.05};function Au(f){var j,g,r,b,h,d,i,k,s,t,l,e,c,m,o,a=f.options,u=a.data,v=a.sourceField,w=a.targetField,x=a.weightField,y=a.nodePaddingRatio,z=a.nodeWidthRatio,p=a.rawFields,F=void 0===p?[]:p,A=sG(u,v,w,x),q=(j={weight:!0,nodePaddingRatio:y,nodeWidthRatio:z},g=A,b=gA({},Aq,r=j),h={},d=g.nodes,i=g.links,d.forEach(function(a){h[b.id(a)]=a}),k=h,s=i,t=b,gc(k,function(a,b){a.inEdges=s.filter(function(a){return""+t.target(a)==""+b}),a.outEdges=s.filter(function(a){return""+t.source(a)==""+b}),a.edges=a.outEdges.concat(a.inEdges),a.frequency=a.edges.length,a.value=0,a.inEdges.forEach(function(b){a.value+=t.targetWeight(b)}),a.outEdges.forEach(function(b){a.value+=t.sourceWeight(b)})}),l=d,e=b,c=({weight:function(a,b){return b.value-a.value},frequency:function(a,b){return b.frequency-a.frequency},id:function(a,b){return(""+e.id(a)).localeCompare(""+e.id(b))}})[e.sortBy],!c&&fz(e.sortBy)&&(c=e.sortBy),c&&l.sort(c),m=function(a,b){var c=a.length;if(!c)throw TypeError("Invalid nodes: it's empty!");if(b.weight){var d=b.nodePaddingRatio;if(d<0||d>=1)throw TypeError("Invalid nodePaddingRatio: it must be in range [0, 1)!");var f=d/(2*c),e=b.nodeWidthRatio;if(e<=0||e>=1)throw TypeError("Invalid nodeWidthRatio: it must be in range (0, 1)!");var g=0;a.forEach(function(a){g+=a.value}),a.forEach(function(a){a.weight=a.value/g,a.width=a.weight*(1-d),a.height=e}),a.forEach(function(c,l){for(var h=0,d=l-1;d>=0;d--)h+=a[d].width+2*f;var i=c.minX=f+h,j=c.maxX=c.minX+c.width,g=c.minY=b.y-e/2,k=c.maxY=g+e;c.x=[i,j,j,i],c.y=[g,g,k,k]})}else{var h=1/c;a.forEach(function(a,c){a.x=(c+.5)*h,a.y=b.y})}return a}(d,b),o=function(b,a,c){if(c.weight){var d={};gc(b,function(a,b){d[b]=a.value}),a.forEach(function(a){var h=c.source(a),i=c.target(a),e=b[h],f=b[i];if(e&&f){var n=d[h],j=c.sourceWeight(a),k=e.minX+(e.value-n)/e.value*e.width,o=k+j/e.value*e.width;d[h]-=j;var p=d[i],l=c.targetWeight(a),m=f.minX+(f.value-p)/f.value*f.width,q=m+l/f.value*f.width;d[i]-=l;var g=c.y;a.x=[k,o,m,q],a.y=[g,g,g,g],a.source=e,a.target=f}})}else a.forEach(function(a){var d=b[c.source(a)],e=b[c.target(a)];d&&e&&(a.x=[d.x,e.x],a.y=[d.y,e.y],a.source=d,a.target=e)});return a}(h,i,b),{nodes:m,links:o}),B=q.nodes,C=q.links,D=B.map(function(a){return n(n({},si(a,fr(["id","x","y","name"],F))),{isNode:!0})}),E=C.map(function(a){return n(n({source:a.source.name,target:a.target.name,name:a.source.name||a.target.name},si(a,fr(["x","y","value"],F))),{isNode:!1})});return n(n({},f),{ext:n(n({},f.ext),{chordData:{nodesData:D,edgesData:E}})})}function Av(b){var a;return b.chart.scale(((a={x:{sync:!0,nice:!0},y:{sync:!0,nice:!0,max:1}})[Ar]={sync:"color"},a[As]={sync:"color"},a)),b}function Aw(a){return a.chart.axis(!1),a}function Ax(a){return a.chart.legend(!1),a}function Ay(a){var b=a.chart,c=a.options,d=c.tooltip;return b.tooltip(d),a}function Az(a){return a.chart.coordinate("polar").reflect("y"),a}function AA(a){var d=a.chart,b=a.options,e=a.ext.chordData.nodesData,f=b.nodeStyle,g=b.label,h=b.tooltip,c=d.createView();return c.data(e),tm({chart:c,options:{xField:"x",yField:"y",seriesField:Ar,polygon:{style:f},label:g,tooltip:h}}),a}function AB(a){var d=a.chart,b=a.options,e=a.ext.chordData.edgesData,f=b.edgeStyle,g=b.tooltip,c=d.createView();return c.data(e),tn({chart:c,options:{xField:"x",yField:"y",seriesField:As,edge:{style:f,shape:"arc"},tooltip:g}}),a}function AC(b){var a,c=b.chart,d=b.options.animation;return"boolean"==typeof d?c.animate(d):c.animate(!0),I(0>=gB(a=c,["views","length"],0)?a.geometries:fR(a.views,function(a,b){return a.concat(b.geometries)},a.geometries),function(a){a.animate(d)}),b}function AD(a){return sh(s6,Au,Az,Av,Aw,Ax,Ay,AB,AA,s4,s7,AC)(a)}!function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.type="chord",a}fl(a,b),a.getDefaultOptions=function(){return At},a.prototype.getDefaultOptions=function(){return a.getDefaultOptions()},a.prototype.getSchemaAdaptor=function(){return AD}}(c);var AE={field:"value",as:["x","y","r"],sort:function(a,b){return b.value-a.value}};function AF(a){var c=a.data,d=a.hierarchyConfig,b=a.rawFields,g=void 0===b?[]:b,h=a.enableDrillDown,e=function(e,a){var f,b=(a=gA({},AE,a)).as;if(!fB(b)||3!==b.length)throw TypeError('Invalid as: it must be an array with 3 strings (e.g. [ "x", "y", "r" ])!');try{f=xY(a)}catch(g){console.warn(g)}var c,d=(c=e,yD().size(a.size).padding(a.padding)(e4(c).sum(function(a){return a[f]}).sort(a.sort))),h=b[0],i=b[1],j=b[2];return d.each(function(a){a[h]=a.x,a[i]=a.y,a[j]=a.r}),xZ(d)}(c,n(n({},d),{field:"value",as:["x","y","r"]})),f=[];return e.forEach(function(a){for(var c,e=a.data.name,b=n({},a);b.depth>1;)e=(null===(c=b.parent.data)|| void 0===c?void 0:c.name)+" / "+e,b=b.parent;if(h&&a.depth>2)return null;var j=i({},a.data,n(n(n({},si(a.data,g)),{path:e}),a));j.ext=d,j[x4]={hierarchyConfig:d,rawFields:g,enableDrillDown:h},f.push(j)}),f}function AG(l,m,c){var a=sK([l,m]),d=a[0],e=a[1],f=a[2],g=a[3],n=c.width,o=c.height,h=n-(g+e),i=o-(d+f),b=Math.min(h,i),j=(h-b)/2,k=(i-b)/2;return{finalPadding:[d+k,e+j,f+k,g+j],finalSize:b<0?0:b}}var AH=["x","y","r","name","value","path","depth"],AI={colorField:"name",autoFit:!0,pointStyle:{lineWidth:0,stroke:"#fff"},legend:!1,hierarchyConfig:{size:[1,1],padding:0},label:{fields:["name"],layout:{type:"limit-in-shape"}},tooltip:{showMarkers:!1,showTitle:!1},drilldown:{enabled:!1}};function AJ(a){var b=a.chart,c=Math.min(b.viewBBox.width,b.viewBBox.height);return i({options:{size:function(a){return a.r*c}}},a)}function AK(b){var c=b.options,a=b.chart,g=a.viewBBox,h=c.padding,e=c.appendPadding,d=c.drilldown,f=e;if(null==d?void 0:d.enabled){var i=sJ(a.appendPadding,gB(d,["breadCrumb","position"]));f=sK([i,e])}var j=AG(h,f,g).finalPadding;return a.padding=j,a.appendPadding=0,b}function AL(b){var c=b.chart,a=b.options,j=c.padding,k=c.appendPadding,l=a.color,m=a.colorField,n=a.pointStyle,o=a.hierarchyConfig,d=a.sizeField,e=a.rawFields,f=void 0===e?[]:e,g=a.drilldown,p=AF({data:a.data,hierarchyConfig:o,enableDrillDown:null==g?void 0:g.enabled,rawFields:f});c.data(p);var q=c.viewBBox,r=AG(j,k,q).finalSize,h=function(a){return a.r*r};return d&&(h=function(a){return a[d]*r}),tk(i({},b,{options:{xField:"x",yField:"y",seriesField:m,sizeField:d,rawFields:fr(AH,f),point:{color:l,style:n,shape:"circle",size:h}}})),b}function AM(a){return sh(ta({},{x:{min:0,max:1,minLimit:0,maxLimit:1,nice:!0},y:{min:0,max:1,minLimit:0,maxLimit:1,nice:!0}}))(a)}function AN(a){var d=a.chart,b=a.options.tooltip;if(!1===b)d.tooltip(!1);else{var c=b;gB(b,"fields")||(c=i({},{customItems:function(a){return a.map(function(a){var b=gB(d.getOptions(),"scales"),c=gB(b,["name","formatter"],function(a){return a}),e=gB(b,["value","formatter"],function(a){return a});return n(n({},a),{name:c(a.data.name),value:e(a.data.value)})})}},c)),d.tooltip(c)}return a}function AO(a){return a.chart.axis(!1),a}function AP(c){var a,b,d,e=c.chart,f=c.options;return s4({chart:e,options:(b=(a=f).drilldown,d=a.interactions,(null==b?void 0:b.enabled)?i({},a,{interactions:fr(void 0===d?[]:d,[{type:"drill-down",cfg:{drillDownConfig:b,transformData:AF,enableDrillDown:!0}},])}):a)}),c}function AQ(a){return sh(s1("pointStyle"),AJ,AK,s6,AM,AL,AO,s2,AN,AP,s5,tb())(a)}(function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.type="circle-packing",a}fl(a,b),a.getDefaultOptions=function(){return AI},a.prototype.getDefaultOptions=function(){return a.getDefaultOptions()},a.prototype.getSchemaAdaptor=function(){return AQ},a.prototype.triggerResize=function(){this.chart.destroyed||(this.chart.forceFit(),this.chart.clear(),this.execAdaptor(),this.chart.render(!0))}})(c),function(b){function a(d,e,f,c){var a=b.call(this,d,i({},c,e))||this;return a.type="g2-plot",a.defaultOptions=c,a.adaptor=f,a}fl(a,b),a.prototype.getDefaultOptions=function(){return this.defaultOptions},a.prototype.getSchemaAdaptor=function(){return this.adaptor}}(c);var AR={line:ee,pie:er,column:ek,bar:em,area:eh,gauge:e8,"tiny-line":eA,"tiny-column":eC,"tiny-area":ez,"ring-progress":eK,progress:eI,scatter:ev,histogram:eF,funnel:eZ,stock:eW},AS={line:eg,pie:es,column:el,bar:en,area:ei,gauge:e9,"tiny-line":eB,"tiny-column":eD,"tiny-area":eE,"ring-progress":eL,progress:eJ,scatter:ew,histogram:eG,funnel:e$,stock:eX},AT={pie:{label:!1},column:{tooltip:{showMarkers:!1}},bar:{tooltip:{showMarkers:!1}}};function AU(a,c,d){var b=AS[a];if(!b){console.error("could not find "+a+" plot");return}(0,AR[a])({chart:c,options:i({},b.getDefaultOptions(),gB(AT,a,{}),d)})}function AV(a){var c=a.chart,b=a.options,e=b.views,d=b.legend;return I(e,function(a){var g=a.region,h=a.data,j=a.meta,d=a.axes,k=a.coordinate,l=a.interactions,m=a.annotations,f=a.tooltip,o=a.geometries,b=c.createView({region:g});b.data(h);var e={};d&&I(d,function(a,b){e[b]=si(a,sR)}),e=i({},j,e),b.scale(e),d?I(d,function(a,c){b.axis(c,a)}):b.axis(!1),b.coordinate(k),I(o,function(a){var d=th({chart:b,options:a}).ext,c=a.adjust;c&&d.geometry.adjust(c)}),I(l,function(a){!1===a.enable?b.removeInteraction(a.type):b.interaction(a.type,a.cfg)}),I(m,function(a){b.annotation()[a.type](n({},a))}),"boolean"==typeof a.animation?b.animate(!1):(b.animate(!0),I(b.geometries,function(b){b.animate(a.animation)})),f&&(b.interaction("tooltip"),b.tooltip(f))}),d?I(d,function(a,b){c.legend(b,a)}):c.legend(!1),c.tooltip(b.tooltip),a}function AW(a){var e=a.chart,b=a.options,d=b.plots,c=b.data,f=void 0===c?[]:c;return I(d,function(a){var c=a.type,h=a.region,d=a.options,b=void 0===d?{}:d,i=a.top,j=b.tooltip;if(i){AU(c,e,n(n({},b),{data:f}));return}var g=e.createView(n({region:h},si(b,sQ)));j&&g.interaction("tooltip"),AU(c,g,n({data:f},b))}),a}function AX(a){var b=a.chart,c=a.options;return b.option("slider",c.slider),a}function AY(a){return sh(s5,AV,AW,s4,s5,s6,s3,AX,tb())(a)}var fc=function(b){function a(){return null!==b&&b.apply(this,arguments)||this}return fl(a,b),a.prototype.getAssociationItems=function(d,e){var a,b=this.context.event,c=e||{},g=c.linkField,h=c.dim,f=[];if(null===(a=b.data)|| void 0===a?void 0:a.data){var i=b.data.data;I(d,function(b){var c,d,a=g;if("x"===h?a=b.getXScale().field:"y"===h?a=null===(c=b.getYScales().find(function(b){return b.field===a}))|| void 0===c?void 0:c.field:a||(a=null===(d=b.getGroupScales()[0])|| void 0===d?void 0:d.field),a){var e=gx(so(b),function(e){var f,c,k,d,g=!1,h=!1,j=fB(i)?gB(i[0],a):gB(i,a);return(f=e,c=a,(fB(d=f.getModel().data)?d[0][c]:d[c])===j)?g=!0:h=!0,{element:e,view:b,active:g,inactive:h}});f.push.apply(f,e)}})}return f},a.prototype.showTooltip=function(a){var b=ss(this.context.view),c=this.getAssociationItems(b,a);I(c,function(b){if(b.active){var a=b.element.shape.getCanvasBBox();b.view.showTooltip({x:a.minX+a.width/2,y:a.minY+a.height/2})}})},a.prototype.hideTooltip=function(){var a=ss(this.context.view);I(a,function(a){a.hideTooltip()})},a.prototype.active=function(a){var b=sr(this.context.view),c=this.getAssociationItems(b,a);I(c,function(a){var b=a.active,c=a.element;b&&c.setState("active",!0)})},a.prototype.selected=function(a){var b=sr(this.context.view),c=this.getAssociationItems(b,a);I(c,function(a){var b=a.active,c=a.element;b&&c.setState("selected",!0)})},a.prototype.highlight=function(a){var b=sr(this.context.view),c=this.getAssociationItems(b,a);I(c,function(a){var b=a.inactive,c=a.element;b&&c.setState("inactive",!0)})},a.prototype.reset=function(){var a=sr(this.context.view);I(a,function(b){var c,a;a=so(c=b),I(a,function(a){a.hasState("active")&&a.setState("active",!1),a.hasState("selected")&&a.setState("selected",!1),a.hasState("inactive")&&a.setState("inactive",!1)})})},a}(g);a("association",fc),b("association-active",{start:[{trigger:"element:mouseenter",action:"association:active"}],end:[{trigger:"element:mouseleave",action:"association:reset"}]}),b("association-selected",{start:[{trigger:"element:mouseenter",action:"association:selected"}],end:[{trigger:"element:mouseleave",action:"association:reset"}]}),b("association-highlight",{start:[{trigger:"element:mouseenter",action:"association:highlight"}],end:[{trigger:"element:mouseleave",action:"association:reset"}]}),b("association-tooltip",{start:[{trigger:"element:mousemove",action:"association:showTooltip"}],end:[{trigger:"element:mouseleave",action:"association:hideTooltip"}]});var AZ=function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.type="mix",a}return fl(a,b),a.prototype.getSchemaAdaptor=function(){return AY},a}(c);function A$(b){var c=b.chart,a=b.options,d=a.type,e=a.data,f=a.fields,h=a.eachView,g=gF(a,["type","data","fields","eachView","axes","meta","tooltip","coordinate","theme","legend","interactions","annotations",]);return c.data(e),c.facet(d,n(n({},g),{fields:f,eachView:function(d,t){var a,b,g,j,l,m,o,e,c,p,q,f,k=h(d,t);if(k.geometries)a=d,g=(b=k).data,j=b.coordinate,l=b.interactions,m=b.annotations,o=b.animation,e=b.tooltip,c=b.axes,p=b.meta,q=b.geometries,g&&a.data(g),f={},c&&I(c,function(a,b){f[b]=si(a,sR)}),f=i({},p,f),a.scale(f),j&&a.coordinate(j),!1===c?a.axis(!1):I(c,function(b,c){a.axis(c,b)}),I(q,function(b){var d=th({chart:a,options:b}).ext,c=b.adjust;c&&d.geometry.adjust(c)}),I(l,function(b){!1===b.enable?a.removeInteraction(b.type):a.interaction(b.type,b.cfg)}),I(m,function(b){a.annotation()[b.type](n({},b))}),"boolean"==typeof o?a.animate(!1):(a.animate(!0),I(a.geometries,function(a){a.animate(o)})),e?(a.interaction("tooltip"),a.tooltip(e)):!1===e&&a.removeInteraction("tooltip");else{var r=k,s=r.options;s.tooltip&&d.interaction("tooltip"),AU(r.type,d,s)}}})),b}function A_(d){var a=d.chart,b=d.options,c=b.axes,h=b.meta,e=b.tooltip,j=b.coordinate,g=b.theme,k=b.legend,l=b.interactions,m=b.annotations,f={};return c&&I(c,function(a,b){f[b]=si(a,sR)}),f=i({},h,f),a.scale(f),a.coordinate(j),c?I(c,function(b,c){a.axis(c,b)}):a.axis(!1),e?(a.interaction("tooltip"),a.tooltip(e)):!1===e&&a.removeInteraction("tooltip"),a.legend(k),g&&a.theme(g),I(l,function(b){!1===b.enable?a.removeInteraction(b.type):a.interaction(b.type,b.cfg)}),I(m,function(b){a.annotation()[b.type](n({},b))}),d}function A0(a){return sh(s6,A$,A_)(a)}var aP,A1={title:{style:{fontSize:12,fill:"rgba(0,0,0,0.65)"}},rowTitle:{style:{fontSize:12,fill:"rgba(0,0,0,0.65)"}},columnTitle:{style:{fontSize:12,fill:"rgba(0,0,0,0.65)"}}};(function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.type="area",a}fl(a,b),a.getDefaultOptions=function(){return A1},a.prototype.getDefaultOptions=function(){return a.getDefaultOptions()},a.prototype.getSchemaAdaptor=function(){return A0}})(c),(aP=aX||(aX={})).DEV="DEV",aP.BETA="BETA",aP.STABLE="STABLE";Object.defineProperty(function a(){},"MultiView",{get:function(){var b,a;return b=aX.STABLE,a="MultiView",console.warn(b===aX.DEV?"Plot '"+a+"' is in DEV stage, just give us issues.":b===aX.BETA?"Plot '"+a+"' is in BETA stage, DO NOT use it in production env.":b===aX.STABLE?"Plot '"+a+"' is in STABLE stage, import it by \"import { "+a+" } from '@antv/g2plot'\".":"invalid Stage type."),AZ},enumerable:!1,configurable:!0}),b$("en-US",{locale:"en-US",general:{increase:"Increase",decrease:"Decrease",root:"Root"},statistic:{total:"Total"},conversionTag:{label:"Rate"},legend:{},tooltip:{},slider:{},scrollbar:{},waterfall:{total:"Total"}}),b$("zh-CN",{locale:"zh-CN",general:{increase:"\u589E\u52A0",decrease:"\u51CF\u5C11",root:"\u521D\u59CB"},statistic:{total:"\u603B\u8BA1"},conversionTag:{label:"\u8F6C\u5316\u7387"},legend:{},tooltip:{},slider:{},scrollbar:{},waterfall:{total:"\u603B\u8BA1"}});var fd,A2=d(3935),A3=function(b,c){var a=document.createElement("div");return"tooltip"===c&&(a.className="g2-tooltip"),A2.render(b,a),a},A4=function(a,b){return({}).toString.call(a)==="[object ".concat(b,"]")},A5=function(a){if(!a)return a;var b={};for(var c in a)b[c]=a[c];return b},A6=function(a){var b;return a&&"object"==typeof a?(Array.isArray(a)?b=a.map(function(a){return A6(a)}):(b={},Object.keys(a).forEach(function(c){return b[c]=A6(a[c])})),b):a},A7=function(d,c){for(var a=d,b=0;b<c.length;b+=1)if(null==a?void 0:a[c[b]])a=a[c[b]];else{a=void 0;break}return a},A8=function(a,b,c){if(!a)return a;var d=a;return b.forEach(function(a,e){e<b.length-1?d=d[a]:d[a]=c}),a},A9=function(){return(A9=Object.assign||function(d){for(var a,b=1,e=arguments.length;b<e;b++)for(var c in a=arguments[b])Object.prototype.hasOwnProperty.call(a,c)&&(d[c]=a[c]);return d}).apply(this,arguments)},Ba=function(b,e){var d={};for(var a in b)Object.prototype.hasOwnProperty.call(b,a)&&0>e.indexOf(a)&&(d[a]=b[a]);if(null!=b&&"function"==typeof Object.getOwnPropertySymbols)for(var c=0,a=Object.getOwnPropertySymbols(b);c<a.length;c++)0>e.indexOf(a[c])&&Object.prototype.propertyIsEnumerable.call(b,a[c])&&(d[a[c]]=b[a[c]]);return d},Bb=function(a,b){a&&(fz(a)?a(b):a.current=b)},Bc=(fd=function(a,b){return(fd=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(c,a){for(var b in a)Object.prototype.hasOwnProperty.call(a,b)&&(c[b]=a[b])})(a,b)},function(b,a){if("function"!=typeof a&&null!==a)throw TypeError("Class extends value "+String(a)+" is not a constructor or null");function c(){this.constructor=b}fd(b,a),b.prototype=null===a?Object.create(a):(c.prototype=a.prototype,new c)}),Bd=function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.state={hasError:!1},a.renderError=function(c){var b=a.props.errorTemplate;return b&&"function"==typeof b?b(c):a8.createElement("h5",null,"\u7EC4\u4EF6\u51FA\u9519\u4E86\uFF0C\u8BF7\u6838\u67E5\u540E\u91CD\u8BD5\uFF1A ",c.message)},a}return Bc(a,b),a.getDerivedStateFromError=function(a){return{hasError:!0,error:a}},a.getDerivedStateFromProps=function(a,b){return b.children!==a.children?{children:a.children,hasError:!1,error:void 0}:null},a.prototype.render=function(){return this.state.hasError?this.renderError(this.state.error):a8.createElement(a8.Fragment,null,this.props.children)},a}(a8.Component),Be=function(){return(Be=Object.assign||function(d){for(var a,b=1,e=arguments.length;b<e;b++)for(var c in a=arguments[b])Object.prototype.hasOwnProperty.call(a,c)&&(d[c]=a[c]);return d}).apply(this,arguments)},fe=function(a){var c=a.animate,g=a.backgroundColor,h=a.backgroundOpacity,i=a.baseUrl,n=a.children,o=a.foregroundColor,p=a.foregroundOpacity,b=a.gradientRatio,q=a.uniqueKey,r=a.interval,s=a.rtl,t=a.speed,u=a.style,j=a.title,v=function(b,e){var d={};for(var a in b)Object.prototype.hasOwnProperty.call(b,a)&&0>e.indexOf(a)&&(d[a]=b[a]);if(null!=b&&"function"==typeof Object.getOwnPropertySymbols)for(var c=0,a=Object.getOwnPropertySymbols(b);c<a.length;c++)0>e.indexOf(a[c])&&Object.prototype.propertyIsEnumerable.call(b,a[c])&&(d[a[c]]=b[a[c]]);return d}(a,["animate","backgroundColor","backgroundOpacity","baseUrl","children","foregroundColor","foregroundOpacity","gradientRatio","uniqueKey","interval","rtl","speed","style","title"]),d=q||Math.random().toString(36).substring(6),k=d+"-diff",l=d+"-animated-diff",m=d+"-aria",e="0; "+r+"; 1",f=t+"s";return(0,a8.createElement)("svg",Be({"aria-labelledby":m,role:"img",style:Be(Be({},u),s?{transform:"scaleX(-1)"}:null)},v),j?(0,a8.createElement)("title",{id:m},j):null,(0,a8.createElement)("rect",{role:"presentation",x:"0",y:"0",width:"100%",height:"100%",clipPath:"url("+i+"#"+k+")",style:{fill:"url("+i+"#"+l+")"}}),(0,a8.createElement)("defs",{role:"presentation"},(0,a8.createElement)("clipPath",{id:k},n),(0,a8.createElement)("linearGradient",{id:l},(0,a8.createElement)("stop",{offset:"0%",stopColor:g,stopOpacity:h},c&&(0,a8.createElement)("animate",{attributeName:"offset",values:-b+"; "+ -b+"; 1",keyTimes:e,dur:f,repeatCount:"indefinite"})),(0,a8.createElement)("stop",{offset:"50%",stopColor:o,stopOpacity:p},c&&(0,a8.createElement)("animate",{attributeName:"offset",values:-b/2+"; "+ -b/2+"; "+(1+b/2),keyTimes:e,dur:f,repeatCount:"indefinite"})),(0,a8.createElement)("stop",{offset:"100%",stopColor:g,stopOpacity:h},c&&(0,a8.createElement)("animate",{attributeName:"offset",values:"0; 0; "+(1+b),keyTimes:e,dur:f,repeatCount:"indefinite"})))))};fe.defaultProps={animate:!0,backgroundColor:"#f5f6f7",backgroundOpacity:1,baseUrl:"",foregroundColor:"#eee",foregroundOpacity:1,gradientRatio:2,id:null,interval:.25,rtl:!1,speed:1.2,style:{},title:"Loading..."};var ff=function(a){return a.children?(0,a8.createElement)(fe,Be({},a)):(0,a8.createElement)(Bf,Be({},a))},Bf=function(a){return(0,a8.createElement)(ff,Be({viewBox:"0 0 476 124"},a),(0,a8.createElement)("rect",{x:"48",y:"8",width:"88",height:"6",rx:"3"}),(0,a8.createElement)("rect",{x:"48",y:"26",width:"52",height:"6",rx:"3"}),(0,a8.createElement)("rect",{x:"0",y:"56",width:"410",height:"6",rx:"3"}),(0,a8.createElement)("rect",{x:"0",y:"72",width:"380",height:"6",rx:"3"}),(0,a8.createElement)("rect",{x:"0",y:"88",width:"178",height:"6",rx:"3"}),(0,a8.createElement)("circle",{cx:"20",cy:"20",r:"20"}))},Bg=ff,Bh=function(a){var d=a.loadingTemplate,b=a.theme,c=void 0===b?"light":b;return a8.createElement("div",{className:"charts-loading-container",style:{position:"absolute",width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",left:0,top:0,zIndex:99,backgroundColor:"dark"===c?"rgb(20, 20, 20)":"rgb(255, 255, 255)"}},d||a8.createElement(Bg,{viewBox:"0 0 400 180",width:200,height:90,speed:1,backgroundColor:"dark"===c?"#262626":"#D9D9D9"},a8.createElement("rect",{x:"20",y:"5",rx:"0",ry:"0",width:"1",height:"170"}),a8.createElement("rect",{x:"20",y:"175",rx:"0",ry:"0",width:"360",height:"1"}),a8.createElement("rect",{x:"40",y:"75",rx:"0",ry:"0",width:"35",height:"100"}),a8.createElement("rect",{x:"80",y:"125",rx:"0",ry:"0",width:"35",height:"50"}),a8.createElement("rect",{x:"120",y:"105",rx:"0",ry:"0",width:"35",height:"70"}),a8.createElement("rect",{x:"160",y:"35",rx:"0",ry:"0",width:"35",height:"140"}),a8.createElement("rect",{x:"200",y:"55",rx:"0",ry:"0",width:"35",height:"120"}),a8.createElement("rect",{x:"240",y:"15",rx:"0",ry:"0",width:"35",height:"160"}),a8.createElement("rect",{x:"280",y:"135",rx:"0",ry:"0",width:"35",height:"40"}),a8.createElement("rect",{x:"320",y:"85",rx:"0",ry:"0",width:"35",height:"90"})))},Bi=function(b,e){var d={};for(var a in b)Object.prototype.hasOwnProperty.call(b,a)&&0>e.indexOf(a)&&(d[a]=b[a]);if(null!=b&&"function"==typeof Object.getOwnPropertySymbols)for(var c=0,a=Object.getOwnPropertySymbols(b);c<a.length;c++)0>e.indexOf(a[c])&&Object.prototype.propertyIsEnumerable.call(b,a[c])&&(d[a[c]]=b[a[c]]);return d},Bj=(0,a8.forwardRef)(function(a,g){var h,b,c,i,d,j,k,l,m,n,o,w=a.chartRef,e=a.style,p=a.className,q=a.loading,r=a.loadingTemplate,s=a.errorTemplate,t=Bi(a,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),f=(h=el,b=t,c=(0,a8.useRef)(),i=(0,a8.useRef)(),d=(0,a8.useRef)(null),j=b.onReady,k=b.onEvent,l=function(a,d){var b;return void 0===a&&(a="image/png"),null===(b=c.current)|| void 0===b?void 0:b.chart.canvas.cfg.el.toDataURL(a,d)},m=function(b,d,g){void 0===b&&(b="download"),void 0===d&&(d="image/png");var e,f=b;-1===b.indexOf(".")&&(f="".concat(b,".").concat(d.split("/")[1]));var h=null===(e=c.current)|| void 0===e?void 0:e.chart.canvas.cfg.el.toDataURL(d,g),a=document.createElement("a");return a.href=h,a.download=f,document.body.appendChild(a),a.click(),document.body.removeChild(a),a=null,f},n=function(a,b,c){var d=A7(a,b);A8(a,b,function(){for(var e=[],b=0;b<arguments.length;b++)e[b]=arguments[b];var a=A4(d,"Function")?d.apply(void 0,e):d;return A4(a,"String")||A4(a,"Number")||A4(a,"HTMLDivElement")?a:A3(a,c)})},o=function(){A7(b,["statistic","content","customHtml"])&&n(b,["statistic","content","customHtml"]),A7(b,["statistic","title","customHtml"])&&n(b,["statistic","title","customHtml"]),"object"==typeof b.tooltip&&(A7(b,["tooltip","container"])&&n(b,["tooltip","container"],"tooltip"),A7(b,["tooltip","customContent"])&&n(b,["tooltip","customContent"],"tooltip"))},(0,a8.useEffect)(function(){if(c.current&&!gw(i.current,b)){var d=!1;if(i.current){var a=i.current,e=(a.data,a.value,a.percent,Ba(a,["data","value","percent"]));b.data,b.value,b.percent;var f=Ba(b,["data","value","percent"]);d=gw(e,f)}if(i.current=A6(b),d&&"Mix"!==gB(b,"chartType")){var g="data",h=["percent"],j=Object.keys(b);h.forEach(function(a){j.includes(a)&&(g=a)}),c.current.changeData((null==b?void 0:b[g])||[])}else o(),c.current.update(b)}},[b]),(0,a8.useEffect)(function(){if(!d.current)return function(){return null};i.current||(i.current=A6(b)),o();var a=new h(d.current,A9({},b));a.toDataURL=function(a,b){return l(a,b)},a.downloadImage=function(a,b,c){return m(a,b,c)},a.render(),c.current=A5(a),j&&j(a);var e=function(b){k&&k(a,b)};return a.on("*",e),function(){c.current&&(c.current.destroy(),c.current.off("*",e),c.current=void 0)}},[]),{chart:c,container:d}),u=f.chart,v=f.container;return(0,a8.useEffect)(function(){Bb(w,u.current)},[u.current]),(0,a8.useImperativeHandle)(g,function(){return{getChart:function(){return u.current}}}),a8.createElement(Bd,{errorTemplate:s},q&&a8.createElement(Bh,{loadingTemplate:r,theme:a.theme}),a8.createElement("div",{className:p,style:void 0===e?{height:"inherit"}:e,ref:v}))})},9361:function(b,a){"use strict";a.Z=function(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}},6645:function(a,b){!function(c,a){a(b)}(this,function(a){"use strict";function d(a,b){return e(a)||f(a,b)||g()}function e(a){if(Array.isArray(a))return a}function f(h,d){var a=[],b=!0,e=!1,f=void 0;try{for(var g,c=h[Symbol.iterator]();!(b=(g=c.next()).done)&&(a.push(g.value),!d||a.length!==d);b=!0);}catch(i){e=!0,f=i}finally{try{b||null==c.return||c.return()}finally{if(e)throw f}}return a}function g(){throw TypeError("Invalid attempt to destructure non-iterable instance")}function h(b,l,m,n){b=b.filter(function(a,b){var c=l(a,b),d=m(a,b);return null!=c&&isFinite(c)&&null!=d&&isFinite(d)}),n&&b.sort(function(a,b){return l(a)-l(b)});for(var j,k,g,c=b.length,h=new Float64Array(c),i=new Float64Array(c),d=0,e=0,a=0;a<c;)g=b[a],h[a]=j=+l(g,a,b),i[a]=k=+m(g,a,b),++a,d+=(j-d)/a,e+=(k-e)/a;for(var f=0;f<c;++f)h[f]-=d,i[f]-=e;return[h,i,d,e]}function i(b,f,g,h){for(var i=0,a=0,j=b.length;a<j;a++){var e=b[a],c=+f(e,a,b),d=+g(e,a,b);null!=c&&isFinite(c)&&null!=d&&isFinite(d)&&h(c,d,i++)}}function j(a,b,c,f,g){var d=0,e=0;return i(a,b,c,function(h,a){var b=a-g(h),c=a-f;d+=b*b,e+=c*c}),1-d/e}function k(a){return 180*Math.atan2(a[1][1]-a[0][1],a[1][0]-a[0][0])/Math.PI}function l(a){return[(a[0][0]+a[1][0])/2,(a[0][1]+a[1][1])/2]}function m(a,b,e){for(var f=1*Math.pow(10,-(Math.log(b-a)*Math.LOG10E+1|0)/2-1),c=[g(a),g(b)],d=0;h(c)&&d<1e4;);return c;function g(a){return[a,e(a)]}function h(b){d++;for(var j=b.length,e=!1,a=0;a<j-1;a++){var c=b[a],h=l([c,b[a+1]]),i=g(h[0]),m=k([c,h]),n=k([c,i]),o=Math.abs(m-n);o>f&&(b.splice(a+1,0,i),e=!0)}return e}}function n(a,b,e,f){var c=f-a*a,d=1e-24>Math.abs(c)?0:(e-a*b)/c;return[b-d*a,d]}function b(){var b,c=function(a){return a[0]},e=function(a){return a[1]};function a(g){var u=0,o=0,h=0,p=0,q=0,k=b?+b[0]:1/0,l=b?+b[1]:-1/0;i(g,c,e,function(a,c){++u,o+=(a-o)/u,h+=(c-h)/u,p+=(a*c-p)/u,q+=(a*a-q)/u,!b&&(a<k&&(k=a),a>l&&(l=a))});var r=n(o,h,p,q),m=d(r,2),s=m[0],t=m[1],f=function(a){return t*a+s},a=[[k,f(k)],[l,f(l)]];return a.a=t,a.b=s,a.predict=f,a.rSquared=j(g,c,e,h,f),a}return a.domain=function(c){return arguments.length?(b=c,a):b},a.x=function(b){return arguments.length?(c=b,a):c},a.y=function(b){return arguments.length?(e=b,a):e},a}function o(a){a.sort(function(a,b){return a-b});var b=a.length/2;return b%1==0?(a[b-1]+a[b])/2:a[Math.floor(b)]}function p(a){return(a=1-a*a*a)*a*a}function q(a,e,b){var f=a[e],d=b[0],c=b[1]+1;if(!(c>=a.length))for(;e>d&&a[c]-f<=f-a[d];)b[0]=++d,b[1]=c,++c}function c(){var b,c=function(a){return a[0]},e=function(a){return a[1]};function a(t){var a,n,u,g,B=h(t,c,e),o=d(B,4),x=o[0],C=o[1],p=o[2],D=o[3],E=x.length,f=0,k=0,v=0,q=0,r=0;for(a=0;a<E;)n=x[a],u=C[a++],g=n*n,f+=(g-f)/a,k+=(g*n-k)/a,v+=(g*g-v)/a,q+=(n*u-q)/a,r+=(g*u-r)/a;var F=0,J=0,G=b?+b[0]:1/0,H=b?+b[1]:-1/0;i(t,c,e,function(a,c){J++,F+=(c-F)/J,!b&&(a<G&&(G=a),a>H&&(H=a))});var y=v-f*f,z=f*y-k*k,s=(r*f-q*k)/z,A=(q*y-r*k)/z,I=-s*f,w=function(a){return s*(a-=p)*a+A*a+I+D},l=m(G,H,w);return l.a=s,l.b=A-2*s*p,l.c=I-A*p+s*p*p+D,l.predict=w,l.rSquared=j(t,c,e,F,w),l}return a.domain=function(c){return arguments.length?(b=c,a):b},a.x=function(b){return arguments.length?(c=b,a):c},a.y=function(b){return arguments.length?(e=b,a):e},a}a.regressionExp=function(){var b,c=function(a){return a[0]},e=function(a){return a[1]};function a(k){var w=0,a=0,o=0,p=0,q=0,r=0,s=b?+b[0]:1/0,t=b?+b[1]:-1/0;i(k,c,e,function(c,d){var f=Math.log(d),e=c*d;++w,a+=(d-a)/w,p+=(e-p)/w,r+=(c*e-r)/w,o+=(d*f-o)/w,q+=(e*f-q)/w,!b&&(c<s&&(s=c),c>t&&(t=c))});var u=n(p/a,o/a,q/a,r/a),l=d(u,2),g=l[0],v=l[1];g=Math.exp(g);var h=function(a){return g*Math.exp(v*a)},f=m(s,t,h);return f.a=g,f.b=v,f.predict=h,f.rSquared=j(k,c,e,a,h),f}return a.domain=function(c){return arguments.length?(b=c,a):b},a.x=function(b){return arguments.length?(c=b,a):c},a.y=function(b){return arguments.length?(e=b,a):e},a},a.regressionLinear=b,a.regressionLoess=function(){var b=function(a){return a[0]},c=function(a){return a[1]},e=.3;function a(L){for(var M=h(L,b,c,!0),l=d(M,4),a=l[0],A=l[1],N=l[2],O=l[3],g=a.length,P=Math.max(2,~~(e*g)),s=new Float64Array(g),t=new Float64Array(g),B=new Float64Array(g).fill(1),C=-1;++C<=2;){for(var u=[0,P-1],f=0;f<g;++f){for(var i=a[f],v=u[0],w=u[1],Q=i-a[v]>a[w]-i?v:w,j=0,D=0,E=0,F=0,G=0,R=1/Math.abs(a[Q]-i||1),k=v;k<=w;++k){var x=a[k],H=A[k],y=p(Math.abs(i-x)*R)*B[k],z=x*y;j+=y,D+=z,E+=H*y,F+=H*z,G+=x*z}var S=n(D/j,E/j,F/j,G/j),I=d(S,2),T=I[0],U=I[1];s[f]=T+U*i,t[f]=Math.abs(A[f]-s[f]),q(a,f+1,u)}if(2===C)break;var J=o(t);if(1e-12>Math.abs(J))break;for(var m,K,r=0;r<g;++r)m=t[r]/(6*J),B[r]=m>=1?1e-12:(K=1-m*m)*K}return function k(d,e,i,f){for(var c,j=d.length,g=[],b=0,h=0,a=[];b<j;++b)c=d[b]+i,a[0]===c?a[1]+=(e[b]-a[1])/ ++h:(h=0,a[1]+=f,a=[c,e[b]],g.push(a));return a[1]+=f,g}(a,s,N,O)}return a.bandwidth=function(b){return arguments.length?(e=b,a):e},a.x=function(c){return arguments.length?(b=c,a):b},a.y=function(b){return arguments.length?(c=b,a):c},a},a.regressionLog=function(){var b,c=function(a){return a[0]},e=function(a){return a[1]},f=Math.E;function a(h){var w=0,o=0,k=0,p=0,q=0,r=b?+b[0]:1/0,s=b?+b[1]:-1/0,x=Math.log(f);i(h,c,e,function(a,d){var c=Math.log(a)/x;++w,o+=(c-o)/w,k+=(d-k)/w,p+=(c*d-p)/w,q+=(c*c-q)/w,!b&&(a<r&&(r=a),a>s&&(s=a))});var t=n(o,k,p,q),l=d(t,2),u=l[0],v=l[1],g=function(a){return v*Math.log(a)/x+u},a=m(r,s,g);return a.a=v,a.b=u,a.predict=g,a.rSquared=j(h,c,e,k,g),a}return a.domain=function(c){return arguments.length?(b=c,a):b},a.x=function(b){return arguments.length?(c=b,a):c},a.y=function(b){return arguments.length?(e=b,a):e},a.base=function(b){return arguments.length?(f=b,a):f},a},a.regressionPoly=function(){var e,f=function(a){return a[0]},g=function(a){return a[1]},k=3;function a(p){if(1===k){var q,r,a,n,v,o=b().x(f).y(g).domain(e)(p);return o.coefficients=[o.b,o.a],delete o.a,delete o.b,o}if(2===k){var l=c().x(f).y(g).domain(e)(p);return l.coefficients=[l.c,l.b,l.a],delete l.a,delete l.b,delete l.c,l}var B=h(p,f,g),s=d(B,4),w=s[0],C=s[1],D=s[2],E=s[3],z=w.length,A=[],x=[],t=k+1,F=0,J=0,G=e?+e[0]:1/0,H=e?+e[1]:-1/0;for(i(p,f,g,function(a,b){++J,F+=(b-F)/J,!e&&(a<G&&(G=a),a>H&&(H=a))}),q=0;q<t;++q){for(a=0,n=0;a<z;++a)n+=Math.pow(w[a],q)*C[a];for(A.push(n),v=new Float64Array(t),r=0;r<t;++r){for(a=0,n=0;a<z;++a)n+=Math.pow(w[a],q+r);v[r]=n}x.push(v)}x.push(A);var I=function i(d){var c,a,b,f,g,e=d.length-1,h=[];for(c=0;c<e;++c){for(f=c,a=c+1;a<e;++a)Math.abs(d[c][a])>Math.abs(d[c][f])&&(f=a);for(b=c;b<e+1;++b)g=d[b][c],d[b][c]=d[b][f],d[b][f]=g;for(a=c+1;a<e;++a)for(b=e;b>=c;b--)d[b][a]-=d[b][c]*d[c][a]/d[c][c]}for(a=e-1;a>=0;--a){for(g=0,b=a+1;b<e;++b)g+=d[b][a]*h[b];h[a]=(d[e][a]-g)/d[a][a]}return h}(x),y=function(a){a-=D;var b=E+I[0]+I[1]*a+I[2]*a*a;for(q=3;q<t;++q)b+=I[q]*Math.pow(a,q);return b},u=m(G,H,y);return u.coefficients=function j(d,g,h,i){var a,b,e,f,c=Array(d);for(a=0;a<d;++a)c[a]=0;for(a=d-1;a>=0;--a)for(e=g[a],f=1,c[a]+=e,b=1;b<=a;++b)f*=(a+1-b)/b,c[a-b]+=e*Math.pow(h,b)*f;return c[0]+=i,c}(t,I,-D,E),u.predict=y,u.rSquared=j(p,f,g,F,y),u}return a.domain=function(b){return arguments.length?(e=b,a):e},a.x=function(b){return arguments.length?(f=b,a):f},a.y=function(b){return arguments.length?(g=b,a):g},a.order=function(b){return arguments.length?(k=b,a):k},a},a.regressionPow=function(){var b,c=function(a){return a[0]},e=function(a){return a[1]};function a(h){var w=0,l=0,o=0,p=0,q=0,r=0,s=b?+b[0]:1/0,t=b?+b[1]:-1/0;i(h,c,e,function(a,d){var c=Math.log(a),e=Math.log(d);++w,l+=(c-l)/w,o+=(e-o)/w,p+=(c*e-p)/w,q+=(c*c-q)/w,r+=(d-r)/w,!b&&(a<s&&(s=a),a>t&&(t=a))});var u=n(l,o,p,q),k=d(u,2),f=k[0],v=k[1];f=Math.exp(f);var g=function(a){return f*Math.pow(a,v)},a=m(s,t,g);return a.a=f,a.b=v,a.predict=g,a.rSquared=j(h,c,e,r,g),a}return a.domain=function(c){return arguments.length?(b=c,a):b},a.x=function(b){return arguments.length?(c=b,a):c},a.y=function(b){return arguments.length?(e=b,a):e},a},a.regressionQuad=c,Object.defineProperty(a,"__esModule",{value:!0})})},9916:function(a,b){!function(c,a){a(b)}(this,function(a){"use strict";function b(b){for(var c=Array(b),a=0;a<b;++a)c[a]=0;return c}function f(b,d){for(var c=0,a=0;a<b.length;++a)c+=b[a]*d[a];return c}function c(a){return Math.sqrt(f(a,a))}function d(c,b,d){for(var a=0;a<b.length;++a)c[a]=b[a]*d}function e(b,c,d,e,f){for(var a=0;a<b.length;++a)b[a]=c*d[a]+e*f[a]}function g(q,d,g,b,a,h,i){var j=g.fx,k=f(g.fxprime,d),c=j,l=j,m=k,n=0;function p(l,n,o){for(var p=0;p<16;++p)if(a=(l+n)/2,e(b.x,1,g.x,a,d),c=b.fx=q(b.x,b.fxprime),m=f(b.fxprime,d),c>j+h*a*k||c>=o)n=a;else{if(Math.abs(m)<= -i*k)return a;m*(n-l)>=0&&(n=l),l=a,o=c}return 0}a=a||1,h=h||1e-6,i=i||.1;for(var o=0;o<10;++o){if(e(b.x,1,g.x,a,d),c=b.fx=q(b.x,b.fxprime),m=f(b.fxprime,d),c>j+h*a*k||o&&c>=l)return p(n,a,l);if(Math.abs(m)<= -i*k)break;if(m>=0)return p(a,n,c);l=c,n=a,a*=2}return a}a.bisect=function(b,a,c,d){var k=(d=d||{}).maxIterations||100,l=d.tolerance||1e-10,e=b(a),h=b(c),f=c-a;if(e*h>0)throw"Initial bisect points must have opposite signs";if(0===e)return a;if(0===h)return c;for(var i=0;i<k;++i){var g=a+(f/=2),j=b(g);if(j*e>=0&&(a=g),Math.abs(f)<l||0===j)return g}return a+f},a.nelderMead=function(i,g,c){var n,y=(c=c||{}).maxIterations||200*g.length,z=c.nonZeroDelta||1.05,A=c.zeroDelta||.001,B=c.minErrorDelta||1e-6,C=c.minErrorDelta||1e-5,o=void 0!==c.rho?c.rho:1,u=void 0!==c.chi?c.chi:2,p=void 0!==c.psi?c.psi:-0.5,r=void 0!==c.sigma?c.sigma:.5,h=g.length,b=Array(h+1);b[0]=g,b[0].fx=i(g),b[0].id=0;for(var a=0;a<h;++a){var l=g.slice();l[a]=l[a]?l[a]*z:A,b[a+1]=l,b[a+1].fx=i(l),b[a+1].id=a+1}function q(c){for(var a=0;a<c.length;a++)b[h][a]=c[a];b[h].fx=c.fx}for(var v=function(a,b){return a.fx-b.fx},j=g.slice(),d=g.slice(),f=g.slice(),m=g.slice(),w=0;w<y;++w){if(b.sort(v),c.history){var x=b.map(function(a){var b=a.slice();return b.fx=a.fx,b.id=a.id,b});x.sort(function(a,b){return a.id-b.id}),c.history.push({x:b[0].slice(),fx:b[0].fx,simplex:x})}for(a=0,n=0;a<h;++a)n=Math.max(n,Math.abs(b[0][a]-b[1][a]));if(Math.abs(b[0].fx-b[h].fx)<B&&n<C)break;for(a=0;a<h;++a){j[a]=0;for(var s=0;s<h;++s)j[a]+=b[s][a];j[a]/=h}var k=b[h];if(e(d,1+o,j,-o,k),d.fx=i(d),d.fx<b[0].fx)e(m,1+u,j,-u,k),m.fx=i(m),q(m.fx<d.fx?m:d);else if(d.fx>=b[h-1].fx){var t=!1;if(d.fx>k.fx?(e(f,1+p,j,-p,k),f.fx=i(f),f.fx<k.fx?q(f):t=!0):(e(f,1-p*o,j,p*o,k),f.fx=i(f),f.fx<d.fx?q(f):t=!0),t){if(r>=1)break;for(a=1;a<b.length;++a)e(b[a],1-r,b[0],r,b[a]),b[a].fx=i(b[a])}}else q(d)}return b.sort(v),{fx:b[0].fx,x:b[0]}},a.conjugateGradient=function(l,b,h){var j,m,n,a={x:b.slice(),fx:0,fxprime:b.slice()},i={x:b.slice(),fx:0,fxprime:b.slice()},o=b.slice(),k=1;n=(h=h||{}).maxIterations||20*b.length,a.fx=l(a.x,a.fxprime),d(j=a.fxprime.slice(),a.fxprime,-1);for(var p=0;p<n;++p){if(k=g(l,j,a,i,k),h.history&&h.history.push({x:a.x.slice(),fx:a.fx,fxprime:a.fxprime.slice(),alpha:k}),k){e(o,1,i.fxprime,-1,a.fxprime);var q=f(a.fxprime,a.fxprime),r=Math.max(0,f(o,i.fxprime)/q);e(j,r,j,-1,i.fxprime),m=a,a=i,i=m}else d(j,a.fxprime,-1);if(1e-5>=c(a.fxprime))break}return h.history&&h.history.push({x:a.x.slice(),fx:a.fx,fxprime:a.fxprime.slice(),alpha:k}),a},a.gradientDescent=function(g,d,b){for(var h=(b=b||{}).maxIterations||100*d.length,i=b.learnRate||.001,a={x:d.slice(),fx:0,fxprime:d.slice()},f=0;f<h&&(a.fx=g(a.x,a.fxprime),b.history&&b.history.push({x:a.x.slice(),fx:a.fx,fxprime:a.fxprime.slice()}),e(a.x,1,a.x,-i,a.fxprime),!(1e-5>=c(a.fxprime)));++f);return a},a.gradientDescentLineSearch=function(h,e,b){b=b||{};var j,a={x:e.slice(),fx:0,fxprime:e.slice()},i={x:e.slice(),fx:0,fxprime:e.slice()},n=b.maxIterations||100*e.length,f=b.learnRate||1,k=e.slice(),o=b.c1||.001,p=b.c2||.1,l=[];if(b.history){var q=h;h=function(a,b){return l.push(a.slice()),q(a,b)}}a.fx=h(a.x,a.fxprime);for(var m=0;m<n&&(d(k,a.fxprime,-1),f=g(h,k,a,i,f,o,p),b.history&&(b.history.push({x:a.x.slice(),fx:a.fx,fxprime:a.fxprime.slice(),functionCalls:l,learnRate:f,alpha:f}),l=[]),j=a,a=i,i=j,!(0===f||1e-5>c(a.fxprime)));++m);return a},a.zeros=b,a.zerosM=function(a,c){return b(a).map(function(){return b(c)})},a.norm2=c,a.weightedSum=e,a.scale=d})},3454:function(d,e,a){"use strict";var b,c;d.exports=(null==(b=a.g.process)?void 0:b.env)&&"object"==typeof(null==(c=a.g.process)?void 0:c.env)?a.g.process:a(7663)},8045:function(e,a,b){"use strict";var c,f=b(9361).Z,g=b(4941).Z,h=b(3929).Z;Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(a){var F,G,c=a.src,H=a.sizes,Q=a.unoptimized,E=void 0!==Q&&Q,R=a.priority,S=void 0!==R&&R,I=a.loading,T=a.lazyRoot,ae=void 0===T?null:T,af=a.lazyBoundary,ag=a.className,ah=a.quality,J=a.width,K=a.height,ai=a.style,U=a.objectFit,V=a.objectPosition,W=a.onLoadingComplete,X=a.placeholder,Y=void 0===X?"empty":X,L=a.blurDataURL,aj=q(a,["src","sizes","unoptimized","priority","loading","lazyRoot","lazyBoundary","className","quality","width","height","style","objectFit","objectPosition","onLoadingComplete","placeholder","blurDataURL"]),ak=i.useContext(m.ImageConfigContext),Z=i.useMemo(function(){var a=s||ak||k.imageConfigDefault,b=h(a.deviceSizes).concat(h(a.imageSizes)).sort(function(a,b){return a-b}),c=a.deviceSizes.sort(function(a,b){return a-b});return o({},a,{allSizes:b,deviceSizes:c})},[ak]),d=aj,e=H?"responsive":"intrinsic";"layout"in d&&(d.layout&&(e=d.layout),delete d.layout);var M=A;if("loader"in d){if(d.loader){var ay,az=d.loader;M=function(a){a.config;var b=q(a,["config"]);return az(b)}}delete d.loader}var $="";if(x(c)){var n=w(c)?c.default:c;if(!n.src)throw Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include src. Received ".concat(JSON.stringify(n)));if(L=L||n.blurDataURL,$=n.src,(!e||"fill"!==e)&&(K=K||n.height,J=J||n.width,!n.height||!n.width))throw Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include height and width. Received ".concat(JSON.stringify(n)))}c="string"==typeof c?c:$;var v=z(J),B=z(K),_=z(ah),D=!S&&("lazy"===I|| void 0===I);(c.startsWith("data:")||c.startsWith("blob:"))&&(E=!0,D=!1),t.has(c)&&(D=!1),r&&(E=!0);var aa=g(i.useState(!1),2),al=aa[0],am=aa[1],N=g(l.useIntersection({rootRef:ae,rootMargin:af||"200px",disabled:!D}),3),an=N[0],ao=N[1],ap=N[2],ab=!D||ao,b={boxSizing:"border-box",display:"block",overflow:"hidden",width:"initial",height:"initial",background:"none",opacity:1,border:0,margin:0,padding:0},O={boxSizing:"border-box",display:"block",width:"initial",height:"initial",background:"none",opacity:1,border:0,margin:0,padding:0},P=!1,aq=Object.assign({},ai,{position:"absolute",top:0,left:0,bottom:0,right:0,boxSizing:"border-box",padding:0,border:"none",margin:"auto",display:"block",width:0,height:0,minWidth:"100%",maxWidth:"100%",minHeight:"100%",maxHeight:"100%",objectFit:U,objectPosition:V}),ar="blur"!==Y||al?{}:{backgroundSize:U||"cover",backgroundPosition:V||"0% 0%",filter:"blur(20px)",backgroundImage:'url("'.concat(L,'")')};if("fill"===e)b.display="block",b.position="absolute",b.top=0,b.left=0,b.bottom=0,b.right=0;else if(void 0!==v&& void 0!==B){var ac=B/v,as=isNaN(ac)?"100%":"".concat(100*ac,"%");"responsive"===e?(b.display="block",b.position="relative",P=!0,O.paddingTop=as):"intrinsic"===e?(b.display="inline-block",b.position="relative",b.maxWidth="100%",P=!0,O.maxWidth="100%",F="data:image/svg+xml,%3csvg%20xmlns=%27http://www.w3.org/2000/svg%27%20version=%271.1%27%20width=%27".concat(v,"%27%20height=%27").concat(B,"%27/%3e")):"fixed"===e&&(b.display="inline-block",b.position="relative",b.width=v,b.height=B)}var p={src:u,srcSet:void 0,sizes:void 0};ab&&(p=y({config:Z,src:c,unoptimized:E,layout:e,width:v,quality:_,sizes:H,loader:M}));var at=c,aA="imagesrcset",ad="imagesizes";ad="imageSizes";var au=(f(G={},"imageSrcSet",p.srcSet),f(G,ad,p.sizes),G),av=i.default.useLayoutEffect,aw=i.useRef(W),aB=i.useRef(c);i.useEffect(function(){aw.current=W},[W]),av(function(){aB.current!==c&&(ap(),aB.current=c)},[ap,c]);var ax=o({isLazy:D,imgAttributes:p,heightInt:B,widthInt:v,qualityInt:_,layout:e,className:ag,imgStyle:aq,blurStyle:ar,loading:I,config:Z,unoptimized:E,placeholder:Y,loader:M,srcString:at,onLoadingCompleteRef:aw,setBlurComplete:am,setIntersection:an,isVisible:ab,noscriptSizes:H},d);return i.default.createElement(i.default.Fragment,null,i.default.createElement("span",{style:b},P?i.default.createElement("span",{style:O},F?i.default.createElement("img",{style:{display:"block",maxWidth:"100%",width:"initial",height:"initial",background:"none",opacity:1,border:0,margin:0,padding:0},alt:"","aria-hidden":!0,src:F}):null):null,i.default.createElement(C,Object.assign({},ax))),S?i.default.createElement(j.default,null,i.default.createElement("link",Object.assign({key:"__nimg-"+p.src+p.srcSet+p.sizes,rel:"preload",as:"image",href:p.srcSet?void 0:p.src},au))):null)};var i=function(a){if(a&&a.__esModule)return a;if(null===a||"object"!=typeof a&&"function"!=typeof a)return{default:a};var b=p();if(b&&b.has(a))return b.get(a);var c={},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var d in a)if(Object.prototype.hasOwnProperty.call(a,d)){var e=f?Object.getOwnPropertyDescriptor(a,d):null;e&&(e.get||e.set)?Object.defineProperty(c,d,e):c[d]=a[d]}return c.default=a,b&&b.set(a,c),c}(b(7294)),j=(c=b(5443),c&&c.__esModule?c:{default:c}),k=b(9309),l=b(7190),m=b(9977);b(3794);var n=b(2392);function o(){return(o=Object.assign||function(d){for(var a=1;a<arguments.length;a++){var b=arguments[a];for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(d[c]=b[c])}return d}).apply(this,arguments)}function p(){if("function"!=typeof WeakMap)return null;var a=new WeakMap;return p=function(){return a},a}function q(c,f){if(null==c)return{};var a,b,d={},e=Object.keys(c);for(b=0;b<e.length;b++)a=e[b],f.indexOf(a)>=0||(d[a]=c[a]);return d}var d={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default"},r=(d.experimentalRemotePatterns,d.experimentalUnoptimized),s={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default"},t=new Set,u="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",v=new Map([["default",function(a){var c=a.config,b=a.src,d=a.width,e=a.quality;return b.endsWith(".svg")&&!c.dangerouslyAllowSVG?b:"".concat(n.normalizePathTrailingSlash(c.path),"?url=").concat(encodeURIComponent(b),"&w=").concat(d,"&q=").concat(e||75)}],["imgix",function(b){var e=b.config,f=b.src,g=b.width,c=b.quality,d=new URL("".concat(e.path).concat(D(f))),a=d.searchParams;return a.set("auto",a.get("auto")||"format"),a.set("fit",a.get("fit")||"max"),a.set("w",a.get("w")||g.toString()),c&&a.set("q",c.toString()),d.href}],["cloudinary",function(a){var b=a.config,c=a.src,d=a.width,e=a.quality,f=["f_auto","c_limit","w_"+d,"q_"+(e||"auto")].join(",")+"/";return"".concat(b.path).concat(f).concat(D(c))}],["akamai",function(a){var b=a.config,c=a.src,d=a.width;return"".concat(b.path).concat(D(c),"?imwidth=").concat(d)}],["custom",function(a){var b=a.src;throw Error('Image with src "'.concat(b,'" is missing "loader" prop.')+"\nRead more: https://nextjs.org/docs/messages/next-image-missing-loader")}],]);function w(a){return void 0!==a.default}function x(a){var b;return"object"==typeof a&&(w(a)|| void 0!==(b=a).src)}function y(a){var d=a.config,e=a.src,g=a.unoptimized,i=a.layout,j=a.width,k=a.quality,b=a.sizes,l=a.loader;if(g)return{src:e,srcSet:void 0,sizes:void 0};var f=function(d,b,a,e){var i=d.deviceSizes,f=d.allSizes;if(e&&("fill"===a||"responsive"===a)){for(var j=/(^|\s)(1?\d?\d)vw/g,c=[];k=j.exec(e);k)c.push(parseInt(k[2]));if(c.length){var k,g,l=.01*(g=Math).min.apply(g,h(c));return{widths:f.filter(function(a){return a>=i[0]*l}),kind:"w"}}return{widths:f,kind:"w"}}return"number"!=typeof b||"fill"===a||"responsive"===a?{widths:i,kind:"w"}:{widths:h(new Set([b,2*b].map(function(a){return f.find(function(b){return b>=a})||f[f.length-1]}))),kind:"x"}}(d,j,i,b),c=f.widths,m=f.kind,n=c.length-1;return{sizes:b||"w"!==m?b:"100vw",srcSet:c.map(function(a,b){return"".concat(l({config:d,src:e,quality:k,width:a})," ").concat("w"===m?a:b+1).concat(m)}).join(", "),src:l({config:d,src:e,quality:k,width:c[n]})}}function z(a){return"number"==typeof a?a:"string"==typeof a?parseInt(a,10):void 0}function A(a){var b,c=(null==(b=a.config)?void 0:b.loader)||"default",d=v.get(c);if(d)return d(a);throw Error('Unknown "loader" found in "next.config.js". Expected: '.concat(k.VALID_LOADERS.join(", "),". Received: ").concat(c))}function B(a,b,c,d,e,f){a&&a.src!==u&&a["data-loaded-src"]!==b&&(a["data-loaded-src"]=b,("decode"in a?a.decode():Promise.resolve()).catch(function(){}).then(function(){if(a.parentNode&&(t.add(b),"blur"===d&&f(!0),null==e?void 0:e.current)){var c=a.naturalWidth,g=a.naturalHeight;e.current({naturalWidth:c,naturalHeight:g})}}))}var C=function(a){var k=a.imgAttributes,l=(a.heightInt,a.widthInt),m=a.qualityInt,b=a.layout,d=a.className,e=a.imgStyle,n=a.blurStyle,f=a.isLazy,g=a.placeholder,c=a.loading,h=a.srcString,p=a.config,r=a.unoptimized,s=a.loader,t=a.onLoadingCompleteRef,u=a.setBlurComplete,v=a.setIntersection,x=a.onLoad,z=a.onError,w=(a.isVisible,a.noscriptSizes),j=q(a,["imgAttributes","heightInt","widthInt","qualityInt","layout","className","imgStyle","blurStyle","isLazy","placeholder","loading","srcString","config","unoptimized","loader","onLoadingCompleteRef","setBlurComplete","setIntersection","onLoad","onError","isVisible","noscriptSizes"]);return c=f?"lazy":c,i.default.createElement(i.default.Fragment,null,i.default.createElement("img",Object.assign({},j,k,{decoding:"async","data-nimg":b,className:d,style:o({},e,n),ref:i.useCallback(function(a){v(a),(null==a?void 0:a.complete)&&B(a,h,b,g,t,u)},[v,h,b,g,t,u,]),onLoad:function(a){B(a.currentTarget,h,b,g,t,u),x&&x(a)},onError:function(a){"blur"===g&&u(!0),z&&z(a)}})),(f||"blur"===g)&&i.default.createElement("noscript",null,i.default.createElement("img",Object.assign({},j,y({config:p,src:h,unoptimized:r,layout:b,width:l,quality:m,sizes:w,loader:s}),{decoding:"async","data-nimg":b,style:e,className:d,loading:c}))))};function D(a){return"/"===a[0]?a.slice(1):a}("function"==typeof a.default||"object"==typeof a.default&&null!==a.default)&& void 0===a.default.__esModule&&(Object.defineProperty(a.default,"__esModule",{value:!0}),Object.assign(a.default,a),e.exports=a.default)},7190:function(c,a,b){"use strict";var d=b(4941).Z;Object.defineProperty(a,"__esModule",{value:!0}),a.useIntersection=function(a){var j=a.rootRef,k=a.rootMargin,l=a.disabled||!g,p=e.useRef(),b=d(e.useState(!1),2),c=b[0],q=b[1],i=d(e.useState(null),2),m=i[0],n=i[1];e.useEffect(function(){if(g){if(p.current&&(p.current(),p.current=void 0),!l&&!c)return m&&m.tagName&&(p.current=h(m,function(a){return a&&q(a)},{root:null==j?void 0:j.current,rootMargin:k})),function(){null==p.current||p.current(),p.current=void 0}}else if(!c){var a=f.requestIdleCallback(function(){return q(!0)});return function(){return f.cancelIdleCallback(a)}}},[m,l,k,j,c]);var o=e.useCallback(function(){q(!1)},[]);return[n,c,o]};var e=b(7294),f=b(9311),g="function"==typeof IntersectionObserver;function h(b,c,d){var a=k(d),g=a.id,e=a.observer,f=a.elements;return f.set(b,c),e.observe(b),function(){if(f.delete(b),e.unobserve(b),0===f.size){e.disconnect(),i.delete(g);var a=j.findIndex(function(a){return a.root===g.root&&a.margin===g.margin});a> -1&&j.splice(a,1)}}}var i=new Map,j=[];function k(b){var a,c={root:b.root||null,margin:b.rootMargin||""},d=j.find(function(a){return a.root===c.root&&a.margin===c.margin});if(d&&(a=i.get(d)))return a;var e=new Map,f=new IntersectionObserver(function(a){a.forEach(function(a){var b=e.get(a.target),c=a.isIntersecting||a.intersectionRatio>0;b&&c&&b(c)})},b);return a={id:c,observer:f,elements:e},j.push(c),i.set(c,a),a}("function"==typeof a.default||"object"==typeof a.default&&null!==a.default)&& void 0===a.default.__esModule&&(Object.defineProperty(a.default,"__esModule",{value:!0}),Object.assign(a.default,a),c.exports=a.default)},7663:function(a){!function(){var d={308:function(c){var e,f,g,a=c.exports={};function h(){throw Error("setTimeout has not been defined")}function i(){throw Error("clearTimeout has not been defined")}function j(a){if(e===setTimeout)return setTimeout(a,0);if((e===h||!e)&&setTimeout)return e=setTimeout,setTimeout(a,0);try{return e(a,0)}catch(b){try{return e.call(null,a,0)}catch(c){return e.call(this,a,0)}}}!function(){try{e="function"==typeof setTimeout?setTimeout:h}catch(a){e=h}try{f="function"==typeof clearTimeout?clearTimeout:i}catch(b){f=i}}();var k=[],l=!1,m=-1;function n(){l&&g&&(l=!1,g.length?k=g.concat(k):m=-1,k.length&&o())}function o(){if(!l){var b=j(n);l=!0;for(var a=k.length;a;){for(g=k,k=[];++m<a;)g&&g[m].run();m=-1,a=k.length}g=null,l=!1,function(a){if(f===clearTimeout)return clearTimeout(a);if((f===i||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(a);try{f(a)}catch(b){try{return f.call(null,a)}catch(c){return f.call(this,a)}}}(b)}}function d(a,b){this.fun=a,this.array=b}function b(){}a.nextTick=function(c){var b=Array(arguments.length-1);if(arguments.length>1)for(var a=1;a<arguments.length;a++)b[a-1]=arguments[a];k.push(new d(c,b)),1!==k.length||l||j(o)},d.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=b,a.addListener=b,a.once=b,a.off=b,a.removeListener=b,a.removeAllListeners=b,a.emit=b,a.prependListener=b,a.prependOnceListener=b,a.listeners=function(a){return[]},a.binding=function(a){throw Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(a){throw Error("process.chdir is not supported")},a.umask=function(){return 0}}},e={};function b(a){var f=e[a];if(void 0!==f)return f.exports;var c=e[a]={exports:{}},g=!0;try{d[a](c,c.exports,b),g=!1}finally{g&&delete e[a]}return c.exports}b.ab="//";var c=b(308);a.exports=c}()},9008:function(a,c,b){a.exports=b(5443)},5675:function(a,c,b){a.exports=b(8045)},3807:function(a){"use strict";var b=a.exports;a.exports.isNumber=function(a){return"number"==typeof a},a.exports.findMin=function(a){if(0===a.length)return 1/0;for(var b=a[0],c=1;c<a.length;c++)b=Math.min(b,a[c]);return b},a.exports.findMax=function(a){if(0===a.length)return-1/0;for(var b=a[0],c=1;c<a.length;c++)b=Math.max(b,a[c]);return b},a.exports.findMinMulti=function(a){for(var c=b.findMin(a[0]),d=1;d<a.length;d++)c=Math.min(c,b.findMin(a[d]));return c},a.exports.findMaxMulti=function(a){for(var c=b.findMax(a[0]),d=1;d<a.length;d++)c=Math.max(c,b.findMax(a[d]));return c},a.exports.inside=function(b,c,a){return b<=a&&a<=c}},3843:function(a,c,b){"use strict";var d=Math.log(2),e=a.exports,f=b(3807);function g(a){return 1-Math.abs(a)}a.exports.getUnifiedMinMax=function(a,b){return e.getUnifiedMinMaxMulti([a],b)},a.exports.getUnifiedMinMaxMulti=function(d,a){a=a||{};var e=!1,g=!1,h=f.isNumber(a.width)?a.width:2,j=f.isNumber(a.size)?a.size:50,b=f.isNumber(a.min)?a.min:(e=!0,f.findMinMulti(d)),c=f.isNumber(a.max)?a.max:(g=!0,f.findMaxMulti(d)),k=c-b,i=k/(j-1);return e&&(b-=2*h*i),g&&(c+=2*h*i),{min:b,max:c}},a.exports.create=function(c,a){if(a=a||{},!c||0===c.length)return[];var h=f.isNumber(a.size)?a.size:50,b=f.isNumber(a.width)?a.width:2,l=e.getUnifiedMinMax(c,{size:h,width:b,min:a.min,max:a.max}),i=l.min,m=l.max-i,n=m/(h-1);if(0===m)return[{x:i,y:1}];for(var d=[],j=0;j<h;j++)d.push({x:i+j*n,y:0});var k=function f(e,b){for(var c={},d=0,a=-b;a<=b;a++)d+=e(a/b),c[a]=d;return c}(g,b),q=k[b],r=k[b-1]-k[b-2],o=0;c.forEach(function(l){var m,a=Math.floor(((m=l)-i)/n);if(!(a+b<0)&&!(a-b>=d.length)){var h=a,e=Math.min(a+b,d.length-1),g=Math.max(a-b,0)-(a-b),p=k[-b-1+g]||0,s=k[-b-1+(a+b-e)]||0,c=q/(q-p-s);g>0&&(o+=c*(g-1)*r);var j=Math.max(0,a-b+1);f.inside(0,d.length-1,j)&&(d[j].y+=1*c*r),f.inside(0,d.length-1,h+1)&&(d[h+1].y-=2*c*r),f.inside(0,d.length-1,e+1)&&(d[e+1].y+=1*c*r)}});var s=o,t=0,p=0;return d.forEach(function(a){t+=a.y,s+=t,a.y=s,p+=s}),p>0&&d.forEach(function(a){a.y/=p}),d},a.exports.getExpectedValueFromPdf=function(a){if(a&&0!==a.length){var b=0;return a.forEach(function(a){b+=a.x*a.y}),b}},a.exports.getXWithLeftTailArea=function(a,e){if(a&&0!==a.length){for(var c=0,d=0,b=0;b<a.length&&(d=b,c+=a[b].y,!(c>=e));b++);return a[d].x}},a.exports.getPerplexity=function(a){if(a&&0!==a.length){var b=0;return a.forEach(function(a){var c=Math.log(a.y);isFinite(c)&&(b+=a.y*c)}),Math.pow(2,b=-b/d)}}},5168:function(b,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.SensorTabIndex=a.SensorClassName=a.SizeSensorId=void 0,a.SizeSensorId="size-sensor-id",a.SensorClassName="size-sensor-object",a.SensorTabIndex="-1"},2177:function(b,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,a.default=function(a){var b=arguments.length>1&& void 0!==arguments[1]?arguments[1]:60,c=null;return function(){for(var g=this,e=arguments.length,f=Array(e),d=0;d<e;d++)f[d]=arguments[d];clearTimeout(c),c=setTimeout(function(){a.apply(g,f)},b)}}},6340:function(b,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var c=1;a.default=function(){return"".concat(c++)}},8587:function(c,a,b){"use strict";a.ak=void 0;var d=b(2955);a.ak=function(a,b){var c=(0,d.getSensor)(a);return c.bind(b),function(){c.unbind(b)}}},2955:function(d,a,c){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.removeSensor=a.getSensor=void 0;var b,e=(b=c(6340),b&&b.__esModule?b:{default:b}),f=c(2578),g=c(5168),h={};a.getSensor=function(a){var b=a.getAttribute(g.SizeSensorId);if(b&&h[b])return h[b];var c=(0,e.default)();a.setAttribute(g.SizeSensorId,c);var d=(0,f.createSensor)(a);return h[c]=d,d},a.removeSensor=function(a){var b=a.element.getAttribute(g.SizeSensorId);a.element.removeAttribute(g.SizeSensorId),a.destroy(),b&&h[b]&&delete h[b]}},2578:function(f,a,b){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.createSensor=void 0;var c=b(7643),d=b(1743),e="undefined"!=typeof ResizeObserver?d.createSensor:c.createSensor;a.createSensor=e},7643:function(d,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.createSensor=void 0;var a,e=(a=c(2177),a&&a.__esModule?a:{default:a}),f=c(5168);b.createSensor=function(a){var c=void 0,d=[],g=function(){"static"===getComputedStyle(a).position&&(a.style.position="relative");var b=document.createElement("object");return b.onload=function(){b.contentDocument.defaultView.addEventListener("resize",h),h()},b.style.display="block",b.style.position="absolute",b.style.top="0",b.style.left="0",b.style.height="100%",b.style.width="100%",b.style.overflow="hidden",b.style.pointerEvents="none",b.style.zIndex="-1",b.style.opacity="0",b.setAttribute("class",f.SensorClassName),b.setAttribute("tabindex",f.SensorTabIndex),b.type="text/html",a.appendChild(b),b.data="about:blank",b},h=(0,e.default)(function(){d.forEach(function(b){b(a)})}),b=function(){c&&c.parentNode&&(c.contentDocument&&c.contentDocument.defaultView.removeEventListener("resize",h),c.parentNode.removeChild(c),c=void 0,d=[])};return{element:a,bind:function(a){c||(c=g()),-1===d.indexOf(a)&&d.push(a)},destroy:b,unbind:function(e){var a=d.indexOf(e);-1!==a&&d.splice(a,1),0===d.length&&c&&b()}}}},1743:function(d,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.createSensor=void 0;var a,e=(a=c(2177),a&&a.__esModule?a:{default:a});b.createSensor=function(a){var c=void 0,d=[],f=(0,e.default)(function(){d.forEach(function(b){b(a)})}),g=function(){var b=new ResizeObserver(f);return b.observe(a),f(),b},b=function(){c.disconnect(),d=[],c=void 0};return{element:a,bind:function(a){c||(c=g()),-1===d.indexOf(a)&&d.push(a)},destroy:b,unbind:function(e){var a=d.indexOf(e);-1!==a&&d.splice(a,1),0===d.length&&c&&b()}}}}}])